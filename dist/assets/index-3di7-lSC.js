var k4=Object.defineProperty;var j4=(n,t,e)=>t in n?k4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var we=(n,t,e)=>j4(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function N0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CS={exports:{}},$m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function X4(){if(Dw)return $m;Dw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return $m.Fragment=t,$m.jsx=e,$m.jsxs=e,$m}var Nw;function q4(){return Nw||(Nw=1,CS.exports=X4()),CS.exports}var J=q4(),RS={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function W4(){if(Lw)return Je;Lw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function E(G,nt,Et){this.props=G,this.context=nt,this.refs=C,this.updater=Et||_}E.prototype.isReactComponent={},E.prototype.setState=function(G,nt){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,nt,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function M(){}M.prototype=E.prototype;function R(G,nt,Et){this.props=G,this.context=nt,this.refs=C,this.updater=Et||_}var D=R.prototype=new M;D.constructor=R,T(D,E.prototype),D.isPureReactComponent=!0;var L=Array.isArray,B={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function I(G,nt,Et,Ot,it,Tt){return Et=Tt.ref,{$$typeof:n,type:G,key:nt,ref:Et!==void 0?Et:null,props:Tt}}function V(G,nt){return I(G.type,nt,void 0,void 0,void 0,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function z(G){var nt={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Et){return nt[Et]})}var X=/\/+/g;function dt(G,nt){return typeof G=="object"&&G!==null&&G.key!=null?z(""+G.key):nt.toString(36)}function st(){}function at(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(st,st):(G.status="pending",G.then(function(nt){G.status==="pending"&&(G.status="fulfilled",G.value=nt)},function(nt){G.status==="pending"&&(G.status="rejected",G.reason=nt)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function mt(G,nt,Et,Ot,it){var Tt=typeof G;(Tt==="undefined"||Tt==="boolean")&&(G=null);var Ut=!1;if(G===null)Ut=!0;else switch(Tt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(G.$$typeof){case n:case t:Ut=!0;break;case m:return Ut=G._init,mt(Ut(G._payload),nt,Et,Ot,it)}}if(Ut)return it=it(G),Ut=Ot===""?"."+dt(G,0):Ot,L(it)?(Et="",Ut!=null&&(Et=Ut.replace(X,"$&/")+"/"),mt(it,nt,Et,"",function(ye){return ye})):it!=null&&(U(it)&&(it=V(it,Et+(it.key==null||G&&G.key===it.key?"":(""+it.key).replace(X,"$&/")+"/")+Ut)),nt.push(it)),1;Ut=0;var It=Ot===""?".":Ot+":";if(L(G))for(var kt=0;kt<G.length;kt++)Ot=G[kt],Tt=It+dt(Ot,kt),Ut+=mt(Ot,nt,Et,Tt,it);else if(kt=x(G),typeof kt=="function")for(G=kt.call(G),kt=0;!(Ot=G.next()).done;)Ot=Ot.value,Tt=It+dt(Ot,kt++),Ut+=mt(Ot,nt,Et,Tt,it);else if(Tt==="object"){if(typeof G.then=="function")return mt(at(G),nt,Et,Ot,it);throw nt=String(G),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function W(G,nt,Et){if(G==null)return G;var Ot=[],it=0;return mt(G,Ot,"","",function(Tt){return nt.call(Et,Tt,it++)}),Ot}function et(G){if(G._status===-1){var nt=G._result;nt=nt(),nt.then(function(Et){(G._status===0||G._status===-1)&&(G._status=1,G._result=Et)},function(Et){(G._status===0||G._status===-1)&&(G._status=2,G._result=Et)}),G._status===-1&&(G._status=0,G._result=nt)}if(G._status===1)return G._result.default;throw G._result}var Q=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function vt(){}return Je.Children={map:W,forEach:function(G,nt,Et){W(G,function(){nt.apply(this,arguments)},Et)},count:function(G){var nt=0;return W(G,function(){nt++}),nt},toArray:function(G){return W(G,function(nt){return nt})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Je.Component=E,Je.Fragment=e,Je.Profiler=s,Je.PureComponent=R,Je.StrictMode=i,Je.Suspense=h,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Je.act=function(){throw Error("act(...) is not supported in production builds of React.")},Je.cache=function(G){return function(){return G.apply(null,arguments)}},Je.cloneElement=function(G,nt,Et){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ot=T({},G.props),it=G.key,Tt=void 0;if(nt!=null)for(Ut in nt.ref!==void 0&&(Tt=void 0),nt.key!==void 0&&(it=""+nt.key),nt)!P.call(nt,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&nt.ref===void 0||(Ot[Ut]=nt[Ut]);var Ut=arguments.length-2;if(Ut===1)Ot.children=Et;else if(1<Ut){for(var It=Array(Ut),kt=0;kt<Ut;kt++)It[kt]=arguments[kt+2];Ot.children=It}return I(G.type,it,void 0,void 0,Tt,Ot)},Je.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:r,_context:G},G},Je.createElement=function(G,nt,Et){var Ot,it={},Tt=null;if(nt!=null)for(Ot in nt.key!==void 0&&(Tt=""+nt.key),nt)P.call(nt,Ot)&&Ot!=="key"&&Ot!=="__self"&&Ot!=="__source"&&(it[Ot]=nt[Ot]);var Ut=arguments.length-2;if(Ut===1)it.children=Et;else if(1<Ut){for(var It=Array(Ut),kt=0;kt<Ut;kt++)It[kt]=arguments[kt+2];it.children=It}if(G&&G.defaultProps)for(Ot in Ut=G.defaultProps,Ut)it[Ot]===void 0&&(it[Ot]=Ut[Ot]);return I(G,Tt,void 0,void 0,null,it)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(G){return{$$typeof:c,render:G}},Je.isValidElement=U,Je.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:et}},Je.memo=function(G,nt){return{$$typeof:p,type:G,compare:nt===void 0?null:nt}},Je.startTransition=function(G){var nt=B.T,Et={};B.T=Et;try{var Ot=G(),it=B.S;it!==null&&it(Et,Ot),typeof Ot=="object"&&Ot!==null&&typeof Ot.then=="function"&&Ot.then(vt,Q)}catch(Tt){Q(Tt)}finally{B.T=nt}},Je.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Je.use=function(G){return B.H.use(G)},Je.useActionState=function(G,nt,Et){return B.H.useActionState(G,nt,Et)},Je.useCallback=function(G,nt){return B.H.useCallback(G,nt)},Je.useContext=function(G){return B.H.useContext(G)},Je.useDebugValue=function(){},Je.useDeferredValue=function(G,nt){return B.H.useDeferredValue(G,nt)},Je.useEffect=function(G,nt){return B.H.useEffect(G,nt)},Je.useId=function(){return B.H.useId()},Je.useImperativeHandle=function(G,nt,Et){return B.H.useImperativeHandle(G,nt,Et)},Je.useInsertionEffect=function(G,nt){return B.H.useInsertionEffect(G,nt)},Je.useLayoutEffect=function(G,nt){return B.H.useLayoutEffect(G,nt)},Je.useMemo=function(G,nt){return B.H.useMemo(G,nt)},Je.useOptimistic=function(G,nt){return B.H.useOptimistic(G,nt)},Je.useReducer=function(G,nt,Et){return B.H.useReducer(G,nt,Et)},Je.useRef=function(G){return B.H.useRef(G)},Je.useState=function(G){return B.H.useState(G)},Je.useSyncExternalStore=function(G,nt,Et){return B.H.useSyncExternalStore(G,nt,Et)},Je.useTransition=function(){return B.H.useTransition()},Je.version="19.0.0",Je}var Uw;function Ep(){return Uw||(Uw=1,RS.exports=W4()),RS.exports}var K=Ep();const $g=N0(K);var DS={exports:{}},Jm={},NS={exports:{}},LS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function Y4(){return Ow||(Ow=1,function(n){function t(W,et){var Q=W.length;W.push(et);t:for(;0<Q;){var vt=Q-1>>>1,G=W[vt];if(0<s(G,et))W[vt]=et,W[Q]=G,Q=vt;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var et=W[0],Q=W.pop();if(Q!==et){W[0]=Q;t:for(var vt=0,G=W.length,nt=G>>>1;vt<nt;){var Et=2*(vt+1)-1,Ot=W[Et],it=Et+1,Tt=W[it];if(0>s(Ot,Q))it<G&&0>s(Tt,Ot)?(W[vt]=Tt,W[it]=Q,vt=it):(W[vt]=Ot,W[Et]=Q,vt=Et);else if(it<G&&0>s(Tt,Q))W[vt]=Tt,W[it]=Q,vt=it;else break t}}return et}function s(W,et){var Q=W.sortIndex-et.sortIndex;return Q!==0?Q:W.id-et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var h=[],p=[],m=1,v=null,x=3,_=!1,T=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(W){for(var et=e(p);et!==null;){if(et.callback===null)i(p);else if(et.startTime<=W)i(p),et.sortIndex=et.expirationTime,t(h,et);else break;et=e(p)}}function L(W){if(C=!1,D(W),!T)if(e(h)!==null)T=!0,at();else{var et=e(p);et!==null&&mt(L,et.startTime-W)}}var B=!1,P=-1,I=5,V=-1;function U(){return!(n.unstable_now()-V<I)}function z(){if(B){var W=n.unstable_now();V=W;var et=!0;try{t:{T=!1,C&&(C=!1,M(P),P=-1),_=!0;var Q=x;try{e:{for(D(W),v=e(h);v!==null&&!(v.expirationTime>W&&U());){var vt=v.callback;if(typeof vt=="function"){v.callback=null,x=v.priorityLevel;var G=vt(v.expirationTime<=W);if(W=n.unstable_now(),typeof G=="function"){v.callback=G,D(W),et=!0;break e}v===e(h)&&i(h),D(W)}else i(h);v=e(h)}if(v!==null)et=!0;else{var nt=e(p);nt!==null&&mt(L,nt.startTime-W),et=!1}}break t}finally{v=null,x=Q,_=!1}et=void 0}}finally{et?X():B=!1}}}var X;if(typeof R=="function")X=function(){R(z)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,st=dt.port2;dt.port1.onmessage=z,X=function(){st.postMessage(null)}}else X=function(){E(z,0)};function at(){B||(B=!0,X())}function mt(W,et){P=E(function(){W(n.unstable_now())},et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,at())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(W){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var Q=x;x=et;try{return W()}finally{x=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,et){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=x;x=W;try{return et()}finally{x=Q}},n.unstable_scheduleCallback=function(W,et,Q){var vt=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?vt+Q:vt):Q=vt,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Q+G,W={id:m++,callback:et,priorityLevel:W,startTime:Q,expirationTime:G,sortIndex:-1},Q>vt?(W.sortIndex=Q,t(p,W),e(h)===null&&W===e(p)&&(C?(M(P),P=-1):C=!0,mt(L,Q-vt))):(W.sortIndex=G,t(h,W),T||_||(T=!0,at())),W},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(W){var et=x;return function(){var Q=x;x=et;try{return W.apply(this,arguments)}finally{x=Q}}}}(LS)),LS}var Pw;function PT(){return Pw||(Pw=1,NS.exports=Y4()),NS.exports}var US={exports:{}},js={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function Z4(){if(zw)return js;zw=1;var n=Ep();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:p,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,js.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return r(h,p,null,m)},js.flushSync=function(h){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=p,i.p=m,i.d.f()}},js.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},js.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},js.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,v=c(m,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},js.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},js.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=c(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},js.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=c(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},js.requestFormReset=function(h){i.d.r(h)},js.unstable_batchedUpdates=function(h,p){return h(p)},js.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},js.useFormStatus=function(){return o.H.useHostTransitionStatus()},js.version="19.0.0",js}var Bw;function K4(){if(Bw)return US.exports;Bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),US.exports=Z4(),US.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function Q4(){if(Vw)return Jm;Vw=1;var n=PT(),t=Ep(),e=K4();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var I=Symbol.for("react.client.reference");function V(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===I?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case m:return"Profiler";case p:return"StrictMode";case C:return"Suspense";case E:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Provider";case x:return(a._context.displayName||"Context")+".Consumer";case T:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:V(a.type)||"Memo";case R:l=a._payload,a=a._init;try{return V(a(l))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,X,dt;function st(a){if(X===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);X=l&&l[1]||"",dt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+a+dt}var at=!1;function mt(a,l){if(!a||at)return"";at=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Ct){var bt=Ct}Reflect.construct(a,[],jt)}else{try{jt.call()}catch(Ct){bt=Ct}a.call(jt.prototype)}}else{try{throw Error()}catch(Ct){bt=Ct}(jt=a())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(Ct){if(Ct&&bt&&typeof Ct.stack=="string")return[Ct.stack,bt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),O=A[0],k=A[1];if(O&&k){var $=O.split(`
`),ct=k.split(`
`);for(S=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;S<ct.length&&!ct[S].includes("DetermineComponentFrameRoot");)S++;if(g===$.length||S===ct.length)for(g=$.length-1,S=ct.length-1;1<=g&&0<=S&&$[g]!==ct[S];)S--;for(;1<=g&&0<=S;g--,S--)if($[g]!==ct[S]){if(g!==1||S!==1)do if(g--,S--,0>S||$[g]!==ct[S]){var Lt=`
`+$[g].replace(" at new "," at ");return a.displayName&&Lt.includes("<anonymous>")&&(Lt=Lt.replace("<anonymous>",a.displayName)),Lt}while(1<=g&&0<=S);break}}}finally{at=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?st(d):""}function W(a){switch(a.tag){case 26:case 27:case 5:return st(a.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return a=mt(a.type,!1),a;case 11:return a=mt(a.type.render,!1),a;case 1:return a=mt(a.type,!0),a;default:return""}}function et(a){try{var l="";do l+=W(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Q(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,l.flags&4098&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function vt(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function G(a){if(Q(a)!==a)throw Error(i(188))}function nt(a){var l=a.alternate;if(!l){if(l=Q(a),l===null)throw Error(i(188));return l!==a?null:a}for(var d=a,g=l;;){var S=d.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){d=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===d)return G(S),a;if(A===g)return G(S),l;A=A.sibling}throw Error(i(188))}if(d.return!==g.return)d=S,g=A;else{for(var O=!1,k=S.child;k;){if(k===d){O=!0,d=S,g=A;break}if(k===g){O=!0,g=S,d=A;break}k=k.sibling}if(!O){for(k=A.child;k;){if(k===d){O=!0,d=A,g=S;break}if(k===g){O=!0,g=A,d=S;break}k=k.sibling}if(!O)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:l}function Et(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=Et(a),l!==null)return l;a=a.sibling}return null}var Ot=Array.isArray,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},Ut=[],It=-1;function kt(a){return{current:a}}function ye(a){0>It||(a.current=Ut[It],Ut[It]=null,It--)}function qt(a,l){It++,Ut[It]=a.current,a.current=l}var le=kt(null),Pt=kt(null),Rt=kt(null),Y=kt(null);function ue(a,l){switch(qt(Rt,l),qt(Pt,a),qt(le,null),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?aw(l):0;break;default:if(a=a===8?l.parentNode:l,l=a.tagName,a=a.namespaceURI)a=aw(a),l=rw(a,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ye(le),qt(le,l)}function Ht(){ye(le),ye(Pt),ye(Rt)}function $t(a){a.memoizedState!==null&&qt(Y,a);var l=le.current,d=rw(l,a.type);l!==d&&(qt(Pt,a),qt(le,d))}function Kt(a){Pt.current===a&&(ye(le),ye(Pt)),Y.current===a&&(ye(Y),Wm._currentValue=Tt)}var Se=Object.prototype.hasOwnProperty,Qt=n.unstable_scheduleCallback,q=n.unstable_cancelCallback,F=n.unstable_shouldYield,yt=n.unstable_requestPaint,wt=n.unstable_now,Ft=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,ce=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,he=n.unstable_LowPriority,Ze=n.unstable_IdlePriority,Yt=n.log,pe=n.unstable_setDisableYieldValue,xe=null,ve=null;function de(a){if(ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(xe,a,void 0,(a.current.flags&128)===128)}catch{}}function He(a){if(typeof Yt=="function"&&pe(a),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(xe,a)}catch{}}var Me=Math.clz32?Math.clz32:ie,Sn=Math.log,lt=Math.LN2;function ie(a){return a>>>=0,a===0?32:31-(Sn(a)/lt|0)|0}var At=128,zt=4194304;function te(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ne(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,S=a.suspendedLanes,A=a.pingedLanes,O=a.warmLanes;a=a.finishedLanes!==0;var k=d&134217727;return k!==0?(d=k&~S,d!==0?g=te(d):(A&=k,A!==0?g=te(A):a||(O=k&~O,O!==0&&(g=te(O))))):(k=d&~S,k!==0?g=te(k):A!==0?g=te(A):a||(O=d&~O,O!==0&&(g=te(O)))),g===0?0:l!==0&&l!==g&&!(l&S)&&(S=g&-g,O=l&-l,S>=O||S===32&&(O&4194176)!==0)?l:g}function Le(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Bn(a,l){switch(a){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var a=At;return At<<=1,!(At&4194176)&&(At=128),a}function dn(){var a=zt;return zt<<=1,!(zt&62914560)&&(zt=4194304),a}function is(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ss(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Vu(a,l,d,g,S,A){var O=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var k=a.entanglements,$=a.expirationTimes,ct=a.hiddenUpdates;for(d=O&~d;0<d;){var Lt=31-Me(d),jt=1<<Lt;k[Lt]=0,$[Lt]=-1;var bt=ct[Lt];if(bt!==null)for(ct[Lt]=null,Lt=0;Lt<bt.length;Lt++){var Ct=bt[Lt];Ct!==null&&(Ct.lane&=-536870913)}d&=~jt}g!==0&&Al(a,g,0),A!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=A&~(O&~l))}function Al(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Me(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194218}function Sa(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Me(d),S=1<<g;S&l|a[g]&l&&(a[g]|=l),d&=~S}}function ea(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function bc(){var a=it.p;return a!==0?a:(a=window.event,a===void 0?32:Tw(a.type))}function ja(a,l){var d=it.p;try{return it.p=a,l()}finally{it.p=d}}var oi=Math.random().toString(36).slice(2),ni="__reactFiber$"+oi,Ke="__reactProps$"+oi,Xa="__reactContainer$"+oi,Ro="__reactEvents$"+oi,Ah="__reactListeners$"+oi,wh="__reactHandles$"+oi,Ch="__reactResources$"+oi,Lr="__reactMarker$"+oi;function wl(a){delete a[ni],delete a[Ke],delete a[Ro],delete a[Ah],delete a[wh]}function qa(a){var l=a[ni];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Xa]||d[ni]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=cw(a);a!==null;){if(d=a[ni])return d;a=cw(a)}return l}a=d,d=a.parentNode}return null}function H(a){if(a=a[ni]||a[Xa]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function rt(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function _t(a){var l=a[Ch];return l||(l=a[Ch]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gt(a){a[Lr]=!0}var ut=new Set,Gt={};function Jt(a,l){ae(a,l),ae(a+"Capture",l)}function ae(a,l){for(Gt[a]=l,a=0;a<l.length;a++)ut.add(l[a])}var se=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ue=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},Ae={};function ln(a){return Se.call(Ae,a)?!0:Se.call(Oe,a)?!1:Ue.test(a)?Ae[a]=!0:(Oe[a]=!0,!1)}function cn(a,l,d){if(ln(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Gn(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function mn(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}function Ie(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ce(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xi(a){var l=Ce(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,A=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return S.call(this)},set:function(O){g=""+O,A.call(this,O)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function un(a){a._valueTracker||(a._valueTracker=xi(a))}function Ss(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=Ce(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function na(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var as=/[\n"\\]/g;function Li(a){return a.replace(as,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Rn(a,l,d,g,S,A,O,k){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),l!=null?O==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ie(l)):a.value!==""+Ie(l)&&(a.value=""+Ie(l)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),l!=null?qi(a,O,Ie(l)):d!=null?qi(a,O,Ie(d)):g!=null&&a.removeAttribute("value"),S==null&&A!=null&&(a.defaultChecked=!!A),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+Ie(k):a.removeAttribute("name")}function rs(a,l,d,g,S,A,O,k){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.type=A),l!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||l!=null))return;d=d!=null?""+Ie(d):"",l=l!=null?""+Ie(l):d,k||l===a.value||(a.value=l),a.defaultValue=l}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=k?a.checked:!!g,a.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O)}function qi(a,l,d){l==="number"&&na(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ii(a,l,d,g){if(a=a.options,l){l={};for(var S=0;S<d.length;S++)l["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=l.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Ie(d),l=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,g&&(a[S].defaultSelected=!0);return}l!==null||a[S].disabled||(l=a[S])}l!==null&&(l.selected=!0)}}function Vi(a,l,d){if(l!=null&&(l=""+Ie(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Ie(d):""}function Wa(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(i(92));if(Ot(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Ie(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function bs(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||Rh.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Hp(a,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var S in l)g=l[S],l.hasOwnProperty(S)&&d[S]!==g&&Iu(a,S,g)}else for(var A in l)l.hasOwnProperty(A)&&Iu(a,A,l[A])}function Fu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ev=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hu(a){return nv.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Dh=null;function Gu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cl=null,Rl=null;function Nh(a){var l=H(a);if(l&&(a=l.stateNode)){var d=a[Ke]||null;t:switch(a=l.stateNode,l.type){case"input":if(Rn(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Li(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var S=g[Ke]||null;if(!S)throw Error(i(90));Rn(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&Ss(g)}break t;case"textarea":Vi(a,d.value,d.defaultValue);break t;case"select":l=d.value,l!=null&&ii(a,!!d.multiple,l,!1)}}}var Lh=!1;function Gp(a,l,d){if(Lh)return a(l,d);Lh=!0;try{var g=a(l);return g}finally{if(Lh=!1,(Cl!==null||Rl!==null)&&(Ql(),Cl&&(l=Cl,a=Rl,Rl=Cl=null,Nh(l),a)))for(l=0;l<a.length;l++)Nh(a[l])}}function Mc(a,l){var d=a.stateNode;if(d===null)return null;var g=d[Ke]||null;if(g===null)return null;d=g[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var ku=!1;if(se)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){ku=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{ku=!1}var Ur=null,kp=null,Uh=null;function jp(){if(Uh)return Uh;var a,l=kp,d=l.length,g,S="value"in Ur?Ur.value:Ur.textContent,A=S.length;for(a=0;a<d&&l[a]===S[a];a++);var O=d-a;for(g=1;g<=O&&l[d-g]===S[A-g];g++);return Uh=S.slice(a,1<g?1-g:void 0)}function Do(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ec(){return!0}function ju(){return!1}function Ms(a){function l(d,g,S,A,O){this._reactName=d,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=O,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(d=a[k],this[k]=d?d(A):A[k]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ec:ju,this.isPropagationStopped=ju,this}return z(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),l}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Ms(No),wc=z({},No,{view:0,detail:0}),iv=Ms(wc),Or,Cc,Rc,Dc=z({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Rc&&(Rc&&a.type==="mousemove"?(Or=a.screenX-Rc.screenX,Cc=a.screenY-Rc.screenY):Cc=Or=0,Rc=a),Or)},movementY:function(a){return"movementY"in a?a.movementY:Cc}}),Xp=Ms(Dc),sv=z({},Dc,{dataTransfer:0}),W1=Ms(sv),Wi=z({},wc,{relatedTarget:0}),Oh=Ms(Wi),av=z({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=Ms(av),ov=z({},No,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lv=Ms(ov),Xu=z({},No,{data:0}),Ph=Ms(Xu),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=fv[a])?!!l[a]:!1}function qu(){return qp}var hv=z({},wc,{key:function(a){if(a.key){var l=cv[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Do(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?uv[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(a){return a.type==="keypress"?Do(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Do(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Wp=Ms(hv),Yp=z({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Ms(Yp),dv=z({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),Zp=Ms(dv),pv=z({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pr=Ms(pv),Kp=z({},Dc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Y1=Ms(Kp),mv=z({},No,{newState:0,oldState:0}),Lo=Ms(mv),zr=[9,13,27,32],Wu=se&&"CompositionEvent"in window,Dl=null;se&&"documentMode"in document&&(Dl=document.documentMode);var Yu=se&&"TextEvent"in window&&!Dl,Zu=se&&(!Wu||Dl&&8<Dl&&11>=Dl),Uo=" ",Yi=!1;function Ku(a,l){switch(a){case"keyup":return zr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Oo=!1;function Qu(a,l){switch(a){case"compositionend":return Qp(l);case"keypress":return l.which!==32?null:(Yi=!0,Uo);case"textInput":return a=l.data,a===Uo&&Yi?null:a;default:return null}}function $p(a,l){if(Oo)return a==="compositionend"||!Wu&&Ku(a,l)?(a=jp(),Uh=kp=Ur=null,Oo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Zu&&l.locale!=="ko"?null:l.data;default:return null}}var Bh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Bh[a.type]:l==="textarea"}function Os(a,l,d,g){Cl?Rl?Rl.push(g):Rl=[g]:Cl=g,l=my(l,"onChange"),0<l.length&&(d=new Ac("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Nc=null,Nl=null;function gv(a){tw(a,0)}function $u(a){var l=rt(a);if(Ss(l))return a}function Vh(a,l){if(a==="change")return l}var Ih=!1;if(se){var Fh;if(se){var Lc="oninput"in document;if(!Lc){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Lc=typeof Uc.oninput=="function"}Fh=Lc}else Fh=!1;Ih=Fh&&(!document.documentMode||9<document.documentMode)}function Kn(){Nc&&(Nc.detachEvent("onpropertychange",vv),Nl=Nc=null)}function vv(a){if(a.propertyName==="value"&&$u(Nl)){var l=[];Os(l,Nl,a,Gu(a)),Gp(gv,l)}}function Z1(a,l,d){a==="focusin"?(Kn(),Nc=l,Nl=d,Nc.attachEvent("onpropertychange",vv)):a==="focusout"&&Kn()}function yv(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $u(Nl)}function Ju(a,l){if(a==="click")return $u(l)}function Po(a,l){if(a==="input"||a==="change")return $u(l)}function xv(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ps=typeof Object.is=="function"?Object.is:xv;function Ya(a,l){if(Ps(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var S=d[g];if(!Se.call(l,S)||!Ps(a[S],l[S]))return!1}return!0}function zs(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tm(a,l){var d=zs(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=zs(d)}}function em(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?em(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function nm(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=na(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=na(a.document)}return l}function tf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function im(a,l){var d=nm(l);l=a.focusedElem;var g=a.selectionRange;if(d!==l&&l&&l.ownerDocument&&em(l.ownerDocument.documentElement,l)){if(g!==null&&tf(l)){if(a=g.start,d=g.end,d===void 0&&(d=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(d,l.value.length);else if(d=(a=l.ownerDocument||document)&&a.defaultView||window,d.getSelection){d=d.getSelection();var S=l.textContent.length,A=Math.min(g.start,S);g=g.end===void 0?A:Math.min(g.end,S),!d.extend&&A>g&&(S=g,g=A,A=S),S=tm(l,A);var O=tm(l,g);S&&O&&(d.rangeCount!==1||d.anchorNode!==S.node||d.anchorOffset!==S.offset||d.focusNode!==O.node||d.focusOffset!==O.offset)&&(a=a.createRange(),a.setStart(S.node,S.offset),d.removeAllRanges(),A>g?(d.addRange(a),d.extend(O.node,O.offset)):(a.setEnd(O.node,O.offset),d.addRange(a)))}}for(a=[],d=l;d=d.parentNode;)d.nodeType===1&&a.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)d=a[l],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Hh=se&&"documentMode"in document&&11>=document.documentMode,Ll=null,sm=null,Oc=null,Gh=!1;function ba(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Gh||Ll==null||Ll!==na(g)||(g=Ll,"selectionStart"in g&&tf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Oc&&Ya(Oc,g)||(Oc=g,g=my(sm,"onSelect"),0<g.length&&(l=new Ac("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Ll)))}function Br(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Ul={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},am={},kh={};se&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function _i(a){if(am[a])return am[a];if(!Ul[a])return a;var l=Ul[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in kh)return am[a]=l[d];return a}var rm=_i("animationend"),Bs=_i("animationiteration"),om=_i("animationstart"),Vr=_i("transitionrun"),Pc=_i("transitionstart"),zo=_i("transitioncancel"),jh=_i("transitionend"),Xh=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ma(a,l){Xh.set(a,l),Jt(l,[a])}var Zi=[],lr=0,Fr=0;function ef(){for(var a=lr,l=Fr=lr=0;l<a;){var d=Zi[l];Zi[l++]=null;var g=Zi[l];Zi[l++]=null;var S=Zi[l];Zi[l++]=null;var A=Zi[l];if(Zi[l++]=null,g!==null&&S!==null){var O=g.pending;O===null?S.next=S:(S.next=O.next,O.next=S),g.pending=S}A!==0&&sf(d,S,A)}}function nf(a,l,d,g){Zi[lr++]=a,Zi[lr++]=l,Zi[lr++]=d,Zi[lr++]=g,Fr|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Ol(a,l,d,g){return nf(a,l,d,g),af(a)}function Hr(a,l){return nf(a,null,null,l),af(a)}function sf(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var S=!1,A=a.return;A!==null;)A.childLanes|=d,g=A.alternate,g!==null&&(g.childLanes|=d),A.tag===22&&(a=A.stateNode,a===null||a._visibility&1||(S=!0)),a=A,A=A.return;S&&l!==null&&a.tag===3&&(A=a.stateNode,S=31-Me(d),A=A.hiddenUpdates,a=A[S],a===null?A[S]=[l]:a.push(l),l.lane=d|536870912)}function af(a){if(50<Ua)throw Ua=0,lo=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Bo={},qh=new WeakMap;function Vs(a,l){if(typeof a=="object"&&a!==null){var d=qh.get(a);return d!==void 0?d:(l={value:a,source:l,stack:et(l)},qh.set(a,l),l)}return{value:a,source:l,stack:et(l)}}var Pl=[],Vo=0,os=null,rf=0,kn=[],ia=0,Gr=null,cr=1,kr="";function Ts(a,l){Pl[Vo++]=rf,Pl[Vo++]=os,os=a,rf=l}function lm(a,l,d){kn[ia++]=cr,kn[ia++]=kr,kn[ia++]=Gr,Gr=a;var g=cr;a=kr;var S=32-Me(g)-1;g&=~(1<<S),d+=1;var A=32-Me(l)+S;if(30<A){var O=S-S%5;A=(g&(1<<O)-1).toString(32),g>>=O,S-=O,cr=1<<32-Me(l)+S|d<<S|g,kr=A+a}else cr=1<<A|d<<S|g,kr=a}function of(a){a.return!==null&&(Ts(a,1),lm(a,1,0))}function Io(a){for(;a===os;)os=Pl[--Vo],Pl[Vo]=null,rf=Pl[--Vo],Pl[Vo]=null;for(;a===Gr;)Gr=kn[--ia],kn[ia]=null,kr=kn[--ia],kn[ia]=null,cr=kn[--ia],kn[ia]=null}var ls=null,Ii=null,vn=!1,Ta=null,Ea=!1,lf=Error(i(519));function zl(a){var l=Error(i(418,""));throw ur(Vs(l,a)),lf}function _v(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[ni]=a,l[Ke]=g,d){case"dialog":xn("cancel",l),xn("close",l);break;case"iframe":case"object":case"embed":xn("load",l);break;case"video":case"audio":for(d=0;d<Gm.length;d++)xn(Gm[d],l);break;case"source":xn("error",l);break;case"img":case"image":case"link":xn("error",l),xn("load",l);break;case"details":xn("toggle",l);break;case"input":xn("invalid",l),rs(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),un(l);break;case"select":xn("invalid",l);break;case"textarea":xn("invalid",l),Wa(l,g.value,g.defaultValue,g.children),un(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||sw(l.textContent,d)?(g.popover!=null&&(xn("beforetoggle",l),xn("toggle",l)),g.onScroll!=null&&xn("scroll",l),g.onScrollEnd!=null&&xn("scrollend",l),g.onClick!=null&&(l.onclick=gy),l=!0):l=!1,l||zl(a)}function Sv(a){for(ls=a.return;ls;)switch(ls.tag){case 3:case 27:Ea=!0;return;case 5:case 13:Ea=!1;return;default:ls=ls.return}}function zc(a){if(a!==ls)return!1;if(!vn)return Sv(a),vn=!0,!1;var l=!1,d;if((d=a.tag!==3&&a.tag!==27)&&((d=a.tag===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||mS(a.type,a.memoizedProps)),d=!d),d&&(l=!0),l&&Ii&&zl(a),Sv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){Ii=uo(a.nextSibling);break t}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}Ii=null}}else Ii=ls?uo(a.stateNode.nextSibling):null;return!0}function Bc(){Ii=ls=null,vn=!1}function ur(a){Ta===null?Ta=[a]:Ta.push(a)}var Fo=Error(i(460)),cm=Error(i(474)),Wh={then:function(){}};function bv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function cf(){}function Ho(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(cf,cf),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===Fo?Error(i(483)):a;default:if(typeof l.status=="string")l.then(cf,cf);else{if(a=On,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=g}},function(g){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===Fo?Error(i(483)):a}throw Vc=l,Fo}}var Vc=null;function wn(){if(Vc===null)throw Error(i(459));var a=Vc;return Vc=null,a}var Go=null,uf=0;function ff(a){var l=uf;return uf+=1,Go===null&&(Go=[]),Ho(Go,a,l)}function hf(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Yh(a,l){throw l.$$typeof===r?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Mv(a){var l=a._init;return l(a._payload)}function Tv(a){function l(ht,ot){if(a){var xt=ht.deletions;xt===null?(ht.deletions=[ot],ht.flags|=16):xt.push(ot)}}function d(ht,ot){if(!a)return null;for(;ot!==null;)l(ht,ot),ot=ot.sibling;return null}function g(ht){for(var ot=new Map;ht!==null;)ht.key!==null?ot.set(ht.key,ht):ot.set(ht.index,ht),ht=ht.sibling;return ot}function S(ht,ot){return ht=Cs(ht,ot),ht.index=0,ht.sibling=null,ht}function A(ht,ot,xt){return ht.index=xt,a?(xt=ht.alternate,xt!==null?(xt=xt.index,xt<ot?(ht.flags|=33554434,ot):xt):(ht.flags|=33554434,ot)):(ht.flags|=1048576,ot)}function O(ht){return a&&ht.alternate===null&&(ht.flags|=33554434),ht}function k(ht,ot,xt,Bt){return ot===null||ot.tag!==6?(ot=Ti(xt,ht.mode,Bt),ot.return=ht,ot):(ot=S(ot,xt),ot.return=ht,ot)}function $(ht,ot,xt,Bt){var _e=xt.type;return _e===h?Lt(ht,ot,xt.props.children,Bt,xt.key):ot!==null&&(ot.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Mv(_e)===ot.type)?(ot=S(ot,xt.props),hf(ot,xt),ot.return=ht,ot):(ot=Jc(xt.type,xt.key,xt.props,null,ht.mode,Bt),hf(ot,xt),ot.return=ht,ot)}function ct(ht,ot,xt,Bt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==xt.containerInfo||ot.stateNode.implementation!==xt.implementation?(ot=Tf(xt,ht.mode,Bt),ot.return=ht,ot):(ot=S(ot,xt.children||[]),ot.return=ht,ot)}function Lt(ht,ot,xt,Bt,_e){return ot===null||ot.tag!==7?(ot=ol(xt,ht.mode,Bt,_e),ot.return=ht,ot):(ot=S(ot,xt),ot.return=ht,ot)}function jt(ht,ot,xt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=Ti(""+ot,ht.mode,xt),ot.return=ht,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case o:return xt=Jc(ot.type,ot.key,ot.props,null,ht.mode,xt),hf(xt,ot),xt.return=ht,xt;case c:return ot=Tf(ot,ht.mode,xt),ot.return=ht,ot;case R:var Bt=ot._init;return ot=Bt(ot._payload),jt(ht,ot,xt)}if(Ot(ot)||P(ot))return ot=ol(ot,ht.mode,xt,null),ot.return=ht,ot;if(typeof ot.then=="function")return jt(ht,ff(ot),xt);if(ot.$$typeof===_)return jt(ht,fd(ht,ot),xt);Yh(ht,ot)}return null}function bt(ht,ot,xt,Bt){var _e=ot!==null?ot.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return _e!==null?null:k(ht,ot,""+xt,Bt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:return xt.key===_e?$(ht,ot,xt,Bt):null;case c:return xt.key===_e?ct(ht,ot,xt,Bt):null;case R:return _e=xt._init,xt=_e(xt._payload),bt(ht,ot,xt,Bt)}if(Ot(xt)||P(xt))return _e!==null?null:Lt(ht,ot,xt,Bt,null);if(typeof xt.then=="function")return bt(ht,ot,ff(xt),Bt);if(xt.$$typeof===_)return bt(ht,ot,fd(ht,xt),Bt);Yh(ht,xt)}return null}function Ct(ht,ot,xt,Bt,_e){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return ht=ht.get(xt)||null,k(ot,ht,""+Bt,_e);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case o:return ht=ht.get(Bt.key===null?xt:Bt.key)||null,$(ot,ht,Bt,_e);case c:return ht=ht.get(Bt.key===null?xt:Bt.key)||null,ct(ot,ht,Bt,_e);case R:var hn=Bt._init;return Bt=hn(Bt._payload),Ct(ht,ot,xt,Bt,_e)}if(Ot(Bt)||P(Bt))return ht=ht.get(xt)||null,Lt(ot,ht,Bt,_e,null);if(typeof Bt.then=="function")return Ct(ht,ot,xt,ff(Bt),_e);if(Bt.$$typeof===_)return Ct(ht,ot,xt,fd(ot,Bt),_e);Yh(ot,Bt)}return null}function Ee(ht,ot,xt,Bt){for(var _e=null,hn=null,Re=ot,ze=ot=0,ms=null;Re!==null&&ze<xt.length;ze++){Re.index>ze?(ms=Re,Re=null):ms=Re.sibling;var Cn=bt(ht,Re,xt[ze],Bt);if(Cn===null){Re===null&&(Re=ms);break}a&&Re&&Cn.alternate===null&&l(ht,Re),ot=A(Cn,ot,ze),hn===null?_e=Cn:hn.sibling=Cn,hn=Cn,Re=ms}if(ze===xt.length)return d(ht,Re),vn&&Ts(ht,ze),_e;if(Re===null){for(;ze<xt.length;ze++)Re=jt(ht,xt[ze],Bt),Re!==null&&(ot=A(Re,ot,ze),hn===null?_e=Re:hn.sibling=Re,hn=Re);return vn&&Ts(ht,ze),_e}for(Re=g(Re);ze<xt.length;ze++)ms=Ct(Re,ht,ze,xt[ze],Bt),ms!==null&&(a&&ms.alternate!==null&&Re.delete(ms.key===null?ze:ms.key),ot=A(ms,ot,ze),hn===null?_e=ms:hn.sibling=ms,hn=ms);return a&&Re.forEach(function(lu){return l(ht,lu)}),vn&&Ts(ht,ze),_e}function Xe(ht,ot,xt,Bt){if(xt==null)throw Error(i(151));for(var _e=null,hn=null,Re=ot,ze=ot=0,ms=null,Cn=xt.next();Re!==null&&!Cn.done;ze++,Cn=xt.next()){Re.index>ze?(ms=Re,Re=null):ms=Re.sibling;var lu=bt(ht,Re,Cn.value,Bt);if(lu===null){Re===null&&(Re=ms);break}a&&Re&&lu.alternate===null&&l(ht,Re),ot=A(lu,ot,ze),hn===null?_e=lu:hn.sibling=lu,hn=lu,Re=ms}if(Cn.done)return d(ht,Re),vn&&Ts(ht,ze),_e;if(Re===null){for(;!Cn.done;ze++,Cn=xt.next())Cn=jt(ht,Cn.value,Bt),Cn!==null&&(ot=A(Cn,ot,ze),hn===null?_e=Cn:hn.sibling=Cn,hn=Cn);return vn&&Ts(ht,ze),_e}for(Re=g(Re);!Cn.done;ze++,Cn=xt.next())Cn=Ct(Re,ht,ze,Cn.value,Bt),Cn!==null&&(a&&Cn.alternate!==null&&Re.delete(Cn.key===null?ze:Cn.key),ot=A(Cn,ot,ze),hn===null?_e=Cn:hn.sibling=Cn,hn=Cn);return a&&Re.forEach(function(G4){return l(ht,G4)}),vn&&Ts(ht,ze),_e}function wi(ht,ot,xt,Bt){if(typeof xt=="object"&&xt!==null&&xt.type===h&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:t:{for(var _e=xt.key;ot!==null;){if(ot.key===_e){if(_e=xt.type,_e===h){if(ot.tag===7){d(ht,ot.sibling),Bt=S(ot,xt.props.children),Bt.return=ht,ht=Bt;break t}}else if(ot.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Mv(_e)===ot.type){d(ht,ot.sibling),Bt=S(ot,xt.props),hf(Bt,xt),Bt.return=ht,ht=Bt;break t}d(ht,ot);break}else l(ht,ot);ot=ot.sibling}xt.type===h?(Bt=ol(xt.props.children,ht.mode,Bt,xt.key),Bt.return=ht,ht=Bt):(Bt=Jc(xt.type,xt.key,xt.props,null,ht.mode,Bt),hf(Bt,xt),Bt.return=ht,ht=Bt)}return O(ht);case c:t:{for(_e=xt.key;ot!==null;){if(ot.key===_e)if(ot.tag===4&&ot.stateNode.containerInfo===xt.containerInfo&&ot.stateNode.implementation===xt.implementation){d(ht,ot.sibling),Bt=S(ot,xt.children||[]),Bt.return=ht,ht=Bt;break t}else{d(ht,ot);break}else l(ht,ot);ot=ot.sibling}Bt=Tf(xt,ht.mode,Bt),Bt.return=ht,ht=Bt}return O(ht);case R:return _e=xt._init,xt=_e(xt._payload),wi(ht,ot,xt,Bt)}if(Ot(xt))return Ee(ht,ot,xt,Bt);if(P(xt)){if(_e=P(xt),typeof _e!="function")throw Error(i(150));return xt=_e.call(xt),Xe(ht,ot,xt,Bt)}if(typeof xt.then=="function")return wi(ht,ot,ff(xt),Bt);if(xt.$$typeof===_)return wi(ht,ot,fd(ht,xt),Bt);Yh(ht,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,ot!==null&&ot.tag===6?(d(ht,ot.sibling),Bt=S(ot,xt),Bt.return=ht,ht=Bt):(d(ht,ot),Bt=Ti(xt,ht.mode,Bt),Bt.return=ht,ht=Bt),O(ht)):d(ht,ot)}return function(ht,ot,xt,Bt){try{uf=0;var _e=wi(ht,ot,xt,Bt);return Go=null,_e}catch(Re){if(Re===Fo)throw Re;var hn=pi(29,Re,null,ht.mode);return hn.lanes=Bt,hn.return=ht,hn}finally{}}}var jr=Tv(!0),Xr=Tv(!1),Bl=kt(null),Vl=kt(0);function ko(a,l){a=oo,qt(Vl,a),qt(Bl,l),oo=a|l.baseLanes}function Zh(){qt(Vl,oo),qt(Bl,Bl.current)}function df(){oo=Vl.current,ye(Bl),ye(Vl)}var Is=kt(null),fr=null;function qr(a){var l=a.alternate;qt(Si,Si.current&1),qt(Is,a),fr===null&&(l===null||Bl.current!==null||l.memoizedState!==null)&&(fr=a)}function um(a){if(a.tag===22){if(qt(Si,Si.current),qt(Is,a),fr===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(fr=a)}}else Wr()}function Wr(){qt(Si,Si.current),qt(Is,Is.current)}function hr(a){ye(Is),fr===a&&(fr=null),ye(Si)}var Si=kt(0);function Ic(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var an=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},K1=n.unstable_scheduleCallback,sa=n.unstable_NormalPriority,li={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fm(){return{controller:new an,data:new Map,refCount:0}}function jo(a){a.refCount--,a.refCount===0&&K1(sa,function(){a.controller.abort()})}var dr=null,Xo=0,Il=0,qo=null;function Q1(a,l){if(dr===null){var d=dr=[];Xo=0,Il=rS(),qo={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Xo++,l.then(hm,hm),l}function hm(){if(--Xo===0&&dr!==null){qo!==null&&(qo.status="fulfilled");var a=dr;dr=null,Il=0,qo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Wo(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var S=0;S<d.length;S++)(0,d[S])(l)},function(S){for(g.status="rejected",g.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),g}var Kh=U.S;U.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Q1(a,l),Kh!==null&&Kh(a,l)};var Yr=kt(null);function pf(){var a=Yr.current;return a!==null?a:On.pooledCache}function Fc(a,l){l===null?qt(Yr,Yr.current):qt(Yr,l.pool)}function Zr(){var a=pf();return a===null?null:{parent:li._currentValue,pool:a}}var Kr=0,Qe=null,Dn=null,bi=null,Pe=!1,Yo=!1,Zo=!1,Hc=0,Ko=0,Gc=null,$1=0;function si(){throw Error(i(321))}function Fl(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ps(a[d],l[d]))return!1;return!0}function dm(a,l,d,g,S,A){return Kr=A,Qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=a===null||a.memoizedState===null?$o:$r,Zo=!1,A=d(g,S),Zo=!1,Yo&&(A=Av(l,d,g,S)),Ev(a),A}function Ev(a){U.H=mr;var l=Dn!==null&&Dn.next!==null;if(Kr=0,bi=Dn=Qe=null,Pe=!1,Ko=0,Gc=null,l)throw Error(i(300));a===null||Ui||(a=a.dependencies,a!==null&&Wc(a)&&(Ui=!0))}function Av(a,l,d,g){Qe=a;var S=0;do{if(Yo&&(Gc=null),Ko=0,Yo=!1,25<=S)throw Error(i(301));if(S+=1,bi=Dn=null,a.updateQueue!=null){var A=a.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}U.H=kl,A=l(d,g)}while(Yo);return A}function J1(){var a=U.H,l=a.useState()[0];return l=typeof l.then=="function"?gf(l):l,a=a.useState()[0],(Dn!==null?Dn.memoizedState:null)!==a&&(Qe.flags|=1024),l}function pm(){var a=Hc!==0;return Hc=0,a}function mf(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function Qh(a){if(Pe){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Pe=!1}Kr=0,bi=Dn=Qe=null,Yo=!1,Ko=Hc=0,Gc=null}function Ki(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Qe.memoizedState=bi=a:bi=bi.next=a,bi}function ci(){if(Dn===null){var a=Qe.alternate;a=a!==null?a.memoizedState:null}else a=Dn.next;var l=bi===null?Qe.memoizedState:bi.next;if(l!==null)bi=l,Dn=a;else{if(a===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));Dn=a,a={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},bi===null?Qe.memoizedState=bi=a:bi=bi.next=a}return bi}var $h;$h=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gf(a){var l=Ko;return Ko+=1,Gc===null&&(Gc=[]),a=Ho(Gc,a,l),l=Qe,(bi===null?l.memoizedState:bi.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?$o:$r),a}function kc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return gf(a);if(a.$$typeof===_)return cs(a)}throw Error(i(438,String(a)))}function Za(a){var l=null,d=Qe.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=$h(),Qe.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=L;return l.index++,d}function Qn(a,l){return typeof l=="function"?l(a):l}function Ka(a){var l=ci();return Fs(l,Dn,a)}function Fs(a,l,d){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var S=a.baseQueue,A=g.pending;if(A!==null){if(S!==null){var O=S.next;S.next=A.next,A.next=O}l.baseQueue=S=A,g.pending=null}if(A=a.baseState,S===null)a.memoizedState=A;else{l=S.next;var k=O=null,$=null,ct=l,Lt=!1;do{var jt=ct.lane&-536870913;if(jt!==ct.lane?(De&jt)===jt:(Kr&jt)===jt){var bt=ct.revertLane;if(bt===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),jt===Il&&(Lt=!0);else if((Kr&bt)===bt){ct=ct.next,bt===Il&&(Lt=!0);continue}else jt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},$===null?(k=$=jt,O=A):$=$.next=jt,Qe.lanes|=bt,ir|=bt;jt=ct.action,Zo&&d(A,jt),A=ct.hasEagerState?ct.eagerState:d(A,jt)}else bt={lane:jt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},$===null?(k=$=bt,O=A):$=$.next=bt,Qe.lanes|=jt,ir|=jt;ct=ct.next}while(ct!==null&&ct!==l);if($===null?O=A:$.next=k,!Ps(A,a.memoizedState)&&(Ui=!0,Lt&&(d=qo,d!==null)))throw d;a.memoizedState=A,a.baseState=O,a.baseQueue=$,g.lastRenderedState=A}return S===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Jh(a){var l=ci(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=d.dispatch,S=d.pending,A=l.memoizedState;if(S!==null){d.pending=null;var O=S=S.next;do A=a(A,O.action),O=O.next;while(O!==S);Ps(A,l.memoizedState)||(Ui=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,g]}function wv(a,l,d){var g=Qe,S=ci(),A=vn;if(A){if(d===void 0)throw Error(i(407));d=d()}else d=l();var O=!Ps((Dn||S).memoizedState,d);if(O&&(S.memoizedState=d,Ui=!0),S=S.queue,ym(Cv.bind(null,g,S,a),[a]),S.getSnapshot!==l||O||bi!==null&&bi.memoizedState.tag&1){if(g.flags|=2048,pr(9,Qo.bind(null,g,S,d,l),{destroy:void 0},null),On===null)throw Error(i(349));A||Kr&60||Es(g,l,d)}return d}function Es(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Qe.updateQueue,l===null?(l=$h(),Qe.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Qo(a,l,d,g){l.value=d,l.getSnapshot=g,Rv(l)&&Dv(a)}function Cv(a,l,d){return d(function(){Rv(l)&&Dv(a)})}function Rv(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ps(a,d)}catch{return!0}}function Dv(a){var l=Hr(a,2);l!==null&&Ai(l,a,2)}function mm(a){var l=Ki();if(typeof a=="function"){var d=a;if(a=d(),Zo){He(!0);try{d()}finally{He(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},l}function gm(a,l,d,g){return a.baseState=d,Fs(a,Dn,typeof g=="function"?g:Qn)}function tS(a,l,d,g,S){if(sd(a))throw Error(i(485));if(a=l.action,a!==null){var A={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){A.listeners.push(O)}};U.T!==null?d(!0):A.isTransition=!1,g(A),d=l.pending,d===null?(A.next=l.pending=A,vm(l,A)):(A.next=d.next,l.pending=d.next=A)}}function vm(a,l){var d=l.action,g=l.payload,S=a.state;if(l.isTransition){var A=U.T,O={};U.T=O;try{var k=d(S,g),$=U.S;$!==null&&$(O,k),Nv(a,l,k)}catch(ct){Qr(a,l,ct)}finally{U.T=A}}else try{A=d(S,g),Nv(a,l,A)}catch(ct){Qr(a,l,ct)}}function Nv(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Hl(a,l,g)},function(g){return Qr(a,l,g)}):Hl(a,l,d)}function Hl(a,l,d){l.status="fulfilled",l.value=d,Lv(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,vm(a,d)))}function Qr(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,Lv(l),l=l.next;while(l!==g)}a.action=null}function Lv(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Uv(a,l){return l}function Ov(a,l){if(vn){var d=On.formState;if(d!==null){t:{var g=Qe;if(vn){if(Ii){e:{for(var S=Ii,A=Ea;S.nodeType!==8;){if(!A){S=null;break e}if(S=uo(S.nextSibling),S===null){S=null;break e}}A=S.data,S=A==="F!"||A==="F"?S:null}if(S){Ii=uo(S.nextSibling),g=S.data==="F!";break t}}zl(g)}g=!1}g&&(l=d[0])}}return d=Ki(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:l},d.queue=g,d=bm.bind(null,Qe,g),g.dispatch=d,g=mm(!1),A=vf.bind(null,Qe,!1,g.queue),g=Ki(),S={state:l,dispatch:null,action:a,pending:null},g.queue=S,d=tS.bind(null,Qe,S,A,d),S.dispatch=d,g.memoizedState=a,[l,d,!1]}function jc(a){var l=ci();return Pv(l,Dn,a)}function Pv(a,l,d){l=Fs(a,l,Uv)[0],a=Ka(Qn)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?gf(l):l;var g=ci(),S=g.queue,A=S.dispatch;return d!==g.memoizedState&&(Qe.flags|=2048,pr(9,eS.bind(null,S,d),{destroy:void 0},null)),[l,A,a]}function eS(a,l){a.action=l}function zv(a){var l=ci(),d=Dn;if(d!==null)return Pv(l,d,a);ci(),l=l.memoizedState,d=ci();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function pr(a,l,d,g){return a={tag:a,create:l,inst:d,deps:g,next:null},l=Qe.updateQueue,l===null&&(l=$h(),Qe.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function Bv(){return ci().memoizedState}function td(a,l,d,g){var S=Ki();Qe.flags|=a,S.memoizedState=pr(1|l,d,{destroy:void 0},g===void 0?null:g)}function ed(a,l,d,g){var S=ci();g=g===void 0?null:g;var A=S.memoizedState.inst;Dn!==null&&g!==null&&Fl(g,Dn.memoizedState.deps)?S.memoizedState=pr(l,d,A,g):(Qe.flags|=a,S.memoizedState=pr(1|l,d,A,g))}function Vv(a,l){td(8390656,8,a,l)}function ym(a,l){ed(2048,8,a,l)}function Iv(a,l){return ed(4,2,a,l)}function Fv(a,l){return ed(4,4,a,l)}function Hv(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Gv(a,l,d){d=d!=null?d.concat([a]):null,ed(4,4,Hv.bind(null,l,a),d)}function xm(){}function kv(a,l){var d=ci();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&Fl(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function jv(a,l){var d=ci();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&Fl(l,g[1]))return g[0];if(g=a(),Zo){He(!0);try{a()}finally{He(!1)}}return d.memoizedState=[g,l],g}function nd(a,l,d){return d===void 0||Kr&1073741824?a.memoizedState=l:(a.memoizedState=d,a=ca(),Qe.lanes|=a,ir|=a,d)}function Xv(a,l,d,g){return Ps(d,l)?d:Bl.current!==null?(a=nd(a,d,g),Ps(a,l)||(Ui=!0),a):Kr&42?(a=ca(),Qe.lanes|=a,ir|=a,l):(Ui=!0,a.memoizedState=d)}function qv(a,l,d,g,S){var A=it.p;it.p=A!==0&&8>A?A:8;var O=U.T,k={};U.T=k,vf(a,!1,l,d);try{var $=S(),ct=U.S;if(ct!==null&&ct(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Lt=Wo($,g);Gl(a,l,Lt,Ds(a))}else Gl(a,l,g,Ds(a))}catch(jt){Gl(a,l,{then:function(){},status:"rejected",reason:jt},Ds())}finally{it.p=A,U.T=O}}function nS(){}function _m(a,l,d,g){if(a.tag!==5)throw Error(i(476));var S=Wv(a).queue;qv(a,S,l,Tt,d===null?nS:function(){return Yv(a),d(g)})}function Wv(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Tt},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Yv(a){var l=Wv(a).next.queue;Gl(a,l,{},Ds())}function id(){return cs(Wm)}function Sm(){return ci().memoizedState}function Zv(){return ci().memoizedState}function Kv(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Ds();a=oa(d);var g=la(l,a,d);g!==null&&(Ai(g,l,d),el(g,l,d)),l={cache:fm()},a.payload=l;return}l=l.return}}function Qv(a,l,d){var g=Ds();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},sd(a)?$v(l,d):(d=Ol(a,l,d,g),d!==null&&(Ai(d,a,g),Jv(d,l,g)))}function bm(a,l,d){var g=Ds();Gl(a,l,d,g)}function Gl(a,l,d,g){var S={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(sd(a))$v(l,S);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var O=l.lastRenderedState,k=A(O,d);if(S.hasEagerState=!0,S.eagerState=k,Ps(k,O))return nf(a,l,S,0),On===null&&ef(),!1}catch{}finally{}if(d=Ol(a,l,S,g),d!==null)return Ai(d,a,g),Jv(d,l,g),!0}return!1}function vf(a,l,d,g){if(g={lane:2,revertLane:rS(),action:g,hasEagerState:!1,eagerState:null,next:null},sd(a)){if(l)throw Error(i(479))}else l=Ol(a,d,g,2),l!==null&&Ai(l,a,2)}function sd(a){var l=a.alternate;return a===Qe||l!==null&&l===Qe}function $v(a,l){Yo=Pe=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Jv(a,l,d){if(d&4194176){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Sa(a,d)}}var mr={readContext:cs,use:kc,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useLayoutEffect:si,useInsertionEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useSyncExternalStore:si,useId:si};mr.useCacheRefresh=si,mr.useMemoCache=si,mr.useHostTransitionStatus=si,mr.useFormState=si,mr.useActionState=si,mr.useOptimistic=si;var $o={readContext:cs,use:kc,useCallback:function(a,l){return Ki().memoizedState=[a,l===void 0?null:l],a},useContext:cs,useEffect:Vv,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,td(4194308,4,Hv.bind(null,l,a),d)},useLayoutEffect:function(a,l){return td(4194308,4,a,l)},useInsertionEffect:function(a,l){td(4,2,a,l)},useMemo:function(a,l){var d=Ki();l=l===void 0?null:l;var g=a();if(Zo){He(!0);try{a()}finally{He(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=Ki();if(d!==void 0){var S=d(l);if(Zo){He(!0);try{d(l)}finally{He(!1)}}}else S=l;return g.memoizedState=g.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},g.queue=a,a=a.dispatch=Qv.bind(null,Qe,a),[g.memoizedState,a]},useRef:function(a){var l=Ki();return a={current:a},l.memoizedState=a},useState:function(a){a=mm(a);var l=a.queue,d=bm.bind(null,Qe,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:xm,useDeferredValue:function(a,l){var d=Ki();return nd(d,a,l)},useTransition:function(){var a=mm(!1);return a=qv.bind(null,Qe,a.queue,!0,!1),Ki().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=Qe,S=Ki();if(vn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),On===null)throw Error(i(349));De&60||Es(g,l,d)}S.memoizedState=d;var A={value:d,getSnapshot:l};return S.queue=A,Vv(Cv.bind(null,g,A,a),[a]),g.flags|=2048,pr(9,Qo.bind(null,g,A,d,l),{destroy:void 0},null),d},useId:function(){var a=Ki(),l=On.identifierPrefix;if(vn){var d=kr,g=cr;d=(g&~(1<<32-Me(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Hc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=$1++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},useCacheRefresh:function(){return Ki().memoizedState=Kv.bind(null,Qe)}};$o.useMemoCache=Za,$o.useHostTransitionStatus=id,$o.useFormState=Ov,$o.useActionState=Ov,$o.useOptimistic=function(a){var l=Ki();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=vf.bind(null,Qe,!0,d),d.dispatch=l,[a,l]};var $r={readContext:cs,use:kc,useCallback:kv,useContext:cs,useEffect:ym,useImperativeHandle:Gv,useInsertionEffect:Iv,useLayoutEffect:Fv,useMemo:jv,useReducer:Ka,useRef:Bv,useState:function(){return Ka(Qn)},useDebugValue:xm,useDeferredValue:function(a,l){var d=ci();return Xv(d,Dn.memoizedState,a,l)},useTransition:function(){var a=Ka(Qn)[0],l=ci().memoizedState;return[typeof a=="boolean"?a:gf(a),l]},useSyncExternalStore:wv,useId:Sm};$r.useCacheRefresh=Zv,$r.useMemoCache=Za,$r.useHostTransitionStatus=id,$r.useFormState=jc,$r.useActionState=jc,$r.useOptimistic=function(a,l){var d=ci();return gm(d,Dn,a,l)};var kl={readContext:cs,use:kc,useCallback:kv,useContext:cs,useEffect:ym,useImperativeHandle:Gv,useInsertionEffect:Iv,useLayoutEffect:Fv,useMemo:jv,useReducer:Jh,useRef:Bv,useState:function(){return Jh(Qn)},useDebugValue:xm,useDeferredValue:function(a,l){var d=ci();return Dn===null?nd(d,a,l):Xv(d,Dn.memoizedState,a,l)},useTransition:function(){var a=Jh(Qn)[0],l=ci().memoizedState;return[typeof a=="boolean"?a:gf(a),l]},useSyncExternalStore:wv,useId:Sm};kl.useCacheRefresh=Zv,kl.useMemoCache=Za,kl.useHostTransitionStatus=id,kl.useFormState=zv,kl.useActionState=zv,kl.useOptimistic=function(a,l){var d=ci();return Dn!==null?gm(d,Dn,a,l):(d.baseState=a,[a,d.queue.dispatch])};function Mm(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:z({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Tm={isMounted:function(a){return(a=a._reactInternals)?Q(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Ds(),S=oa(g);S.payload=l,d!=null&&(S.callback=d),l=la(a,S,g),l!==null&&(Ai(l,a,g),el(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Ds(),S=oa(g);S.tag=1,S.payload=l,d!=null&&(S.callback=d),l=la(a,S,g),l!==null&&(Ai(l,a,g),el(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Ds(),g=oa(d);g.tag=2,l!=null&&(g.callback=l),l=la(a,g,d),l!==null&&(Ai(l,a,d),el(l,a,d))}};function ty(a,l,d,g,S,A,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,A,O):l.prototype&&l.prototype.isPureReactComponent?!Ya(d,g)||!Ya(S,A):!0}function ey(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Tm.enqueueReplaceState(l,l.state,null)}function jl(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=z({},d));for(var S in a)d[S]===void 0&&(d[S]=a[S])}return d}var ad=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function ny(a){ad(a)}function iy(a){console.error(a)}function sy(a){ad(a)}function rd(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function ay(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Em(a,l,d){return d=oa(d),d.tag=3,d.payload={element:null},d.callback=function(){rd(a,l)},d}function Am(a){return a=oa(a),a.tag=3,a}function ry(a,l,d,g){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var A=g.value;a.payload=function(){return S(A)},a.callback=function(){ay(l,d,g)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){ay(l,d,g),typeof S!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var k=g.stack;this.componentDidCatch(g.value,{componentStack:k!==null?k:""})})}function iS(a,l,d,g,S){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&xf(l,d,S,!0),d=Is.current,d!==null){switch(d.tag){case 13:return fr===null?wf():d.alternate===null&&Zn===0&&(Zn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,g===Wh?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),je(a,g,S)),!1;case 22:return d.flags|=65536,g===Wh?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),je(a,g,S)),!1}throw Error(i(435,d.tag))}return je(a,g,S),wf(),!1}if(vn)return l=Is.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=S,g!==lf&&(a=Error(i(422),{cause:g}),ur(Vs(a,d)))):(g!==lf&&(l=Error(i(423),{cause:g}),ur(Vs(l,d))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,g=Vs(g,d),S=Em(a.stateNode,g,S),Zc(a,S),Zn!==4&&(Zn=2)),!1;var A=Error(i(520),{cause:g});if(A=Vs(A,d),Af===null?Af=[A]:Af.push(A),Zn!==4&&(Zn=2),l===null)return!0;g=Vs(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=S&-S,d.lanes|=a,a=Em(d.stateNode,g,a),Zc(d,a),!1;case 1:if(l=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ei===null||!Ei.has(A))))return d.flags|=65536,S&=-S,d.lanes|=S,S=Am(S),ry(S,a,d,g),Zc(d,S),!1}d=d.return}while(d!==null);return!1}var aa=Error(i(461)),Ui=!1;function Oi(a,l,d,g){l.child=a===null?Xr(l,null,d,g):jr(l,a.child,d,g)}function wm(a,l,d,g,S){d=d.render;var A=l.ref;if("ref"in g){var O={};for(var k in g)k!=="ref"&&(O[k]=g[k])}else O=g;return ql(l),g=dm(a,l,d,O,A,S),k=pm(),a!==null&&!Ui?(mf(a,l,S),ui(a,l,S)):(vn&&k&&of(l),l.flags|=1,Oi(a,l,g,S),l.child)}function Cm(a,l,d,g,S){if(a===null){var A=d.type;return typeof A=="function"&&!ao(A)&&A.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=A,Rm(a,l,A,g,S)):(a=Jc(d.type,null,g,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(A=a.child,!zm(a,S)){var O=A.memoizedProps;if(d=d.compare,d=d!==null?d:Ya,d(O,g)&&a.ref===l.ref)return ui(a,l,S)}return l.flags|=1,a=Cs(A,g),a.ref=l.ref,a.return=l,l.child=a}function Rm(a,l,d,g,S){if(a!==null){var A=a.memoizedProps;if(Ya(A,g)&&a.ref===l.ref)if(Ui=!1,l.pendingProps=g=A,zm(a,S))a.flags&131072&&(Ui=!0);else return l.lanes=a.lanes,ui(a,l,S)}return Nm(a,l,d,g,S)}function oy(a,l,d){var g=l.pendingProps,S=g.children,A=(l.stateNode._pendingVisibility&2)!==0,O=a!==null?a.memoizedState:null;if(Xc(a,l),g.mode==="hidden"||A){if(l.flags&128){if(g=O!==null?O.baseLanes|d:d,a!==null){for(S=l.child=a.child,A=0;S!==null;)A=A|S.lanes|S.childLanes,S=S.sibling;l.childLanes=A&~g}else l.childLanes=0,l.child=null;return Dm(a,l,g,d)}if(d&536870912)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Fc(l,O!==null?O.cachePool:null),O!==null?ko(l,O):Zh(),um(l);else return l.lanes=l.childLanes=536870912,Dm(a,l,O!==null?O.baseLanes|d:d,d)}else O!==null?(Fc(l,O.cachePool),ko(l,O),Wr(),l.memoizedState=null):(a!==null&&Fc(l,null),Zh(),Wr());return Oi(a,l,S,d),l.child}function Dm(a,l,d,g){var S=pf();return S=S===null?null:{parent:li._currentValue,pool:S},l.memoizedState={baseLanes:d,cachePool:S},a!==null&&Fc(l,null),Zh(),um(l),a!==null&&xf(a,l,g,!0),null}function Xc(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(l.flags|=2097664)}}function Nm(a,l,d,g,S){return ql(l),d=dm(a,l,d,g,void 0,S),g=pm(),a!==null&&!Ui?(mf(a,l,S),ui(a,l,S)):(vn&&g&&of(l),l.flags|=1,Oi(a,l,d,S),l.child)}function ly(a,l,d,g,S,A){return ql(l),l.updateQueue=null,d=Av(l,g,d,S),Ev(a),g=pm(),a!==null&&!Ui?(mf(a,l,A),ui(a,l,A)):(vn&&g&&of(l),l.flags|=1,Oi(a,l,d,A),l.child)}function cy(a,l,d,g,S){if(ql(l),l.stateNode===null){var A=Bo,O=d.contextType;typeof O=="object"&&O!==null&&(A=cs(O)),A=new d(g,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Tm,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=g,A.state=l.memoizedState,A.refs={},As(l),O=d.contextType,A.context=typeof O=="object"&&O!==null?cs(O):Bo,A.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Mm(l,d,O,g),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(O=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),O!==A.state&&Tm.enqueueReplaceState(A,A.state,null),$a(l,g,A,S),us(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){A=l.stateNode;var k=l.memoizedProps,$=jl(d,k);A.props=$;var ct=A.context,Lt=d.contextType;O=Bo,typeof Lt=="object"&&Lt!==null&&(O=cs(Lt));var jt=d.getDerivedStateFromProps;Lt=typeof jt=="function"||typeof A.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Lt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(k||ct!==O)&&ey(l,A,g,O),Mi=!1;var bt=l.memoizedState;A.state=bt,$a(l,g,A,S),us(),ct=l.memoizedState,k||bt!==ct||Mi?(typeof jt=="function"&&(Mm(l,d,jt,g),ct=l.memoizedState),($=Mi||ty(l,d,$,g,bt,ct,O))?(Lt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ct),A.props=g,A.state=ct,A.context=O,g=$):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{A=l.stateNode,hd(a,l),O=l.memoizedProps,Lt=jl(d,O),A.props=Lt,jt=l.pendingProps,bt=A.context,ct=d.contextType,$=Bo,typeof ct=="object"&&ct!==null&&($=cs(ct)),k=d.getDerivedStateFromProps,(ct=typeof k=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==jt||bt!==$)&&ey(l,A,g,$),Mi=!1,bt=l.memoizedState,A.state=bt,$a(l,g,A,S),us();var Ct=l.memoizedState;O!==jt||bt!==Ct||Mi||a!==null&&a.dependencies!==null&&Wc(a.dependencies)?(typeof k=="function"&&(Mm(l,d,k,g),Ct=l.memoizedState),(Lt=Mi||ty(l,d,Lt,g,bt,Ct,$)||a!==null&&a.dependencies!==null&&Wc(a.dependencies))?(ct||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Ct,$),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Ct,$)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ct),A.props=g,A.state=Ct,A.context=$,g=Lt):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&bt===a.memoizedState||(l.flags|=1024),g=!1)}return A=g,Xc(a,l),g=(l.flags&128)!==0,A||g?(A=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,a!==null&&g?(l.child=jr(l,a.child,null,S),l.child=jr(l,null,d,S)):Oi(a,l,d,S),l.memoizedState=A.state,a=l.child):a=ui(a,l,S),a}function Lm(a,l,d,g){return Bc(),l.flags|=256,Oi(a,l,d,g),l.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Fi(a){return{baseLanes:a,cachePool:Zr()}}function od(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Rs),a}function uy(a,l,d){var g=l.pendingProps,S=!1,A=(l.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(Si.current&2)!==0),O&&(S=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,a===null){if(vn){if(S?qr(l):Wr(),vn){var k=Ii,$;if($=k){t:{for($=k,k=Ea;$.nodeType!==8;){if(!k){k=null;break t}if($=uo($.nextSibling),$===null){k=null;break t}}k=$}k!==null?(l.memoizedState={dehydrated:k,treeContext:Gr!==null?{id:cr,overflow:kr}:null,retryLane:536870912},$=pi(18,null,null,0),$.stateNode=k,$.return=l,l.child=$,ls=l,Ii=null,$=!0):$=!1}$||zl(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?l.lanes=16:l.lanes=536870912,null;hr(l)}return k=g.children,g=g.fallback,S?(Wr(),S=l.mode,k=Pm({mode:"hidden",children:k},S),g=ol(g,S,d,null),k.return=l,g.return=l,k.sibling=g,l.child=k,S=l.child,S.memoizedState=Fi(d),S.childLanes=od(a,O,d),l.memoizedState=Um,g):(qr(l),Om(l,k))}if($=a.memoizedState,$!==null&&(k=$.dehydrated,k!==null)){if(A)l.flags&256?(qr(l),l.flags&=-257,l=ld(a,l,d)):l.memoizedState!==null?(Wr(),l.child=a.child,l.flags|=128,l=null):(Wr(),S=g.fallback,k=l.mode,g=Pm({mode:"visible",children:g.children},k),S=ol(S,k,d,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,jr(l,a.child,null,d),g=l.child,g.memoizedState=Fi(d),g.childLanes=od(a,O,d),l.memoizedState=Um,l=S);else if(qr(l),k.data==="$!"){if(O=k.nextSibling&&k.nextSibling.dataset,O)var ct=O.dgst;O=ct,g=Error(i(419)),g.stack="",g.digest=O,ur({value:g,source:null,stack:null}),l=ld(a,l,d)}else if(Ui||xf(a,l,d,!1),O=(d&a.childLanes)!==0,Ui||O){if(O=On,O!==null){if(g=d&-d,g&42)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=g&(O.suspendedLanes|d)?0:g,g!==0&&g!==$.retryLane)throw $.retryLane=g,Hr(a,g),Ai(O,a,g),aa}k.data==="$?"||wf(),l=ld(a,l,d)}else k.data==="$?"?(l.flags|=128,l.child=a.child,l=Jl.bind(null,a),k._reactRetry=l,l=null):(a=$.treeContext,Ii=uo(k.nextSibling),ls=l,vn=!0,Ta=null,Ea=!1,a!==null&&(kn[ia++]=cr,kn[ia++]=kr,kn[ia++]=Gr,cr=a.id,kr=a.overflow,Gr=l),l=Om(l,g.children),l.flags|=4096);return l}return S?(Wr(),S=g.fallback,k=l.mode,$=a.child,ct=$.sibling,g=Cs($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&31457280,ct!==null?S=Cs(ct,S):(S=ol(S,k,d,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,k=a.child.memoizedState,k===null?k=Fi(d):($=k.cachePool,$!==null?(ct=li._currentValue,$=$.parent!==ct?{parent:ct,pool:ct}:$):$=Zr(),k={baseLanes:k.baseLanes|d,cachePool:$}),S.memoizedState=k,S.childLanes=od(a,O,d),l.memoizedState=Um,g):(qr(l),d=a.child,a=d.sibling,d=Cs(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(O=l.deletions,O===null?(l.deletions=[a],l.flags|=16):O.push(a)),l.child=d,l.memoizedState=null,d)}function Om(a,l){return l=Pm({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Pm(a,l){return Vm(a,l,0,null)}function ld(a,l,d){return jr(l,a.child,null,d),a=Om(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function cd(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),ra(a.return,l,d)}function Jo(a,l,d,g,S){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:S}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=d,A.tailMode=S)}function Xl(a,l,d){var g=l.pendingProps,S=g.revealOrder,A=g.tail;if(Oi(a,l,g.children,d),g=Si.current,g&2)g=g&1|2,l.flags|=128;else{if(a!==null&&a.flags&128)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&cd(a,d,l);else if(a.tag===19)cd(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(qt(Si,g),S){case"forwards":for(d=l.child,S=null;d!==null;)a=d.alternate,a!==null&&Ic(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=l.child,l.child=null):(S=d.sibling,d.sibling=null),Jo(l,!1,S,d,A);break;case"backwards":for(d=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&Ic(a)===null){l.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}Jo(l,!0,d,null,A);break;case"together":Jo(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ui(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ir|=l.lanes,!(d&l.childLanes))if(a!==null){if(xf(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,d=Cs(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Cs(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function zm(a,l){return a.lanes&l?!0:(a=a.dependencies,!!(a!==null&&Wc(a)))}function sS(a,l,d){switch(l.tag){case 3:ue(l,l.stateNode.containerInfo),tl(l,li,a.memoizedState.cache),Bc();break;case 27:case 5:$t(l);break;case 4:ue(l,l.stateNode.containerInfo);break;case 10:tl(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(qr(l),l.flags|=128,null):d&l.child.childLanes?uy(a,l,d):(qr(l),a=ui(a,l,d),a!==null?a.sibling:null);qr(l);break;case 19:var S=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(xf(a,l,d,!1),g=(d&l.childLanes)!==0),S){if(g)return Xl(a,l,d);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),qt(Si,Si.current),g)break;return null;case 22:case 23:return l.lanes=0,oy(a,l,d);case 24:tl(l,li,a.memoizedState.cache)}return ui(a,l,d)}function yf(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Ui=!0;else{if(!zm(a,d)&&!(l.flags&128))return Ui=!1,sS(a,l,d);Ui=!!(a.flags&131072)}else Ui=!1,vn&&l.flags&1048576&&lm(l,rf,l.index);switch(l.lanes=0,l.tag){case 16:t:{a=l.pendingProps;var g=l.elementType,S=g._init;if(g=S(g._payload),l.type=g,typeof g=="function")ao(g)?(a=jl(g,a),l.tag=1,l=cy(null,l,g,a,d)):(l.tag=0,l=Nm(null,l,g,a,d));else{if(g!=null){if(S=g.$$typeof,S===T){l.tag=11,l=wm(null,l,g,a,d);break t}else if(S===M){l.tag=14,l=Cm(null,l,g,a,d);break t}}throw l=V(g)||g,Error(i(306,l,""))}}return l;case 0:return Nm(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,S=jl(g,l.pendingProps),cy(a,l,g,S,d);case 3:t:{if(ue(l,l.stateNode.containerInfo),a===null)throw Error(i(387));var A=l.pendingProps;S=l.memoizedState,g=S.element,hd(a,l),$a(l,A,null,d);var O=l.memoizedState;if(A=O.cache,tl(l,li,A),A!==S.cache&&ud(l,[li],d,!0),us(),A=O.element,S.isDehydrated)if(S={element:A,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=Lm(a,l,A,d);break t}else if(A!==g){g=Vs(Error(i(424)),l),ur(g),l=Lm(a,l,A,d);break t}else for(Ii=uo(l.stateNode.containerInfo.firstChild),ls=l,vn=!0,Ta=null,Ea=!0,d=Xr(l,null,A,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Bc(),A===g){l=ui(a,l,d);break t}Oi(a,l,A,d)}l=l.child}return l;case 26:return Xc(a,l),a===null?(d=dw(l.type,null,l.pendingProps,null))?l.memoizedState=d:vn||(d=l.type,a=l.pendingProps,g=vy(Rt.current).createElement(d),g[ni]=l,g[Ke]=a,Ns(g,d,a),gt(g),l.stateNode=g):l.memoizedState=dw(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return $t(l),a===null&&vn&&(g=l.stateNode=uw(l.type,l.pendingProps,Rt.current),ls=l,Ea=!0,Ii=uo(g.firstChild)),g=l.pendingProps.children,a!==null||vn?Oi(a,l,g,d):l.child=jr(l,null,g,d),Xc(a,l),l.child;case 5:return a===null&&vn&&((S=g=Ii)&&(g=y4(g,l.type,l.pendingProps,Ea),g!==null?(l.stateNode=g,ls=l,Ii=uo(g.firstChild),Ea=!1,S=!0):S=!1),S||zl(l)),$t(l),S=l.type,A=l.pendingProps,O=a!==null?a.memoizedProps:null,g=A.children,mS(S,A)?g=null:O!==null&&mS(S,O)&&(l.flags|=32),l.memoizedState!==null&&(S=dm(a,l,J1,null,null,d),Wm._currentValue=S),Xc(a,l),Oi(a,l,g,d),l.child;case 6:return a===null&&vn&&((a=d=Ii)&&(d=x4(d,l.pendingProps,Ea),d!==null?(l.stateNode=d,ls=l,Ii=null,a=!0):a=!1),a||zl(l)),null;case 13:return uy(a,l,d);case 4:return ue(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=jr(l,null,g,d):Oi(a,l,g,d),l.child;case 11:return wm(a,l,l.type,l.pendingProps,d);case 7:return Oi(a,l,l.pendingProps,d),l.child;case 8:return Oi(a,l,l.pendingProps.children,d),l.child;case 12:return Oi(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,tl(l,l.type,g.value),Oi(a,l,g.children,d),l.child;case 9:return S=l.type._context,g=l.pendingProps.children,ql(l),S=cs(S),g=g(S),l.flags|=1,Oi(a,l,g,d),l.child;case 14:return Cm(a,l,l.type,l.pendingProps,d);case 15:return Rm(a,l,l.type,l.pendingProps,d);case 19:return Xl(a,l,d);case 22:return oy(a,l,d);case 24:return ql(l),g=cs(li),a===null?(S=pf(),S===null&&(S=On,A=fm(),S.pooledCache=A,A.refCount++,A!==null&&(S.pooledCacheLanes|=d),S=A),l.memoizedState={parent:g,cache:S},As(l),tl(l,li,S)):(a.lanes&d&&(hd(a,l),$a(l,null,null,d),us()),S=a.memoizedState,A=l.memoizedState,S.parent!==g?(S={parent:g,cache:g},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),tl(l,li,g)):(g=A.cache,tl(l,li,g),g!==S.cache&&ud(l,[li],d,!0))),Oi(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var qc=kt(null),gr=null,Qa=null;function tl(a,l,d){qt(qc,l._currentValue),l._currentValue=d}function Jr(a){a._currentValue=qc.current,ye(qc)}function ra(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function ud(a,l,d,g){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var A=S.dependencies;if(A!==null){var O=S.child;A=A.firstContext;t:for(;A!==null;){var k=A;A=S;for(var $=0;$<l.length;$++)if(k.context===l[$]){A.lanes|=d,k=A.alternate,k!==null&&(k.lanes|=d),ra(A.return,d,a),g||(O=null);break t}A=k.next}}else if(S.tag===18){if(O=S.return,O===null)throw Error(i(341));O.lanes|=d,A=O.alternate,A!==null&&(A.lanes|=d),ra(O,d,a),O=null}else O=S.child;if(O!==null)O.return=S;else for(O=S;O!==null;){if(O===a){O=null;break}if(S=O.sibling,S!==null){S.return=O.return,O=S;break}O=O.return}S=O}}function xf(a,l,d,g){a=null;for(var S=l,A=!1;S!==null;){if(!A){if(S.flags&524288)A=!0;else if(S.flags&262144)break}if(S.tag===10){var O=S.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var k=S.type;Ps(S.pendingProps.value,O.value)||(a!==null?a.push(k):a=[k])}}else if(S===Y.current){if(O=S.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Wm):a=[Wm])}S=S.return}a!==null&&ud(l,a,d,g),l.flags|=262144}function Wc(a){for(a=a.firstContext;a!==null;){if(!Ps(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){gr=a,Qa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cs(a){return Yc(gr,a)}function fd(a,l){return gr===null&&ql(a),Yc(a,l)}function Yc(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Qa===null){if(a===null)throw Error(i(308));Qa=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Qa=Qa.next=l;return d}var Mi=!1;function As(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function oa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function la(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,ke&2){var S=g.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),g.pending=l,l=af(a),sf(a,null,d),l}return nf(a,g,l,d),af(a)}function el(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194176)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Sa(a,d)}}function Zc(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var S=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?S=A=O:A=A.next=O,d=d.next}while(d!==null);A===null?S=A=l:A=A.next=l}else S=A=l;d={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Hs=!1;function us(){if(Hs){var a=qo;if(a!==null)throw a}}function $a(a,l,d,g){Hs=!1;var S=a.updateQueue;Mi=!1;var A=S.firstBaseUpdate,O=S.lastBaseUpdate,k=S.shared.pending;if(k!==null){S.shared.pending=null;var $=k,ct=$.next;$.next=null,O===null?A=ct:O.next=ct,O=$;var Lt=a.alternate;Lt!==null&&(Lt=Lt.updateQueue,k=Lt.lastBaseUpdate,k!==O&&(k===null?Lt.firstBaseUpdate=ct:k.next=ct,Lt.lastBaseUpdate=$))}if(A!==null){var jt=S.baseState;O=0,Lt=ct=$=null,k=A;do{var bt=k.lane&-536870913,Ct=bt!==k.lane;if(Ct?(De&bt)===bt:(g&bt)===bt){bt!==0&&bt===Il&&(Hs=!0),Lt!==null&&(Lt=Lt.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Ee=a,Xe=k;bt=l;var wi=d;switch(Xe.tag){case 1:if(Ee=Xe.payload,typeof Ee=="function"){jt=Ee.call(wi,jt,bt);break t}jt=Ee;break t;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Xe.payload,bt=typeof Ee=="function"?Ee.call(wi,jt,bt):Ee,bt==null)break t;jt=z({},jt,bt);break t;case 2:Mi=!0}}bt=k.callback,bt!==null&&(a.flags|=64,Ct&&(a.flags|=8192),Ct=S.callbacks,Ct===null?S.callbacks=[bt]:Ct.push(bt))}else Ct={lane:bt,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Lt===null?(ct=Lt=Ct,$=jt):Lt=Lt.next=Ct,O|=bt;if(k=k.next,k===null){if(k=S.shared.pending,k===null)break;Ct=k,k=Ct.next,Ct.next=null,S.lastBaseUpdate=Ct,S.shared.pending=null}}while(!0);Lt===null&&($=jt),S.baseState=$,S.firstBaseUpdate=ct,S.lastBaseUpdate=Lt,A===null&&(S.shared.lanes=0),ir|=O,a.lanes=O,a.memoizedState=jt}}function vr(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function yr(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)vr(d[a],l)}function fi(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var S=g.next;d=S;do{if((d.tag&a)===a){g=void 0;var A=d.create,O=d.inst;g=A(),O.destroy=g}d=d.next}while(d!==S)}}catch(k){Wt(l,l.return,k)}}function Aa(a,l,d){try{var g=l.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var A=S.next;g=A;do{if((g.tag&a)===a){var O=g.inst,k=O.destroy;if(k!==void 0){O.destroy=void 0,S=l;var $=d;try{k()}catch(ct){Wt(S,$,ct)}}}g=g.next}while(g!==A)}}catch(ct){Wt(l,l.return,ct)}}function to(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{yr(l,d)}catch(g){Wt(a,a.return,g)}}}function _f(a,l,d){d.props=jl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Wt(a,l,g)}}function hi(a,l){try{var d=a.ref;if(d!==null){var g=a.stateNode;switch(a.tag){case 26:case 27:case 5:var S=g;break;default:S=g}typeof d=="function"?a.refCleanup=d(S):d.current=S}}catch(A){Wt(a,l,A)}}function Un(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(S){Wt(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){Wt(a,l,S)}else d.current=null}function yn(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(S){Wt(a,a.return,S)}}function wa(a,l,d){try{var g=a.stateNode;d4(g,a.type,d,l),g[Ke]=l}catch(S){Wt(a,a.return,S)}}function Ja(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function Sf(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||Ja(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Gs(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=gy));else if(g!==4&&g!==27&&(a=a.child,a!==null))for(Gs(a,l,d),a=a.sibling;a!==null;)Gs(a,l,d),a=a.sibling}function eo(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&g!==27&&(a=a.child,a!==null))for(eo(a,l,d),a=a.sibling;a!==null;)eo(a,l,d),a=a.sibling}var tr=!1,Wn=!1,nl=!1,dd=typeof WeakSet=="function"?WeakSet:Set,di=null,pd=!1;function Kc(a,l){if(a=a.containerInfo,dS=My,a=nm(a),tf(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else t:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break t}var O=0,k=-1,$=-1,ct=0,Lt=0,jt=a,bt=null;e:for(;;){for(var Ct;jt!==d||S!==0&&jt.nodeType!==3||(k=O+S),jt!==A||g!==0&&jt.nodeType!==3||($=O+g),jt.nodeType===3&&(O+=jt.nodeValue.length),(Ct=jt.firstChild)!==null;)bt=jt,jt=Ct;for(;;){if(jt===a)break e;if(bt===d&&++ct===S&&(k=O),bt===A&&++Lt===g&&($=O),(Ct=jt.nextSibling)!==null)break;jt=bt,bt=jt.parentNode}jt=Ct}d=k===-1||$===-1?null:{start:k,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(pS={focusedElem:a,selectionRange:d},My=!1,di=l;di!==null;)if(l=di,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,di=a;else for(;di!==null;){switch(l=di,A=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&A!==null){a=void 0,d=l,S=A.memoizedProps,A=A.memoizedState,g=d.stateNode;try{var Ee=jl(d.type,S,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(Ee,A),g.__reactInternalSnapshotBeforeUpdate=a}catch(Xe){Wt(d,d.return,Xe)}}break;case 3:if(a&1024){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)yS(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":yS(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,di=a;break}di=l.return}return Ee=pd,pd=!1,Ee}function Qc(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:xr(a,d),g&4&&fi(5,d);break;case 1:if(xr(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(k){Wt(d,d.return,k)}else{var S=jl(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Wt(d,d.return,k)}}g&64&&to(d),g&512&&hi(d,d.return);break;case 3:if(xr(a,d),g&64&&(g=d.updateQueue,g!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{yr(g,a)}catch(k){Wt(d,d.return,k)}}break;case 26:xr(a,d),g&512&&hi(d,d.return);break;case 27:case 5:xr(a,d),l===null&&g&4&&yn(d),g&512&&hi(d,d.return);break;case 12:xr(a,d);break;case 13:xr(a,d),g&4&&fy(a,d);break;case 22:if(S=d.memoizedState!==null||tr,!S){l=l!==null&&l.memoizedState!==null||Wn;var A=tr,O=Wn;tr=S,(Wn=l)&&!O?nr(a,d,(d.subtreeFlags&8772)!==0):xr(a,d),tr=A,Wn=O}g&512&&(d.memoizedProps.mode==="manual"?hi(d,d.return):Un(d,d.return));break;default:xr(a,d)}}function md(a){var l=a.alternate;l!==null&&(a.alternate=null,md(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&wl(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yn=null,Hi=!1;function fs(a,l,d){for(d=d.child;d!==null;)gd(a,l,d),d=d.sibling}function gd(a,l,d){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(xe,d)}catch{}switch(d.tag){case 26:Wn||Un(d,l),fs(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Wn||Un(d,l);var g=Yn,S=Hi;for(Yn=d.stateNode,fs(a,l,d),d=d.stateNode,l=d.attributes;l.length;)d.removeAttributeNode(l[0]);wl(d),Yn=g,Hi=S;break;case 5:Wn||Un(d,l);case 6:S=Yn;var A=Hi;if(Yn=null,fs(a,l,d),Yn=S,Hi=A,Yn!==null)if(Hi)try{a=Yn,g=d.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)}catch(O){Wt(d,l,O)}else try{Yn.removeChild(d.stateNode)}catch(O){Wt(d,l,O)}break;case 18:Yn!==null&&(Hi?(l=Yn,d=d.stateNode,l.nodeType===8?vS(l.parentNode,d):l.nodeType===1&&vS(l,d),Qm(l)):vS(Yn,d.stateNode));break;case 4:g=Yn,S=Hi,Yn=d.stateNode.containerInfo,Hi=!0,fs(a,l,d),Yn=g,Hi=S;break;case 0:case 11:case 14:case 15:Wn||Aa(2,d,l),Wn||Aa(4,d,l),fs(a,l,d);break;case 1:Wn||(Un(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&_f(d,l,g)),fs(a,l,d);break;case 21:fs(a,l,d);break;case 22:Wn||Un(d,l),Wn=(g=Wn)||d.memoizedState!==null,fs(a,l,d),Wn=g;break;default:fs(a,l,d)}}function fy(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Qm(a)}catch(d){Wt(l,l.return,d)}}function bf(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new dd),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new dd),l;default:throw Error(i(435,a.tag))}}function Mf(a,l){var d=bf(a);l.forEach(function(g){var S=St.bind(null,a,g);d.has(g)||(d.add(g),g.then(S,S))})}function ws(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var S=d[g],A=a,O=l,k=O;t:for(;k!==null;){switch(k.tag){case 27:case 5:Yn=k.stateNode,Hi=!1;break t;case 3:Yn=k.stateNode.containerInfo,Hi=!0;break t;case 4:Yn=k.stateNode.containerInfo,Hi=!0;break t}k=k.return}if(Yn===null)throw Error(i(160));gd(A,O,S),Yn=null,Hi=!1,A=S.alternate,A!==null&&(A.return=null),S.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Wl(l,a),l=l.sibling}var hs=null;function Wl(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ws(l,a),ds(a),g&4&&(Aa(3,a,a.return),fi(3,a),Aa(5,a,a.return));break;case 1:ws(l,a),ds(a),g&512&&(Wn||d===null||Un(d,d.return)),g&64&&tr&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var S=hs;if(ws(l,a),ds(a),g&512&&(Wn||d===null||Un(d,d.return)),g&4){var A=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){t:{g=a.type,d=a.memoizedProps,S=S.ownerDocument||S;e:switch(g){case"title":A=S.getElementsByTagName("title")[0],(!A||A[Lr]||A[ni]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=S.createElement(g),S.head.insertBefore(A,S.querySelector("head > title"))),Ns(A,g,d),A[ni]=a,gt(A),g=A;break t;case"link":var O=gw("link","href",S).get(g+(d.href||""));if(O){for(var k=0;k<O.length;k++)if(A=O[k],A.getAttribute("href")===(d.href==null?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(k,1);break e}}A=S.createElement(g),Ns(A,g,d),S.head.appendChild(A);break;case"meta":if(O=gw("meta","content",S).get(g+(d.content||""))){for(k=0;k<O.length;k++)if(A=O[k],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(k,1);break e}}A=S.createElement(g),Ns(A,g,d),S.head.appendChild(A);break;default:throw Error(i(468,g))}A[ni]=a,gt(A),g=A}a.stateNode=g}else vw(S,a.type,a.stateNode);else a.stateNode=mw(S,g,a.memoizedProps);else A!==g?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,g===null?vw(S,a.type,a.stateNode):mw(S,g,a.memoizedProps)):g===null&&a.stateNode!==null&&wa(a,a.memoizedProps,d.memoizedProps)}break;case 27:if(g&4&&a.alternate===null){S=a.stateNode,A=a.memoizedProps;try{for(var $=S.firstChild;$;){var ct=$.nextSibling,Lt=$.nodeName;$[Lr]||Lt==="HEAD"||Lt==="BODY"||Lt==="SCRIPT"||Lt==="STYLE"||Lt==="LINK"&&$.rel.toLowerCase()==="stylesheet"||S.removeChild($),$=ct}for(var jt=a.type,bt=S.attributes;bt.length;)S.removeAttributeNode(bt[0]);Ns(S,jt,A),S[ni]=a,S[Ke]=A}catch(Ee){Wt(a,a.return,Ee)}}case 5:if(ws(l,a),ds(a),g&512&&(Wn||d===null||Un(d,d.return)),a.flags&32){S=a.stateNode;try{bs(S,"")}catch(Ee){Wt(a,a.return,Ee)}}g&4&&a.stateNode!=null&&(S=a.memoizedProps,wa(a,S,d!==null?d.memoizedProps:S)),g&1024&&(nl=!0);break;case 6:if(ws(l,a),ds(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Ee){Wt(a,a.return,Ee)}}break;case 3:if(_y=null,S=hs,hs=yy(l.containerInfo),ws(l,a),hs=S,ds(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Qm(l.containerInfo)}catch(Ee){Wt(a,a.return,Ee)}nl&&(nl=!1,il(a));break;case 4:g=hs,hs=yy(a.stateNode.containerInfo),ws(l,a),ds(a),hs=g;break;case 12:ws(l,a),ds(a);break;case 13:ws(l,a),ds(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($e=wt()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Mf(a,g)));break;case 22:if(g&512&&(Wn||d===null||Un(d,d.return)),$=a.memoizedState!==null,ct=d!==null&&d.memoizedState!==null,Lt=tr,jt=Wn,tr=Lt||$,Wn=jt||ct,ws(l,a),Wn=jt,tr=Lt,ds(a),l=a.stateNode,l._current=a,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,g&8192&&(l._visibility=$?l._visibility&-2:l._visibility|1,$&&(l=tr||Wn,d===null||ct||l||er(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))t:for(d=null,l=a;;){if(l.tag===5||l.tag===26||l.tag===27){if(d===null){ct=d=l;try{if(S=ct.stateNode,$)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{O=ct.stateNode,k=ct.memoizedProps.style;var Ct=k!=null&&k.hasOwnProperty("display")?k.display:null;O.style.display=Ct==null||typeof Ct=="boolean"?"":(""+Ct).trim()}}catch(Ee){Wt(ct,ct.return,Ee)}}}else if(l.tag===6){if(d===null){ct=l;try{ct.stateNode.nodeValue=$?"":ct.memoizedProps}catch(Ee){Wt(ct,ct.return,Ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Mf(a,d))));break;case 19:ws(l,a),ds(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Mf(a,g)));break;case 21:break;default:ws(l,a),ds(a)}}function ds(a){var l=a.flags;if(l&2){try{if(a.tag!==27){t:{for(var d=a.return;d!==null;){if(Ja(d)){var g=d;break t}d=d.return}throw Error(i(160))}switch(g.tag){case 27:var S=g.stateNode,A=Sf(a);eo(a,A,S);break;case 5:var O=g.stateNode;g.flags&32&&(bs(O,""),g.flags&=-33);var k=Sf(a);eo(a,k,O);break;case 3:case 4:var $=g.stateNode.containerInfo,ct=Sf(a);Gs(a,ct,$);break;default:throw Error(i(161))}}}catch(Lt){Wt(a,a.return,Lt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function il(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;il(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function xr(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Qc(a,l.alternate,l),l=l.sibling}function er(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Aa(4,l,l.return),er(l);break;case 1:Un(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&_f(l,l.return,d),er(l);break;case 26:case 27:case 5:Un(l,l.return),er(l);break;case 22:Un(l,l.return),l.memoizedState===null&&er(l);break;default:er(l)}a=a.sibling}}function nr(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,S=a,A=l,O=A.flags;switch(A.tag){case 0:case 11:case 15:nr(S,A,d),fi(4,A);break;case 1:if(nr(S,A,d),g=A,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ct){Wt(g,g.return,ct)}if(g=A,S=g.updateQueue,S!==null){var k=g.stateNode;try{var $=S.shared.hiddenCallbacks;if($!==null)for(S.shared.hiddenCallbacks=null,S=0;S<$.length;S++)vr($[S],k)}catch(ct){Wt(g,g.return,ct)}}d&&O&64&&to(A),hi(A,A.return);break;case 26:case 27:case 5:nr(S,A,d),d&&g===null&&O&4&&yn(A),hi(A,A.return);break;case 12:nr(S,A,d);break;case 13:nr(S,A,d),d&&O&4&&fy(S,A);break;case 22:A.memoizedState===null&&nr(S,A,d),hi(A,A.return);break;default:nr(S,A,d)}l=l.sibling}}function ks(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&jo(d))}function Ca(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&jo(a))}function jn(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)no(a,l,d,g),l=l.sibling}function no(a,l,d,g){var S=l.flags;switch(l.tag){case 0:case 11:case 15:jn(a,l,d,g),S&2048&&fi(9,l);break;case 3:jn(a,l,d,g),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&jo(a)));break;case 12:if(S&2048){jn(a,l,d,g),a=l.stateNode;try{var A=l.memoizedProps,O=A.id,k=A.onPostCommit;typeof k=="function"&&k(O,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Wt(l,l.return,$)}}else jn(a,l,d,g);break;case 23:break;case 22:A=l.stateNode,l.memoizedState!==null?A._visibility&4?jn(a,l,d,g):bn(a,l):A._visibility&4?jn(a,l,d,g):(A._visibility|=4,Ge(a,l,d,g,(l.subtreeFlags&10256)!==0)),S&2048&&ks(l.alternate,l);break;case 24:jn(a,l,d,g),S&2048&&Ca(l.alternate,l);break;default:jn(a,l,d,g)}}function Ge(a,l,d,g,S){for(S=S&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var A=a,O=l,k=d,$=g,ct=O.flags;switch(O.tag){case 0:case 11:case 15:Ge(A,O,k,$,S),fi(8,O);break;case 23:break;case 22:var Lt=O.stateNode;O.memoizedState!==null?Lt._visibility&4?Ge(A,O,k,$,S):bn(A,O):(Lt._visibility|=4,Ge(A,O,k,$,S)),S&&ct&2048&&ks(O.alternate,O);break;case 24:Ge(A,O,k,$,S),S&&ct&2048&&Ca(O.alternate,O);break;default:Ge(A,O,k,$,S)}l=l.sibling}}function bn(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,S=g.flags;switch(g.tag){case 22:bn(d,g),S&2048&&ks(g.alternate,g);break;case 24:bn(d,g),S&2048&&Ca(g.alternate,g);break;default:bn(d,g)}l=l.sibling}}var $n=8192;function io(a){if(a.subtreeFlags&$n)for(a=a.child;a!==null;)Yl(a),a=a.sibling}function Yl(a){switch(a.tag){case 26:io(a),a.flags&$n&&a.memoizedState!==null&&L4(hs,a.memoizedState,a.memoizedProps);break;case 5:io(a);break;case 3:case 4:var l=hs;hs=yy(a.stateNode.containerInfo),io(a),hs=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=$n,$n=16777216,io(a),$n=l):io(a));break;default:io(a)}}function sl(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function al(a){var l=a.deletions;if(a.flags&16){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];di=g,hy(g,a)}sl(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$c(a),a=a.sibling}function $c(a){switch(a.tag){case 0:case 11:case 15:al(a),a.flags&2048&&Aa(9,a,a.return);break;case 3:al(a);break;case 12:al(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&4&&(a.return===null||a.return.tag!==13)?(l._visibility&=-5,so(a)):al(a);break;default:al(a)}}function so(a){var l=a.deletions;if(a.flags&16){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];di=g,hy(g,a)}sl(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Aa(8,l,l.return),so(l);break;case 22:d=l.stateNode,d._visibility&4&&(d._visibility&=-5,so(l));break;default:so(l)}a=a.sibling}}function hy(a,l){for(;di!==null;){var d=di;switch(d.tag){case 0:case 11:case 15:Aa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:jo(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,di=g;else t:for(d=a;di!==null;){g=di;var S=g.sibling,A=g.return;if(md(g),g===d){di=null;break t}if(S!==null){S.return=A,di=S;break t}di=A}}}function Bm(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(a,l,d,g){return new Bm(a,l,d,g)}function ao(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Cs(a,l){var d=a.alternate;return d===null?(d=pi(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&31457280,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function rl(a,l){a.flags&=31457282;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Jc(a,l,d,g,S,A){var O=0;if(g=a,typeof a=="function")ao(a)&&(O=1);else if(typeof a=="string")O=D4(a,d,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case h:return ol(d.children,S,A,l);case p:O=8,S|=24;break;case m:return a=pi(12,d,l,S|2),a.elementType=m,a.lanes=A,a;case C:return a=pi(13,d,l,S),a.elementType=C,a.lanes=A,a;case E:return a=pi(19,d,l,S),a.elementType=E,a.lanes=A,a;case D:return Vm(d,S,A,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case _:O=10;break t;case x:O=9;break t;case T:O=11;break t;case M:O=14;break t;case R:O=16,g=null;break t}O=29,d=Error(i(130,a===null?"null":typeof a,"")),g=null}return l=pi(O,d,l,S),l.elementType=a,l.type=g,l.lanes=A,l}function ol(a,l,d,g){return a=pi(7,a,g,l),a.lanes=d,a}function Vm(a,l,d,g){a=pi(22,a,g,l),a.elementType=D,a.lanes=d;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var A=S._current;if(A===null)throw Error(i(456));if(!(S._pendingVisibility&2)){var O=Hr(A,2);O!==null&&(S._pendingVisibility|=2,Ai(O,A,2))}},attach:function(){var A=S._current;if(A===null)throw Error(i(456));if(S._pendingVisibility&2){var O=Hr(A,2);O!==null&&(S._pendingVisibility&=-3,Ai(O,A,2))}}};return a.stateNode=S,a}function Ti(a,l,d){return a=pi(6,a,null,l),a.lanes=d,a}function Tf(a,l,d){return l=pi(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Ra(a){a.flags|=4}function ll(a,l){if(l.type!=="stylesheet"||l.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!yw(l)){if(l=Is.current,l!==null&&((De&4194176)===De?fr!==null:(De&62914560)!==De&&!(De&536870912)||l!==fr))throw Vc=Wh,cm;a.flags|=8192}}function Da(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?dn():536870912,a.lanes|=l,Sr|=l)}function Ef(a,l){if(!vn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function ei(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,g|=S.subtreeFlags&31457280,g|=S.flags&31457280,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function aS(a,l,d){var g=l.pendingProps;switch(Io(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(l),null;case 1:return ei(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Jr(li),Ht(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(zc(l)?Ra(l):a===null||a.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ta!==null&&(Oa(Ta),Ta=null))),ei(l),null;case 26:return d=l.memoizedState,a===null?(Ra(l),d!==null?(ei(l),ll(l,d)):(ei(l),l.flags&=-16777217)):d?d!==a.memoizedState?(Ra(l),ei(l),ll(l,d)):(ei(l),l.flags&=-16777217):(a.memoizedProps!==g&&Ra(l),ei(l),l.flags&=-16777217),null;case 27:Kt(l),d=Rt.current;var S=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==g&&Ra(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return ei(l),null}a=le.current,zc(l)?_v(l):(a=uw(S,g,d),l.stateNode=a,Ra(l))}return ei(l),null;case 5:if(Kt(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&Ra(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return ei(l),null}if(a=le.current,zc(l))_v(l);else{switch(S=vy(Rt.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?S.createElement("select",{is:g.is}):S.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?S.createElement(d,{is:g.is}):S.createElement(d)}}a[ni]=l,a[Ke]=g;t:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break t;for(;S.sibling===null;){if(S.return===null||S.return===l)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=a;t:switch(Ns(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ra(l)}}return ei(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&Ra(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(i(166));if(a=Rt.current,zc(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,S=ls,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}a[ni]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||sw(a.nodeValue,d)),a||zl(l)}else a=vy(a).createTextNode(g),a[ni]=l,l.stateNode=a}return ei(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=zc(l),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(i(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[ni]=l}else Bc(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;ei(l),S=!1}else Ta!==null&&(Oa(Ta),Ta=null),S=!0;if(!S)return l.flags&256?(hr(l),l):(hr(l),null)}if(hr(l),l.flags&128)return l.lanes=d,l;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=l.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool);var A=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),Da(l,l.updateQueue),ei(l),null;case 4:return Ht(),a===null&&uS(l.stateNode.containerInfo),ei(l),null;case 10:return Jr(l.type),ei(l),null;case 19:if(ye(Si),S=l.memoizedState,S===null)return ei(l),null;if(g=(l.flags&128)!==0,A=S.rendering,A===null)if(g)Ef(S,!1);else{if(Zn!==0||a!==null&&a.flags&128)for(a=l.child;a!==null;){if(A=Ic(a),A!==null){for(l.flags|=128,Ef(S,!1),a=A.updateQueue,l.updateQueue=a,Da(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)rl(d,a),d=d.sibling;return qt(Si,Si.current&1|2),l.child}a=a.sibling}S.tail!==null&&wt()>on&&(l.flags|=128,g=!0,Ef(S,!1),l.lanes=4194304)}else{if(!g)if(a=Ic(A),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,Da(l,a),Ef(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!vn)return ei(l),null}else 2*wt()-S.renderingStartTime>on&&d!==536870912&&(l.flags|=128,g=!0,Ef(S,!1),l.lanes=4194304);S.isBackwards?(A.sibling=l.child,l.child=A):(a=S.last,a!==null?a.sibling=A:l.child=A,S.last=A)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=wt(),l.sibling=null,a=Si.current,qt(Si,g?a&1|2:a&1),l):(ei(l),null);case 22:case 23:return hr(l),df(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?d&536870912&&!(l.flags&128)&&(ei(l),l.subtreeFlags&6&&(l.flags|=8192)):ei(l),d=l.updateQueue,d!==null&&Da(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&ye(Yr),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Jr(li),ei(l),null;case 25:return null}throw Error(i(156,l.tag))}function ai(a,l){switch(Io(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Jr(li),Ht(),a=l.flags,a&65536&&!(a&128)?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Kt(l),null;case 13:if(hr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Bc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ye(Si),null;case 4:return Ht(),null;case 10:return Jr(l.type),null;case 22:case 23:return hr(l),df(),a!==null&&ye(Yr),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Jr(li),null;case 25:return null;default:return null}}function Im(a,l){switch(Io(l),l.tag){case 3:Jr(li),Ht();break;case 26:case 27:case 5:Kt(l);break;case 4:Ht();break;case 13:hr(l);break;case 19:ye(Si);break;case 10:Jr(l.type);break;case 22:case 23:hr(l),df(),a!==null&&ye(Yr);break;case 24:Jr(li)}}var Zl={getCacheForType:function(a){var l=cs(li),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},ro=typeof WeakMap=="function"?WeakMap:Map,ke=0,On=null,nn=null,De=0,Vn=0,Mn=null,mi=!1,ps=!1,cl=!1,oo=0,Zn=0,ir=0,_r=0,tu=0,Rs=0,Sr=0,Af=null,rn=null,Pn=!1,$e=0,on=1/0,Nn=null,Ei=null,Na=!1,La=null,Kl=0,sr=0,Jn=null,Ua=0,lo=null;function Ds(){if(ke&2&&De!==0)return De&-De;if(U.T!==null){var a=Il;return a!==0?a:rS()}return bc()}function ca(){Rs===0&&(Rs=!(De&536870912)||vn?ti():536870912);var a=Is.current;return a!==null&&(a.flags|=32),Rs}function Ai(a,l,d){(a===On&&Vn===2||a.cancelPendingCommit!==null)&&(co(a,0),ua(a,De,Rs,!1)),ss(a,d),(!(ke&2)||a!==On)&&(a===On&&(!(ke&2)&&(_r|=d),Zn===4&&ua(a,De,Rs,!1)),In(a))}function eu(a,l,d){if(ke&6)throw Error(i(327));var g=!d&&(l&60)===0&&(l&a.expiredLanes)===0||Le(a,l),S=g?u(a,l):$l(a,l,!0),A=g;do{if(S===0){ps&&!g&&ua(a,l,0,!1);break}else if(S===6)ua(a,l,0,!mi);else{if(d=a.current.alternate,A&&!Fm(d)){S=$l(a,l,!1),A=!1;continue}if(S===2){if(A=l,a.errorRecoveryDisabledLanes&A)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;t:{var k=a;S=Af;var $=k.current.memoizedState.isDehydrated;if($&&(co(k,O).flags|=256),O=$l(k,O,!1),O!==2){if(cl&&!$){k.errorRecoveryDisabledLanes|=A,_r|=A,S=4;break t}A=rn,rn=S,A!==null&&Oa(A)}S=O}if(A=!1,S!==2)continue}}if(S===1){co(a,0),ua(a,l,0,!0);break}t:{switch(g=a,S){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){ua(g,l,Rs,!mi);break t}break;case 2:rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(g.finishedWork=d,g.finishedLanes=l,(l&62914560)===l&&(A=$e+300-wt(),10<A)){if(ua(g,l,Rs,!mi),ne(g,0)!==0)break t;g.timeoutHandle=ow(vd.bind(null,g,d,rn,Nn,Pn,l,Rs,_r,Sr,mi,2,-0,0),A);break t}vd(g,d,rn,Nn,Pn,l,Rs,_r,Sr,mi,0,-0,0)}}break}while(!0);In(a)}function Oa(a){rn===null?rn=a:rn.push.apply(rn,a)}function vd(a,l,d,g,S,A,O,k,$,ct,Lt,jt,bt){var Ct=l.subtreeFlags;if((Ct&8192||(Ct&16785408)===16785408)&&(qm={stylesheets:null,count:0,unsuspend:N4},Yl(l),l=U4(),l!==null)){a.cancelPendingCommit=l(tt.bind(null,a,d,g,S,O,k,$,1,jt,bt)),ua(a,A,O,!ct);return}tt(a,d,g,S,O,k,$,Lt,jt,bt)}function Fm(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var S=d[g],A=S.getSnapshot;S=S.value;try{if(!Ps(A(),S))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ua(a,l,d,g){l&=~tu,l&=~_r,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var S=l;0<S;){var A=31-Me(S),O=1<<A;g[A]=-1,S&=~O}d!==0&&Al(a,d,l)}function Ql(){return ke&6?!0:(fn(0),!1)}function br(){if(nn!==null){if(Vn===0)var a=nn.return;else a=nn,Qa=gr=null,Qh(a),Go=null,uf=0,a=nn;for(;a!==null;)Im(a.alternate,a),a=a.return;nn=null}}function co(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,m4(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),br(),On=a,nn=d=Cs(a.current,null),De=l,Vn=0,Mn=null,mi=!1,ps=Le(a,l),cl=!1,Sr=Rs=tu=_r=ir=Zn=0,rn=Af=null,Pn=!1,l&8&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var S=31-Me(g),A=1<<S;l|=a[S],g&=~A}return oo=l,ef(),d}function ul(a,l){Qe=null,U.H=mr,l===Fo?(l=wn(),Vn=3):l===cm?(l=wn(),Vn=4):Vn=l===aa?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Mn=l,nn===null&&(Zn=1,rd(a,Vs(l,a.current)))}function nu(){var a=U.H;return U.H=mr,a===null?mr:a}function yd(){var a=U.A;return U.A=Zl,a}function wf(){Zn=4,mi||(De&4194176)!==De&&Is.current!==null||(ps=!0),!(ir&134217727)&&!(_r&134217727)||On===null||ua(On,De,Rs,!1)}function $l(a,l,d){var g=ke;ke|=2;var S=nu(),A=yd();(On!==a||De!==l)&&(Nn=null,co(a,l)),l=!1;var O=Zn;t:do try{if(Vn!==0&&nn!==null){var k=nn,$=Mn;switch(Vn){case 8:br(),O=6;break t;case 3:case 2:case 6:Is.current===null&&(l=!0);var ct=Vn;if(Vn=0,Mn=null,w(a,k,$,ct),d&&ps){O=0;break t}break;default:ct=Vn,Vn=0,Mn=null,w(a,k,$,ct)}}Hm(),O=Zn;break}catch(Lt){ul(a,Lt)}while(!0);return l&&a.shellSuspendCounter++,Qa=gr=null,ke=g,U.H=S,U.A=A,nn===null&&(On=null,De=0,ef()),O}function Hm(){for(;nn!==null;)y(nn)}function u(a,l){var d=ke;ke|=2;var g=nu(),S=yd();On!==a||De!==l?(Nn=null,on=wt()+500,co(a,l)):ps=Le(a,l);t:do try{if(Vn!==0&&nn!==null){l=nn;var A=Mn;e:switch(Vn){case 1:Vn=0,Mn=null,w(a,l,A,1);break;case 2:if(bv(A)){Vn=0,Mn=null,b(l);break}l=function(){Vn===2&&On===a&&(Vn=7),In(a)},A.then(l,l);break t;case 3:Vn=7;break t;case 4:Vn=5;break t;case 7:bv(A)?(Vn=0,Mn=null,b(l)):(Vn=0,Mn=null,w(a,l,A,7));break;case 5:var O=null;switch(nn.tag){case 26:O=nn.memoizedState;case 5:case 27:var k=nn;if(!O||yw(O)){Vn=0,Mn=null;var $=k.sibling;if($!==null)nn=$;else{var ct=k.return;ct!==null?(nn=ct,N(ct)):nn=null}break e}}Vn=0,Mn=null,w(a,l,A,5);break;case 6:Vn=0,Mn=null,w(a,l,A,6);break;case 8:br(),Zn=6;break t;default:throw Error(i(462))}}f();break}catch(Lt){ul(a,Lt)}while(!0);return Qa=gr=null,U.H=g,U.A=S,ke=d,nn!==null?0:(On=null,De=0,ef(),Zn)}function f(){for(;nn!==null&&!F();)y(nn)}function y(a){var l=yf(a.alternate,a,oo);a.memoizedProps=a.pendingProps,l===null?N(a):nn=l}function b(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=ly(d,l,l.pendingProps,l.type,void 0,De);break;case 11:l=ly(d,l,l.pendingProps,l.type.render,l.ref,De);break;case 5:Qh(l);default:Im(d,l),l=nn=rl(l,oo),l=yf(d,l,oo)}a.memoizedProps=a.pendingProps,l===null?N(a):nn=l}function w(a,l,d,g){Qa=gr=null,Qh(l),Go=null,uf=0;var S=l.return;try{if(iS(a,S,l,d,De)){Zn=1,rd(a,Vs(d,a.current)),nn=null;return}}catch(A){if(S!==null)throw nn=S,A;Zn=1,rd(a,Vs(d,a.current)),nn=null;return}l.flags&32768?(vn||g===1?a=!0:ps||De&536870912?a=!1:(mi=a=!0,(g===2||g===3||g===6)&&(g=Is.current,g!==null&&g.tag===13&&(g.flags|=16384))),j(l,a)):N(l)}function N(a){var l=a;do{if(l.flags&32768){j(l,mi);return}a=l.return;var d=aS(l.alternate,l,oo);if(d!==null){nn=d;return}if(l=l.sibling,l!==null){nn=l;return}nn=l=a}while(l!==null);Zn===0&&(Zn=5)}function j(a,l){do{var d=ai(a.alternate,a);if(d!==null){d.flags&=32767,nn=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){nn=a;return}nn=a=d}while(a!==null);Zn=6,nn=null}function tt(a,l,d,g,S,A,O,k,$,ct){var Lt=U.T,jt=it.p;try{it.p=2,U.T=null,pt(a,l,d,g,jt,S,A,O,k,$,ct)}finally{U.T=Lt,it.p=jt}}function pt(a,l,d,g,S,A,O,k){do Zt();while(La!==null);if(ke&6)throw Error(i(327));var $=a.finishedWork;if(g=a.finishedLanes,$===null)return null;if(a.finishedWork=null,a.finishedLanes=0,$===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var ct=$.lanes|$.childLanes;if(ct|=Fr,Vu(a,g,ct,A,O,k),a===On&&(nn=On=null,De=0),!($.subtreeFlags&10256)&&!($.flags&10256)||Na||(Na=!0,sr=ct,Jn=d,ft(ee,function(){return Zt(),null})),d=($.flags&15990)!==0,$.subtreeFlags&15990||d?(d=U.T,U.T=null,A=it.p,it.p=2,O=ke,ke|=4,Kc(a,$),Wl($,a),im(pS,a.containerInfo),My=!!dS,pS=dS=null,a.current=$,Qc(a,$.alternate,$),yt(),ke=O,it.p=A,U.T=d):a.current=$,Na?(Na=!1,La=a,Kl=g):Nt(a,ct),ct=a.pendingLanes,ct===0&&(Ei=null),de($.stateNode),In(a),l!==null)for(S=a.onRecoverableError,$=0;$<l.length;$++)ct=l[$],S(ct.value,{componentStack:ct.stack});return Kl&3&&Zt(),ct=a.pendingLanes,g&4194218&&ct&42?a===lo?Ua++:(Ua=0,lo=a):Ua=0,fn(0),null}function Nt(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,jo(l)))}function Zt(){if(La!==null){var a=La,l=sr;sr=0;var d=ea(Kl),g=U.T,S=it.p;try{if(it.p=32>d?32:d,U.T=null,La===null)var A=!1;else{d=Jn,Jn=null;var O=La,k=Kl;if(La=null,Kl=0,ke&6)throw Error(i(331));var $=ke;if(ke|=4,$c(O.current),no(O,O.current,k,d),ke=$,fn(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(xe,O)}catch{}A=!0}return A}finally{it.p=S,U.T=g,Nt(a,l)}}return!1}function re(a,l,d){l=Vs(d,l),l=Em(a.stateNode,l,2),a=la(a,l,2),a!==null&&(ss(a,2),In(a))}function Wt(a,l,d){if(a.tag===3)re(a,a,d);else for(;l!==null;){if(l.tag===3){re(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ei===null||!Ei.has(g))){a=Vs(d,a),d=Am(2),g=la(l,d,2),g!==null&&(ry(d,g,l,a),ss(g,2),In(g));break}}l=l.return}}function je(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new ro;var S=new Set;g.set(l,S)}else S=g.get(l),S===void 0&&(S=new Set,g.set(l,S));S.has(d)||(cl=!0,S.add(d),a=Pa.bind(null,a,l,d),l.then(a,a))}function Pa(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,On===a&&(De&d)===d&&(Zn===4||Zn===3&&(De&62914560)===De&&300>wt()-$e?!(ke&2)&&co(a,0):tu|=d,Sr===De&&(Sr=0)),In(a)}function iu(a,l){l===0&&(l=dn()),a=Hr(a,l),a!==null&&(ss(a,l),In(a))}function Jl(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),iu(a,d)}function St(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(l),iu(a,d)}function ft(a,l){return Qt(a,l)}var Mt=null,Xt=null,Te=!1,zn=!1,Ne=!1,sn=0;function In(a){a!==Xt&&a.next===null&&(Xt===null?Mt=Xt=a:Xt=Xt.next=a),zn=!0,Te||(Te=!0,r4(fl))}function fn(a,l){if(!Ne&&zn){Ne=!0;do for(var d=!1,g=Mt;g!==null;){if(a!==0){var S=g.pendingLanes;if(S===0)var A=0;else{var O=g.suspendedLanes,k=g.pingedLanes;A=(1<<31-Me(42|a)+1)-1,A&=S&~(O&~k),A=A&201326677?A&201326677|1:A?A|2:0}A!==0&&(d=!0,QA(g,A))}else A=De,A=ne(g,g===On?A:0),!(A&3)||Le(g,A)||(d=!0,QA(g,A));g=g.next}while(d);Ne=!1}}function fl(){zn=Te=!1;var a=0;sn!==0&&(p4()&&(a=sn),sn=0);for(var l=wt(),d=null,g=Mt;g!==null;){var S=g.next,A=dy(g,l);A===0?(g.next=null,d===null?Mt=S:d.next=S,S===null&&(Xt=d)):(d=g,(a!==0||A&3)&&(zn=!0)),g=S}fn(a)}function dy(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,S=a.expirationTimes,A=a.pendingLanes&-62914561;0<A;){var O=31-Me(A),k=1<<O,$=S[O];$===-1?(!(k&d)||k&g)&&(S[O]=Bn(k,l)):$<=l&&(a.expiredLanes|=k),A&=~k}if(l=On,d=De,d=ne(a,a===l?d:0),g=a.callbackNode,d===0||a===l&&Vn===2||a.cancelPendingCommit!==null)return g!==null&&g!==null&&q(g),a.callbackNode=null,a.callbackPriority=0;if(!(d&3)||Le(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&q(g),ea(d)){case 2:case 8:d=ce;break;case 32:d=ee;break;case 268435456:d=Ze;break;default:d=ee}return g=KA.bind(null,a),d=Qt(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&q(g),a.callbackPriority=2,a.callbackNode=null,2}function KA(a,l){var d=a.callbackNode;if(Zt()&&a.callbackNode!==d)return null;var g=De;return g=ne(a,a===On?g:0),g===0?null:(eu(a,g,l),dy(a,wt()),a.callbackNode!=null&&a.callbackNode===d?KA.bind(null,a):null)}function QA(a,l){if(Zt())return null;eu(a,l,!0)}function r4(a){g4(function(){ke&6?Qt(Dt,a):a()})}function rS(){return sn===0&&(sn=ti()),sn}function $A(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hu(""+a)}function JA(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function o4(a,l,d,g,S){if(l==="submit"&&d&&d.stateNode===S){var A=$A((S[Ke]||null).action),O=g.submitter;O&&(l=(l=O[Ke]||null)?$A(l.formAction):O.getAttribute("formAction"),l!==null&&(A=l,O=null));var k=new Ac("action","action",null,g,S);a.push({event:k,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(sn!==0){var $=O?JA(S,O):new FormData(S);_m(d,{pending:!0,data:$,method:S.method,action:A},null,$)}}else typeof A=="function"&&(k.preventDefault(),$=O?JA(S,O):new FormData(S),_m(d,{pending:!0,data:$,method:S.method,action:A},A,$))},currentTarget:S}]})}}for(var oS=0;oS<Ir.length;oS++){var lS=Ir[oS],l4=lS.toLowerCase(),c4=lS[0].toUpperCase()+lS.slice(1);Ma(l4,"on"+c4)}Ma(rm,"onAnimationEnd"),Ma(Bs,"onAnimationIteration"),Ma(om,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Vr,"onTransitionRun"),Ma(Pc,"onTransitionStart"),Ma(zo,"onTransitionCancel"),Ma(jh,"onTransitionEnd"),ae("onMouseEnter",["mouseout","mouseover"]),ae("onMouseLeave",["mouseout","mouseover"]),ae("onPointerEnter",["pointerout","pointerover"]),ae("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gm));function tw(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],S=g.event;g=g.listeners;t:{var A=void 0;if(l)for(var O=g.length-1;0<=O;O--){var k=g[O],$=k.instance,ct=k.currentTarget;if(k=k.listener,$!==A&&S.isPropagationStopped())break t;A=k,S.currentTarget=ct;try{A(S)}catch(Lt){ad(Lt)}S.currentTarget=null,A=$}else for(O=0;O<g.length;O++){if(k=g[O],$=k.instance,ct=k.currentTarget,k=k.listener,$!==A&&S.isPropagationStopped())break t;A=k,S.currentTarget=ct;try{A(S)}catch(Lt){ad(Lt)}S.currentTarget=null,A=$}}}}function xn(a,l){var d=l[Ro];d===void 0&&(d=l[Ro]=new Set);var g=a+"__bubble";d.has(g)||(ew(l,a,2,!1),d.add(g))}function cS(a,l,d){var g=0;l&&(g|=4),ew(d,a,g,l)}var py="_reactListening"+Math.random().toString(36).slice(2);function uS(a){if(!a[py]){a[py]=!0,ut.forEach(function(d){d!=="selectionchange"&&(u4.has(d)||cS(d,!1,a),cS(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[py]||(l[py]=!0,cS("selectionchange",!1,l))}}function ew(a,l,d,g){switch(Tw(l)){case 2:var S=z4;break;case 8:S=B4;break;default:S=MS}d=S.bind(null,l,d,a),S=void 0,!ku||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),g?S!==void 0?a.addEventListener(l,d,{capture:!0,passive:S}):a.addEventListener(l,d,!0):S!==void 0?a.addEventListener(l,d,{passive:S}):a.addEventListener(l,d,!1)}function fS(a,l,d,g,S){var A=g;if(!(l&1)&&!(l&2)&&g!==null)t:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var k=g.stateNode.containerInfo;if(k===S||k.nodeType===8&&k.parentNode===S)break;if(O===4)for(O=g.return;O!==null;){var $=O.tag;if(($===3||$===4)&&($=O.stateNode.containerInfo,$===S||$.nodeType===8&&$.parentNode===S))return;O=O.return}for(;k!==null;){if(O=qa(k),O===null)return;if($=O.tag,$===5||$===6||$===26||$===27){g=A=O;continue t}k=k.parentNode}}g=g.return}Gp(function(){var ct=A,Lt=Gu(d),jt=[];t:{var bt=Xh.get(a);if(bt!==void 0){var Ct=Ac,Ee=a;switch(a){case"keypress":if(Do(d)===0)break t;case"keydown":case"keyup":Ct=Wp;break;case"focusin":Ee="focus",Ct=Oh;break;case"focusout":Ee="blur",Ct=Oh;break;case"beforeblur":case"afterblur":Ct=Oh;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=W1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=Zp;break;case rm:case Bs:case om:Ct=rv;break;case jh:Ct=Pr;break;case"scroll":case"scrollend":Ct=iv;break;case"wheel":Ct=Y1;break;case"copy":case"cut":case"paste":Ct=lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=zh;break;case"toggle":case"beforetoggle":Ct=Lo}var Xe=(l&4)!==0,wi=!Xe&&(a==="scroll"||a==="scrollend"),ht=Xe?bt!==null?bt+"Capture":null:bt;Xe=[];for(var ot=ct,xt;ot!==null;){var Bt=ot;if(xt=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||xt===null||ht===null||(Bt=Mc(ot,ht),Bt!=null&&Xe.push(km(ot,Bt,xt))),wi)break;ot=ot.return}0<Xe.length&&(bt=new Ct(bt,Ee,null,d,Lt),jt.push({event:bt,listeners:Xe}))}}if(!(l&7)){t:{if(bt=a==="mouseover"||a==="pointerover",Ct=a==="mouseout"||a==="pointerout",bt&&d!==Dh&&(Ee=d.relatedTarget||d.fromElement)&&(qa(Ee)||Ee[Xa]))break t;if((Ct||bt)&&(bt=Lt.window===Lt?Lt:(bt=Lt.ownerDocument)?bt.defaultView||bt.parentWindow:window,Ct?(Ee=d.relatedTarget||d.toElement,Ct=ct,Ee=Ee?qa(Ee):null,Ee!==null&&(wi=Q(Ee),Xe=Ee.tag,Ee!==wi||Xe!==5&&Xe!==27&&Xe!==6)&&(Ee=null)):(Ct=null,Ee=ct),Ct!==Ee)){if(Xe=Xp,Bt="onMouseLeave",ht="onMouseEnter",ot="mouse",(a==="pointerout"||a==="pointerover")&&(Xe=zh,Bt="onPointerLeave",ht="onPointerEnter",ot="pointer"),wi=Ct==null?bt:rt(Ct),xt=Ee==null?bt:rt(Ee),bt=new Xe(Bt,ot+"leave",Ct,d,Lt),bt.target=wi,bt.relatedTarget=xt,Bt=null,qa(Lt)===ct&&(Xe=new Xe(ht,ot+"enter",Ee,d,Lt),Xe.target=xt,Xe.relatedTarget=wi,Bt=Xe),wi=Bt,Ct&&Ee)e:{for(Xe=Ct,ht=Ee,ot=0,xt=Xe;xt;xt=xd(xt))ot++;for(xt=0,Bt=ht;Bt;Bt=xd(Bt))xt++;for(;0<ot-xt;)Xe=xd(Xe),ot--;for(;0<xt-ot;)ht=xd(ht),xt--;for(;ot--;){if(Xe===ht||ht!==null&&Xe===ht.alternate)break e;Xe=xd(Xe),ht=xd(ht)}Xe=null}else Xe=null;Ct!==null&&nw(jt,bt,Ct,Xe,!1),Ee!==null&&wi!==null&&nw(jt,wi,Ee,Xe,!0)}}t:{if(bt=ct?rt(ct):window,Ct=bt.nodeName&&bt.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&bt.type==="file")var _e=Vh;else if(Jp(bt))if(Ih)_e=Po;else{_e=yv;var hn=Z1}else Ct=bt.nodeName,!Ct||Ct.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?ct&&Fu(ct.elementType)&&(_e=Vh):_e=Ju;if(_e&&(_e=_e(a,ct))){Os(jt,_e,d,Lt);break t}hn&&hn(a,bt,ct),a==="focusout"&&ct&&bt.type==="number"&&ct.memoizedProps.value!=null&&qi(bt,"number",bt.value)}switch(hn=ct?rt(ct):window,a){case"focusin":(Jp(hn)||hn.contentEditable==="true")&&(Ll=hn,sm=ct,Oc=null);break;case"focusout":Oc=sm=Ll=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,ba(jt,d,Lt);break;case"selectionchange":if(Hh)break;case"keydown":case"keyup":ba(jt,d,Lt)}var Re;if(Wu)t:{switch(a){case"compositionstart":var ze="onCompositionStart";break t;case"compositionend":ze="onCompositionEnd";break t;case"compositionupdate":ze="onCompositionUpdate";break t}ze=void 0}else Oo?Ku(a,d)&&(ze="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ze="onCompositionStart");ze&&(Zu&&d.locale!=="ko"&&(Oo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Oo&&(Re=jp()):(Ur=Lt,kp="value"in Ur?Ur.value:Ur.textContent,Oo=!0)),hn=my(ct,ze),0<hn.length&&(ze=new Ph(ze,a,null,d,Lt),jt.push({event:ze,listeners:hn}),Re?ze.data=Re:(Re=Qp(d),Re!==null&&(ze.data=Re)))),(Re=Yu?Qu(a,d):$p(a,d))&&(ze=my(ct,"onBeforeInput"),0<ze.length&&(hn=new Ph("onBeforeInput","beforeinput",null,d,Lt),jt.push({event:hn,listeners:ze}),hn.data=Re)),o4(jt,a,ct,d,Lt)}tw(jt,l)})}function km(a,l,d){return{instance:a,listener:l,currentTarget:d}}function my(a,l){for(var d=l+"Capture",g=[];a!==null;){var S=a,A=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||A===null||(S=Mc(a,d),S!=null&&g.unshift(km(a,S,A)),S=Mc(a,l),S!=null&&g.push(km(a,S,A))),a=a.return}return g}function xd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nw(a,l,d,g,S){for(var A=l._reactName,O=[];d!==null&&d!==g;){var k=d,$=k.alternate,ct=k.stateNode;if(k=k.tag,$!==null&&$===g)break;k!==5&&k!==26&&k!==27||ct===null||($=ct,S?(ct=Mc(d,A),ct!=null&&O.unshift(km(d,ct,$))):S||(ct=Mc(d,A),ct!=null&&O.push(km(d,ct,$)))),d=d.return}O.length!==0&&a.push({event:l,listeners:O})}var f4=/\r\n?/g,h4=/\u0000|\uFFFD/g;function iw(a){return(typeof a=="string"?a:""+a).replace(f4,`
`).replace(h4,"")}function sw(a,l){return l=iw(l),iw(a)===l}function gy(){}function Xn(a,l,d,g,S,A){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||bs(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&bs(a,""+g);break;case"className":Gn(a,"class",g);break;case"tabIndex":Gn(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(a,d,g);break;case"style":Hp(a,g,A);break;case"data":if(l!=="object"){Gn(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Hu(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(l!=="input"&&Xn(a,l,"name",S.name,S,null),Xn(a,l,"formEncType",S.formEncType,S,null),Xn(a,l,"formMethod",S.formMethod,S,null),Xn(a,l,"formTarget",S.formTarget,S,null)):(Xn(a,l,"encType",S.encType,S,null),Xn(a,l,"method",S.method,S,null),Xn(a,l,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Hu(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=gy);break;case"onScroll":g!=null&&xn("scroll",a);break;case"onScrollEnd":g!=null&&xn("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(S.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Hu(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":xn("beforetoggle",a),xn("toggle",a),cn(a,"popover",g);break;case"xlinkActuate":mn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":mn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":mn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":mn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":mn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":mn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":mn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":mn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":mn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":cn(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ev.get(d)||d,cn(a,d,g))}}function hS(a,l,d,g,S,A){switch(d){case"style":Hp(a,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(S.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof g=="string"?bs(a,g):(typeof g=="number"||typeof g=="bigint")&&bs(a,""+g);break;case"onScroll":g!=null&&xn("scroll",a);break;case"onScrollEnd":g!=null&&xn("scrollend",a);break;case"onClick":g!=null&&(a.onclick=gy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gt.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),l=d.slice(2,S?d.length-7:void 0),A=a[Ke]||null,A=A!=null?A[d]:null,typeof A=="function"&&a.removeEventListener(l,A,S),typeof g=="function")){typeof A!="function"&&A!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,S);break t}d in a?a[d]=g:g===!0?a.setAttribute(d,""):cn(a,d,g)}}}function Ns(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xn("error",a),xn("load",a);var g=!1,S=!1,A;for(A in d)if(d.hasOwnProperty(A)){var O=d[A];if(O!=null)switch(A){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Xn(a,l,A,O,d,null)}}S&&Xn(a,l,"srcSet",d.srcSet,d,null),g&&Xn(a,l,"src",d.src,d,null);return;case"input":xn("invalid",a);var k=A=O=S=null,$=null,ct=null;for(g in d)if(d.hasOwnProperty(g)){var Lt=d[g];if(Lt!=null)switch(g){case"name":S=Lt;break;case"type":O=Lt;break;case"checked":$=Lt;break;case"defaultChecked":ct=Lt;break;case"value":A=Lt;break;case"defaultValue":k=Lt;break;case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(i(137,l));break;default:Xn(a,l,g,Lt,d,null)}}rs(a,A,k,$,ct,O,S,!1),un(a);return;case"select":xn("invalid",a),g=O=A=null;for(S in d)if(d.hasOwnProperty(S)&&(k=d[S],k!=null))switch(S){case"value":A=k;break;case"defaultValue":O=k;break;case"multiple":g=k;default:Xn(a,l,S,k,d,null)}l=A,d=O,a.multiple=!!g,l!=null?ii(a,!!g,l,!1):d!=null&&ii(a,!!g,d,!0);return;case"textarea":xn("invalid",a),A=S=g=null;for(O in d)if(d.hasOwnProperty(O)&&(k=d[O],k!=null))switch(O){case"value":g=k;break;case"defaultValue":S=k;break;case"children":A=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Xn(a,l,O,k,d,null)}Wa(a,g,S,A),un(a);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(g=d[$],g!=null))switch($){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Xn(a,l,$,g,d,null)}return;case"dialog":xn("cancel",a),xn("close",a);break;case"iframe":case"object":xn("load",a);break;case"video":case"audio":for(g=0;g<Gm.length;g++)xn(Gm[g],a);break;case"image":xn("error",a),xn("load",a);break;case"details":xn("toggle",a);break;case"embed":case"source":case"link":xn("error",a),xn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in d)if(d.hasOwnProperty(ct)&&(g=d[ct],g!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Xn(a,l,ct,g,d,null)}return;default:if(Fu(l)){for(Lt in d)d.hasOwnProperty(Lt)&&(g=d[Lt],g!==void 0&&hS(a,l,Lt,g,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(g=d[k],g!=null&&Xn(a,l,k,g,d,null))}function d4(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,A=null,O=null,k=null,$=null,ct=null,Lt=null;for(Ct in d){var jt=d[Ct];if(d.hasOwnProperty(Ct)&&jt!=null)switch(Ct){case"checked":break;case"value":break;case"defaultValue":$=jt;default:g.hasOwnProperty(Ct)||Xn(a,l,Ct,null,g,jt)}}for(var bt in g){var Ct=g[bt];if(jt=d[bt],g.hasOwnProperty(bt)&&(Ct!=null||jt!=null))switch(bt){case"type":A=Ct;break;case"name":S=Ct;break;case"checked":ct=Ct;break;case"defaultChecked":Lt=Ct;break;case"value":O=Ct;break;case"defaultValue":k=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(i(137,l));break;default:Ct!==jt&&Xn(a,l,bt,Ct,g,jt)}}Rn(a,O,k,$,ct,Lt,A,S);return;case"select":Ct=O=k=bt=null;for(A in d)if($=d[A],d.hasOwnProperty(A)&&$!=null)switch(A){case"value":break;case"multiple":Ct=$;default:g.hasOwnProperty(A)||Xn(a,l,A,null,g,$)}for(S in g)if(A=g[S],$=d[S],g.hasOwnProperty(S)&&(A!=null||$!=null))switch(S){case"value":bt=A;break;case"defaultValue":k=A;break;case"multiple":O=A;default:A!==$&&Xn(a,l,S,A,g,$)}l=k,d=O,g=Ct,bt!=null?ii(a,!!d,bt,!1):!!g!=!!d&&(l!=null?ii(a,!!d,l,!0):ii(a,!!d,d?[]:"",!1));return;case"textarea":Ct=bt=null;for(k in d)if(S=d[k],d.hasOwnProperty(k)&&S!=null&&!g.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Xn(a,l,k,null,g,S)}for(O in g)if(S=g[O],A=d[O],g.hasOwnProperty(O)&&(S!=null||A!=null))switch(O){case"value":bt=S;break;case"defaultValue":Ct=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==A&&Xn(a,l,O,S,g,A)}Vi(a,bt,Ct);return;case"option":for(var Ee in d)if(bt=d[Ee],d.hasOwnProperty(Ee)&&bt!=null&&!g.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:Xn(a,l,Ee,null,g,bt)}for($ in g)if(bt=g[$],Ct=d[$],g.hasOwnProperty($)&&bt!==Ct&&(bt!=null||Ct!=null))switch($){case"selected":a.selected=bt&&typeof bt!="function"&&typeof bt!="symbol";break;default:Xn(a,l,$,bt,g,Ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in d)bt=d[Xe],d.hasOwnProperty(Xe)&&bt!=null&&!g.hasOwnProperty(Xe)&&Xn(a,l,Xe,null,g,bt);for(ct in g)if(bt=g[ct],Ct=d[ct],g.hasOwnProperty(ct)&&bt!==Ct&&(bt!=null||Ct!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(i(137,l));break;default:Xn(a,l,ct,bt,g,Ct)}return;default:if(Fu(l)){for(var wi in d)bt=d[wi],d.hasOwnProperty(wi)&&bt!==void 0&&!g.hasOwnProperty(wi)&&hS(a,l,wi,void 0,g,bt);for(Lt in g)bt=g[Lt],Ct=d[Lt],!g.hasOwnProperty(Lt)||bt===Ct||bt===void 0&&Ct===void 0||hS(a,l,Lt,bt,g,Ct);return}}for(var ht in d)bt=d[ht],d.hasOwnProperty(ht)&&bt!=null&&!g.hasOwnProperty(ht)&&Xn(a,l,ht,null,g,bt);for(jt in g)bt=g[jt],Ct=d[jt],!g.hasOwnProperty(jt)||bt===Ct||bt==null&&Ct==null||Xn(a,l,jt,bt,g,Ct)}var dS=null,pS=null;function vy(a){return a.nodeType===9?a:a.ownerDocument}function aw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rw(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function mS(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gS=null;function p4(){var a=window.event;return a&&a.type==="popstate"?a===gS?!1:(gS=a,!0):(gS=null,!1)}var ow=typeof setTimeout=="function"?setTimeout:void 0,m4=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,g4=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(a){return lw.resolve(null).then(a).catch(v4)}:ow;function v4(a){setTimeout(function(){throw a})}function vS(a,l){var d=l,g=0;do{var S=d.nextSibling;if(a.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(g===0){a.removeChild(S),Qm(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=S}while(d);Qm(l)}function yS(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":yS(d),wl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function y4(a,l,d,g){for(;a.nodeType===1;){var S=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Lr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(A=a.getAttribute("rel"),A==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(A!==S.rel||a.getAttribute("href")!==(S.href==null?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(A=a.getAttribute("src"),(A!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&A&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var A=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===A)return a}else return a;if(a=uo(a.nextSibling),a===null)break}return null}function x4(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=uo(a.nextSibling),a===null))return null;return a}function uo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}function cw(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function uw(a,l,d){switch(l=vy(d),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var Mr=new Map,fw=new Set;function yy(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var tc=it.d;it.d={f:_4,r:S4,D:b4,C:M4,L:T4,m:E4,X:w4,S:A4,M:C4};function _4(){var a=tc.f(),l=Ql();return a||l}function S4(a){var l=H(a);l!==null&&l.tag===5&&l.type==="form"?Yv(l):tc.r(a)}var _d=typeof document>"u"?null:document;function hw(a,l,d){var g=_d;if(g&&typeof l=="string"&&l){var S=Li(l);S='link[rel="'+a+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),fw.has(S)||(fw.add(S),a={rel:a,crossOrigin:d,href:l},g.querySelector(S)===null&&(l=g.createElement("link"),Ns(l,"link",a),gt(l),g.head.appendChild(l)))}}function b4(a){tc.D(a),hw("dns-prefetch",a,null)}function M4(a,l){tc.C(a,l),hw("preconnect",a,l)}function T4(a,l,d){tc.L(a,l,d);var g=_d;if(g&&a&&l){var S='link[rel="preload"][as="'+Li(l)+'"]';l==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Li(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Li(d.imageSizes)+'"]')):S+='[href="'+Li(a)+'"]';var A=S;switch(l){case"style":A=Sd(a);break;case"script":A=bd(a)}Mr.has(A)||(a=z({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Mr.set(A,a),g.querySelector(S)!==null||l==="style"&&g.querySelector(jm(A))||l==="script"&&g.querySelector(Xm(A))||(l=g.createElement("link"),Ns(l,"link",a),gt(l),g.head.appendChild(l)))}}function E4(a,l){tc.m(a,l);var d=_d;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Li(g)+'"][href="'+Li(a)+'"]',A=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=bd(a)}if(!Mr.has(A)&&(a=z({rel:"modulepreload",href:a},l),Mr.set(A,a),d.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Xm(A)))return}g=d.createElement("link"),Ns(g,"link",a),gt(g),d.head.appendChild(g)}}}function A4(a,l,d){tc.S(a,l,d);var g=_d;if(g&&a){var S=_t(g).hoistableStyles,A=Sd(a);l=l||"default";var O=S.get(A);if(!O){var k={loading:0,preload:null};if(O=g.querySelector(jm(A)))k.loading=5;else{a=z({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Mr.get(A))&&xS(a,d);var $=O=g.createElement("link");gt($),Ns($,"link",a),$._p=new Promise(function(ct,Lt){$.onload=ct,$.onerror=Lt}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,xy(O,l,g)}O={type:"stylesheet",instance:O,count:1,state:k},S.set(A,O)}}}function w4(a,l){tc.X(a,l);var d=_d;if(d&&a){var g=_t(d).hoistableScripts,S=bd(a),A=g.get(S);A||(A=d.querySelector(Xm(S)),A||(a=z({src:a,async:!0},l),(l=Mr.get(S))&&_S(a,l),A=d.createElement("script"),gt(A),Ns(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function C4(a,l){tc.M(a,l);var d=_d;if(d&&a){var g=_t(d).hoistableScripts,S=bd(a),A=g.get(S);A||(A=d.querySelector(Xm(S)),A||(a=z({src:a,async:!0,type:"module"},l),(l=Mr.get(S))&&_S(a,l),A=d.createElement("script"),gt(A),Ns(A,"link",a),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(S,A))}}function dw(a,l,d,g){var S=(S=Rt.current)?yy(S):null;if(!S)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Sd(d.href),d=_t(S).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Sd(d.href);var A=_t(S).hoistableStyles,O=A.get(a);if(O||(S=S.ownerDocument||S,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(a,O),(A=S.querySelector(jm(a)))&&!A._p&&(O.instance=A,O.state.loading=5),Mr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Mr.set(a,d),A||R4(S,a,d,O.state))),l&&g===null)throw Error(i(528,""));return O}if(l&&g!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=bd(d),d=_t(S).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Sd(a){return'href="'+Li(a)+'"'}function jm(a){return'link[rel="stylesheet"]['+a+"]"}function pw(a){return z({},a,{"data-precedence":a.precedence,precedence:null})}function R4(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Ns(l,"link",d),gt(l),a.head.appendChild(l))}function bd(a){return'[src="'+Li(a)+'"]'}function Xm(a){return"script[async]"+a}function mw(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+Li(d.href)+'"]');if(g)return l.instance=g,gt(g),g;var S=z({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),gt(g),Ns(g,"style",S),xy(g,d.precedence,a),l.instance=g;case"stylesheet":S=Sd(d.href);var A=a.querySelector(jm(S));if(A)return l.state.loading|=4,l.instance=A,gt(A),A;g=pw(d),(S=Mr.get(S))&&xS(g,S),A=(a.ownerDocument||a).createElement("link"),gt(A);var O=A;return O._p=new Promise(function(k,$){O.onload=k,O.onerror=$}),Ns(A,"link",g),l.state.loading|=4,xy(A,d.precedence,a),l.instance=A;case"script":return A=bd(d.src),(S=a.querySelector(Xm(A)))?(l.instance=S,gt(S),S):(g=d,(S=Mr.get(A))&&(g=z({},d),_S(g,S)),a=a.ownerDocument||a,S=a.createElement("script"),gt(S),Ns(S,"link",g),a.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(g=l.instance,l.state.loading|=4,xy(g,d.precedence,a));return l.instance}function xy(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,A=S,O=0;O<g.length;O++){var k=g[O];if(k.dataset.precedence===l)A=k;else if(A!==S)break}A?A.parentNode.insertBefore(a,A.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function xS(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function _S(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var _y=null;function gw(a,l,d){if(_y===null){var g=new Map,S=_y=new Map;S.set(d,g)}else S=_y,g=S.get(d),g||(g=new Map,S.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),S=0;S<d.length;S++){var A=d[S];if(!(A[Lr]||A[ni]||a==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var O=A.getAttribute(l)||"";O=a+O;var k=g.get(O);k?k.push(A):g.set(O,[A])}}return g}function vw(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function D4(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function yw(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var qm=null;function N4(){}function L4(a,l,d){if(qm===null)throw Error(i(475));var g=qm;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var S=Sd(d.href),A=a.querySelector(jm(S));if(A){a=A._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Sy.bind(g),a.then(g,g)),l.state.loading|=4,l.instance=A,gt(A);return}A=a.ownerDocument||a,d=pw(d),(S=Mr.get(S))&&xS(d,S),A=A.createElement("link"),gt(A);var O=A;O._p=new Promise(function(k,$){O.onload=k,O.onerror=$}),Ns(A,"link",d),l.instance=A}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,a),(a=l.state.preload)&&!(l.state.loading&3)&&(g.count++,l=Sy.bind(g),a.addEventListener("load",l),a.addEventListener("error",l))}}function U4(){if(qm===null)throw Error(i(475));var a=qm;return a.stylesheets&&a.count===0&&SS(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&SS(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Sy(){if(this.count--,this.count===0){if(this.stylesheets)SS(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var by=null;function SS(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,by=new Map,l.forEach(O4,a),by=null,Sy.call(a))}function O4(a,l){if(!(l.state.loading&4)){var d=by.get(a);if(d)var g=d.get(null);else{d=new Map,by.set(a,d);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<S.length;A++){var O=S[A];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),g=O)}g&&d.set(null,g)}S=l.instance,O=S.getAttribute("data-precedence"),A=d.get(O)||g,A===g&&d.set(null,S),d.set(O,S),this.count++,g=Sy.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),A?A.parentNode.insertBefore(S,A.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),l.state.loading|=4}}var Wm={$$typeof:_,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function P4(a,l,d,g,S,A,O,k){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=A,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function xw(a,l,d,g,S,A,O,k,$,ct,Lt,jt){return a=new P4(a,l,d,O,k,$,ct,jt),l=1,A===!0&&(l|=24),A=pi(3,null,null,l),a.current=A,A.stateNode=a,l=fm(),l.refCount++,a.pooledCache=l,l.refCount++,A.memoizedState={element:g,isDehydrated:d,cache:l},As(A),a}function _w(a){return a?(a=Bo,a):Bo}function Sw(a,l,d,g,S,A){S=_w(S),g.context===null?g.context=S:g.pendingContext=S,g=oa(l),g.payload={element:d},A=A===void 0?null:A,A!==null&&(g.callback=A),d=la(a,g,l),d!==null&&(Ai(d,a,l),el(d,a,l))}function bw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function bS(a,l){bw(a,l),(a=a.alternate)&&bw(a,l)}function Mw(a){if(a.tag===13){var l=Hr(a,67108864);l!==null&&Ai(l,a,67108864),bS(a,67108864)}}var My=!0;function z4(a,l,d,g){var S=U.T;U.T=null;var A=it.p;try{it.p=2,MS(a,l,d,g)}finally{it.p=A,U.T=S}}function B4(a,l,d,g){var S=U.T;U.T=null;var A=it.p;try{it.p=8,MS(a,l,d,g)}finally{it.p=A,U.T=S}}function MS(a,l,d,g){if(My){var S=TS(g);if(S===null)fS(a,l,g,Ty,d),Ew(a,g);else if(I4(S,a,l,d,g))g.stopPropagation();else if(Ew(a,g),l&4&&-1<V4.indexOf(a)){for(;S!==null;){var A=H(S);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var O=te(A.pendingLanes);if(O!==0){var k=A;for(k.pendingLanes|=2,k.entangledLanes|=2;O;){var $=1<<31-Me(O);k.entanglements[1]|=$,O&=~$}In(A),!(ke&6)&&(on=wt()+500,fn(0))}}break;case 13:k=Hr(A,2),k!==null&&Ai(k,A,2),Ql(),bS(A,2)}if(A=TS(g),A===null&&fS(a,l,g,Ty,d),A===S)break;S=A}S!==null&&g.stopPropagation()}else fS(a,l,g,null,d)}}function TS(a){return a=Gu(a),ES(a)}var Ty=null;function ES(a){if(Ty=null,a=qa(a),a!==null){var l=Q(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=vt(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Ty=a,null}function Tw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case Dt:return 2;case ce:return 8;case ee:case he:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var AS=!1,su=null,au=null,ru=null,Ym=new Map,Zm=new Map,ou=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ew(a,l){switch(a){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":ru=null;break;case"pointerover":case"pointerout":Ym.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(l.pointerId)}}function Km(a,l,d,g,S,A){return a===null||a.nativeEvent!==A?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},l!==null&&(l=H(l),l!==null&&Mw(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),a)}function I4(a,l,d,g,S){switch(l){case"focusin":return su=Km(su,a,l,d,g,S),!0;case"dragenter":return au=Km(au,a,l,d,g,S),!0;case"mouseover":return ru=Km(ru,a,l,d,g,S),!0;case"pointerover":var A=S.pointerId;return Ym.set(A,Km(Ym.get(A)||null,a,l,d,g,S)),!0;case"gotpointercapture":return A=S.pointerId,Zm.set(A,Km(Zm.get(A)||null,a,l,d,g,S)),!0}return!1}function Aw(a){var l=qa(a.target);if(l!==null){var d=Q(l);if(d!==null){if(l=d.tag,l===13){if(l=vt(d),l!==null){a.blockedOn=l,ja(a.priority,function(){if(d.tag===13){var g=Ds(),S=Hr(d,g);S!==null&&Ai(S,d,g),bS(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ey(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=TS(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Dh=g,d.target.dispatchEvent(g),Dh=null}else return l=H(d),l!==null&&Mw(l),a.blockedOn=d,!1;l.shift()}return!0}function ww(a,l,d){Ey(a)&&d.delete(l)}function F4(){AS=!1,su!==null&&Ey(su)&&(su=null),au!==null&&Ey(au)&&(au=null),ru!==null&&Ey(ru)&&(ru=null),Ym.forEach(ww),Zm.forEach(ww)}function Ay(a,l){a.blockedOn===l&&(a.blockedOn=null,AS||(AS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,F4)))}var wy=null;function Cw(a){wy!==a&&(wy=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wy===a&&(wy=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],S=a[l+2];if(typeof g!="function"){if(ES(g||d)===null)continue;break}var A=H(d);A!==null&&(a.splice(l,3),l-=3,_m(A,{pending:!0,data:S,method:d.method,action:g},g,S))}}))}function Qm(a){function l($){return Ay($,a)}su!==null&&Ay(su,a),au!==null&&Ay(au,a),ru!==null&&Ay(ru,a),Ym.forEach(l),Zm.forEach(l);for(var d=0;d<ou.length;d++){var g=ou[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<ou.length&&(d=ou[0],d.blockedOn===null);)Aw(d),d.blockedOn===null&&ou.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var S=d[g],A=d[g+1],O=S[Ke]||null;if(typeof A=="function")O||Cw(d);else if(O){var k=null;if(A&&A.hasAttribute("formAction")){if(S=A,O=A[Ke]||null)k=O.formAction;else if(ES(S)!==null)continue}else k=O.action;typeof k=="function"?d[g+1]=k:(d.splice(g,3),g-=3),Cw(d)}}}function wS(a){this._internalRoot=a}Cy.prototype.render=wS.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,g=Ds();Sw(d,g,a,l,null,null)},Cy.prototype.unmount=wS.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;a.tag===0&&Zt(),Sw(a.current,2,null,a,null,null),Ql(),l[Xa]=null}};function Cy(a){this._internalRoot=a}Cy.prototype.unstable_scheduleHydration=function(a){if(a){var l=bc();a={blockedOn:null,target:a,priority:l};for(var d=0;d<ou.length&&l!==0&&l<ou[d].priority;d++);ou.splice(d,0,a),d===0&&Aw(a)}};var Rw=t.version;if(Rw!=="19.0.0")throw Error(i(527,Rw,"19.0.0"));it.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=nt(l),a=a!==null?Et(a):null,a=a===null?null:a.stateNode,a};var H4={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:qa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{xe=Ry.inject(H4),ve=Ry}catch{}}return Jm.createRoot=function(a,l){if(!s(a))throw Error(i(299));var d=!1,g="",S=ny,A=iy,O=sy,k=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=xw(a,1,!1,null,null,d,g,S,A,O,k,null),a[Xa]=l.current,uS(a.nodeType===8?a.parentNode:a),new wS(l)},Jm.hydrateRoot=function(a,l,d){if(!s(a))throw Error(i(299));var g=!1,S="",A=ny,O=iy,k=sy,$=null,ct=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&($=d.unstable_transitionCallbacks),d.formState!==void 0&&(ct=d.formState)),l=xw(a,1,!0,l,d??null,g,S,A,O,k,$,ct),l.context=_w(null),d=l.current,g=Ds(),S=oa(g),S.callback=null,la(d,S,g),l.current.lanes=g,ss(l,g),In(l),a[Xa]=l.current,uS(a),new Cy(l)},Jm.version="19.0.0",Jm}var Iw;function $4(){if(Iw)return DS.exports;Iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),DS.exports=Q4(),DS.exports}var UN=$4(),J4="1.3.17";function ON(n,t,e){return Math.max(n,Math.min(t,e))}function tV(n,t,e){return(1-e)*n+e*t}function eV(n,t,e,i){return tV(n,t,1-Math.exp(-e*i))}function nV(n,t){return(n%t+t)%t}var iV=class{constructor(){we(this,"isRunning",!1);we(this,"value",0);we(this,"from",0);we(this,"to",0);we(this,"currentTime",0);we(this,"lerp");we(this,"duration");we(this,"easing");we(this,"onUpdate")}advance(n){var e;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=n;const i=ON(0,this.currentTime/this.duration,1);t=i>=1;const s=t?1:this.easing(i);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=eV(this.value,this.to,this.lerp*60,n),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(e=this.onUpdate)==null||e.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(n,t,{lerp:e,duration:i,easing:s,onStart:r,onUpdate:o}){this.from=this.value=n,this.to=t,this.lerp=e,this.duration=i,this.easing=s,this.currentTime=0,this.isRunning=!0,r==null||r(),this.onUpdate=o}};function sV(n,t){let e;return function(...i){let s=this;clearTimeout(e),e=setTimeout(()=>{e=void 0,n.apply(s,i)},t)}}var aV=class{constructor(n,t,{autoResize:e=!0,debounce:i=250}={}){we(this,"width",0);we(this,"height",0);we(this,"scrollHeight",0);we(this,"scrollWidth",0);we(this,"debouncedResize");we(this,"wrapperResizeObserver");we(this,"contentResizeObserver");we(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});we(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});we(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=n,this.content=t,e&&(this.debouncedResize=sV(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var n,t;(n=this.wrapperResizeObserver)==null||n.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},PN=class{constructor(){we(this,"events",{})}emit(n,...t){var i;let e=this.events[n]||[];for(let s=0,r=e.length;s<r;s++)(i=e[s])==null||i.call(e,...t)}on(n,t){var e;return(e=this.events[n])!=null&&e.push(t)||(this.events[n]=[t]),()=>{var i;this.events[n]=(i=this.events[n])==null?void 0:i.filter(s=>t!==s)}}off(n,t){var e;this.events[n]=(e=this.events[n])==null?void 0:e.filter(i=>t!==i)}destroy(){this.events={}}},Fw=100/6,cu={passive:!1},rV=class{constructor(n,t={wheelMultiplier:1,touchMultiplier:1}){we(this,"touchStart",{x:0,y:0});we(this,"lastDelta",{x:0,y:0});we(this,"window",{width:0,height:0});we(this,"emitter",new PN);we(this,"onTouchStart",n=>{const{clientX:t,clientY:e}=n.targetTouches?n.targetTouches[0]:n;this.touchStart.x=t,this.touchStart.y=e,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:n})});we(this,"onTouchMove",n=>{const{clientX:t,clientY:e}=n.targetTouches?n.targetTouches[0]:n,i=-(t-this.touchStart.x)*this.options.touchMultiplier,s=-(e-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=e,this.lastDelta={x:i,y:s},this.emitter.emit("scroll",{deltaX:i,deltaY:s,event:n})});we(this,"onTouchEnd",n=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:n})});we(this,"onWheel",n=>{let{deltaX:t,deltaY:e,deltaMode:i}=n;const s=i===1?Fw:i===2?this.window.width:1,r=i===1?Fw:i===2?this.window.height:1;t*=s,e*=r,t*=this.options.wheelMultiplier,e*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:e,event:n})});we(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=n,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,cu),this.element.addEventListener("touchstart",this.onTouchStart,cu),this.element.addEventListener("touchmove",this.onTouchMove,cu),this.element.addEventListener("touchend",this.onTouchEnd,cu)}on(n,t){return this.emitter.on(n,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,cu),this.element.removeEventListener("touchstart",this.onTouchStart,cu),this.element.removeEventListener("touchmove",this.onTouchMove,cu),this.element.removeEventListener("touchend",this.onTouchEnd,cu)}},Hw=n=>Math.min(1,1.001-Math.pow(2,-10*n)),oV=class{constructor({wrapper:n=window,content:t=document.documentElement,eventsTarget:e=n,smoothWheel:i=!0,syncTouch:s=!1,syncTouchLerp:r=.075,touchInertiaExponent:o=1.7,duration:c,easing:h,lerp:p=.1,infinite:m=!1,orientation:v="vertical",gestureOrientation:x=v==="horizontal"?"both":"vertical",touchMultiplier:_=1,wheelMultiplier:T=1,autoResize:C=!0,prevent:E,virtualScroll:M,overscroll:R=!0,autoRaf:D=!1,anchors:L=!1,autoToggle:B=!1,allowNestedScroll:P=!1,__experimental__naiveDimensions:I=!1,naiveDimensions:V=I,stopInertiaOnNavigate:U=!1}={}){we(this,"_isScrolling",!1);we(this,"_isStopped",!1);we(this,"_isLocked",!1);we(this,"_preventNextNativeScrollEvent",!1);we(this,"_resetVelocityTimeout",null);we(this,"_rafId",null);we(this,"isTouching");we(this,"time",0);we(this,"userData",{});we(this,"lastVelocity",0);we(this,"velocity",0);we(this,"direction",0);we(this,"options");we(this,"targetScroll");we(this,"animatedScroll");we(this,"animate",new iV);we(this,"emitter",new PN);we(this,"dimensions");we(this,"virtualScroll");we(this,"onScrollEnd",n=>{n instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&n.stopPropagation()});we(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});we(this,"onTransitionEnd",n=>{n.propertyName.includes("overflow")&&this.checkOverflow()});we(this,"onClick",n=>{const e=n.composedPath().filter(i=>i instanceof HTMLAnchorElement&&i.getAttribute("href"));if(this.options.anchors){const i=e.find(s=>{var r;return(r=s.getAttribute("href"))==null?void 0:r.includes("#")});if(i){const s=i.getAttribute("href");if(s){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,o=`#${s.split("#")[1]}`;this.scrollTo(o,r)}}}this.options.stopInertiaOnNavigate&&e.find(s=>s.host===window.location.host)&&this.reset()});we(this,"onPointerDown",n=>{n.button===1&&this.reset()});we(this,"onVirtualScroll",n=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(n)===!1)return;const{deltaX:t,deltaY:e,event:i}=n;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:e,event:i}),i.ctrlKey||i.lenisStopPropagation)return;const s=i.type.includes("touch"),r=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";const o=t===0&&e===0;if(this.options.syncTouch&&s&&i.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const h=this.options.gestureOrientation==="vertical"&&e===0||this.options.gestureOrientation==="horizontal"&&t===0;if(o||h)return;let p=i.composedPath();p=p.slice(0,p.indexOf(this.rootElement));const m=this.options.prevent;if(p.find(E=>{var M,R,D;return E instanceof HTMLElement&&(typeof m=="function"&&(m==null?void 0:m(E))||((M=E.hasAttribute)==null?void 0:M.call(E,"data-lenis-prevent"))||s&&((R=E.hasAttribute)==null?void 0:R.call(E,"data-lenis-prevent-touch"))||r&&((D=E.hasAttribute)==null?void 0:D.call(E,"data-lenis-prevent-wheel"))||this.options.allowNestedScroll&&this.checkNestedScroll(E,{deltaX:t,deltaY:e}))}))return;if(this.isStopped||this.isLocked){i.cancelable&&i.preventDefault();return}if(!(this.options.syncTouch&&s||this.options.smoothWheel&&r)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let x=e;this.options.gestureOrientation==="both"?x=Math.abs(e)>Math.abs(t)?e:t:this.options.gestureOrientation==="horizontal"&&(x=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&e>0||this.animatedScroll===this.limit&&e<0))&&(i.lenisStopPropagation=!0),i.cancelable&&i.preventDefault();const _=s&&this.options.syncTouch,C=s&&i.type==="touchend";C&&(x=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+x,{programmatic:!1,..._?{lerp:C?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});we(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const n=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-n,this.direction=Math.sign(this.animatedScroll-n),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});we(this,"raf",n=>{const t=n-(this.time||n);this.time=n,this.animate.advance(t*.001),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))});window.lenisVersion=J4,(!n||n===document.documentElement)&&(n=window),typeof c=="number"&&typeof h!="function"?h=Hw:typeof h=="function"&&typeof c!="number"&&(c=1),this.options={wrapper:n,content:t,eventsTarget:e,smoothWheel:i,syncTouch:s,syncTouchLerp:r,touchInertiaExponent:o,duration:c,easing:h,lerp:p,infinite:m,gestureOrientation:x,orientation:v,touchMultiplier:_,wheelMultiplier:T,autoResize:C,prevent:E,virtualScroll:M,overscroll:R,autoRaf:D,anchors:L,autoToggle:B,allowNestedScroll:P,naiveDimensions:V,stopInertiaOnNavigate:U},this.dimensions=new aV(n,t,{autoResize:C}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new rV(e,{touchMultiplier:_,wheelMultiplier:T}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this._rafId&&cancelAnimationFrame(this._rafId)}on(n,t){return this.emitter.on(n,t)}off(n,t){return this.emitter.off(n,t)}get overflow(){const n=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[n]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(n){this.isHorizontal?this.options.wrapper.scrollTo({left:n,behavior:"instant"}):this.options.wrapper.scrollTo({top:n,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(n,{offset:t=0,immediate:e=!1,lock:i=!1,programmatic:s=!0,lerp:r=s?this.options.lerp:void 0,duration:o=s?this.options.duration:void 0,easing:c=s?this.options.easing:void 0,onStart:h,onComplete:p,force:m=!1,userData:v}={}){if(!((this.isStopped||this.isLocked)&&!m)){if(typeof n=="string"&&["top","left","start","#"].includes(n))n=0;else if(typeof n=="string"&&["bottom","right","end"].includes(n))n=this.limit;else{let x;if(typeof n=="string"?(x=document.querySelector(n),x||(n==="#top"?n=0:console.warn("Lenis: Target not found",n))):n instanceof HTMLElement&&(n!=null&&n.nodeType)&&(x=n),x){if(this.options.wrapper!==window){const T=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?T.left:T.top}const _=x.getBoundingClientRect();n=(this.isHorizontal?_.left:_.top)+this.animatedScroll}}if(typeof n=="number"){if(n+=t,n=Math.round(n),this.options.infinite){if(s){this.targetScroll=this.animatedScroll=this.scroll;const x=n-this.animatedScroll;x>this.limit/2?n=n-this.limit:x<-this.limit/2&&(n=n+this.limit)}}else n=ON(0,n,this.limit);if(n===this.targetScroll){h==null||h(this),p==null||p(this);return}if(this.userData=v??{},e){this.animatedScroll=this.targetScroll=n,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),p==null||p(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}s||(this.targetScroll=n),typeof o=="number"&&typeof c!="function"?c=Hw:typeof c=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,n,{duration:o,easing:c,lerp:r,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",h==null||h(this)},onUpdate:(x,_)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=x-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=x,this.setScroll(this.scroll),s&&(this.targetScroll=x),_||this.emit(),_&&(this.reset(),this.emit(),p==null||p(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(n,{deltaX:t,deltaY:e}){const i=Date.now(),s=n._lenis??(n._lenis={});let r,o,c,h,p,m,v,x;const _=this.options.gestureOrientation;if(i-(s.time??0)>2e3){s.time=Date.now();const B=window.getComputedStyle(n);s.computedStyle=B;const P=B.overflowX,I=B.overflowY;if(r=["auto","overlay","scroll"].includes(P),o=["auto","overlay","scroll"].includes(I),s.hasOverflowX=r,s.hasOverflowY=o,!r&&!o||_==="vertical"&&!o||_==="horizontal"&&!r)return!1;p=n.scrollWidth,m=n.scrollHeight,v=n.clientWidth,x=n.clientHeight,c=p>v,h=m>x,s.isScrollableX=c,s.isScrollableY=h,s.scrollWidth=p,s.scrollHeight=m,s.clientWidth=v,s.clientHeight=x}else c=s.isScrollableX,h=s.isScrollableY,r=s.hasOverflowX,o=s.hasOverflowY,p=s.scrollWidth,m=s.scrollHeight,v=s.clientWidth,x=s.clientHeight;if(!r&&!o||!c&&!h||_==="vertical"&&(!o||!h)||_==="horizontal"&&(!r||!c))return!1;let T;if(_==="horizontal")T="x";else if(_==="vertical")T="y";else{const B=t!==0,P=e!==0;B&&r&&c&&(T="x"),P&&o&&h&&(T="y")}if(!T)return!1;let C,E,M,R,D;if(T==="x")C=n.scrollLeft,E=p-v,M=t,R=r,D=c;else if(T==="y")C=n.scrollTop,E=m-x,M=e,R=o,D=h;else return!1;return(M>0?C<E:C>0)&&R&&D}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const n=this.options.wrapper;return this.isHorizontal?n.scrollX??n.scrollLeft:n.scrollY??n.scrollTop}get scroll(){return this.options.infinite?nV(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(n){this._isScrolling!==n&&(this._isScrolling=n,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(n){this._isStopped!==n&&(this._isStopped=n,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(n){this._isLocked!==n&&(this._isLocked=n,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let n="lenis";return this.options.autoToggle&&(n+=" lenis-autoToggle"),this.isStopped&&(n+=" lenis-stopped"),this.isLocked&&(n+=" lenis-locked"),this.isScrolling&&(n+=" lenis-scrolling"),this.isScrolling==="smooth"&&(n+=" lenis-smooth"),n}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const zT=K.createContext({});function Au(n){const t=K.useRef(null);return t.current===null&&(t.current=n()),t.current}const t1=K.createContext(null),L0=K.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});let lV=class extends K.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function cV({children:n,isPresent:t,anchorX:e}){const i=K.useId(),s=K.useRef(null),r=K.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=K.useContext(L0);return K.useInsertionEffect(()=>{const{width:c,height:h,top:p,left:m,right:v}=r.current;if(t||!s.current||!c||!h)return;const x=e==="left"?`left: ${m}`:`right: ${v}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");return o&&(_.nonce=o),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[t]),J.jsx(lV,{isPresent:t,childRef:s,sizeRef:r,children:K.cloneElement(n,{ref:s})})}const uV=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o,anchorX:c})=>{const h=Au(fV),p=K.useId(),m=K.useCallback(x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;i&&i()},[h,i]),v=K.useMemo(()=>({id:p,initial:t,isPresent:e,custom:s,onExitComplete:m,register:x=>(h.set(x,!1),()=>h.delete(x))}),r?[Math.random(),m]:[e,m]);return K.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[e]),K.useEffect(()=>{!e&&!h.size&&i&&i()},[e]),o==="popLayout"&&(n=J.jsx(cV,{isPresent:e,anchorX:c,children:n})),J.jsx(t1.Provider,{value:v,children:n})};function fV(){return new Map}function zN(n=!0){const t=K.useContext(t1);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=K.useId();K.useEffect(()=>{n&&s(r)},[n]);const o=K.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,o]:[!0]}const Dy=n=>n.key||"";function Gw(n){const t=[];return K.Children.forEach(n,e=>{K.isValidElement(e)&&t.push(e)}),t}const BT=typeof window<"u",U0=BT?K.useLayoutEffect:K.useEffect,BN=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:c="left"})=>{const[h,p]=zN(o),m=K.useMemo(()=>Gw(n),[n]),v=o&&!h?[]:m.map(Dy),x=K.useRef(!0),_=K.useRef(m),T=Au(()=>new Map),[C,E]=K.useState(m),[M,R]=K.useState(m);U0(()=>{x.current=!1,_.current=m;for(let B=0;B<M.length;B++){const P=Dy(M[B]);v.includes(P)?T.delete(P):T.get(P)!==!0&&T.set(P,!1)}},[M,v.length,v.join("-")]);const D=[];if(m!==C){let B=[...m];for(let P=0;P<M.length;P++){const I=M[P],V=Dy(I);v.includes(V)||(B.splice(P,0,I),D.push(I))}return r==="wait"&&D.length&&(B=D),R(Gw(B)),E(m),null}const{forceRender:L}=K.useContext(zT);return J.jsx(J.Fragment,{children:M.map(B=>{const P=Dy(B),I=o&&!h?!1:m===M||v.includes(P),V=()=>{if(T.has(P))T.set(P,!0);else return;let U=!0;T.forEach(z=>{z||(U=!1)}),U&&(L==null||L(),R(_.current),o&&(p==null||p()),i&&i())};return J.jsx(uV,{isPresent:I,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,onExitComplete:I?void 0:V,anchorX:c,children:B},P)})})},$s=n=>n;let hV=$s,VN=$s;const dV={useManualTiming:!1},Ny=["read","resolveKeyframes","update","preRender","render","postRender"];function pV(n,t){let e=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(p.schedule(m),n()),m(c)}const p={schedule:(m,v=!1,x=!1)=>{const T=x&&s?e:i;return v&&o.add(m),T.has(m)||T.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(c=m,s){r=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,r&&(r=!1,p.process(m))}};return p}const mV=40;function IN(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,o=Ny.reduce((M,R)=>(M[R]=pV(r),M),{}),{read:c,resolveKeyframes:h,update:p,preRender:m,render:v,postRender:x}=o,_=()=>{const M=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(M-s.timestamp,mV),1),s.timestamp=M,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),m.process(s),v.process(s),x.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(_))},T=()=>{e=!0,i=!0,s.isProcessing||n(_)};return{schedule:Ny.reduce((M,R)=>{const D=o[R];return M[R]=(L,B=!1,P=!1)=>(e||T(),D.schedule(L,B,P)),M},{}),cancel:M=>{for(let R=0;R<Ny.length;R++)o[Ny[R]].cancel(M)},state:s,steps:o}}const{schedule:En,cancel:Mo,state:ys,steps:OS}=IN(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0),FN=K.createContext({strict:!1}),kw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mp={};for(const n in kw)mp[n]={isEnabled:t=>kw[n].some(e=>!!t[e])};function gV(n){for(const t in n)mp[t]={...mp[t],...n[t]}}const vV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $x(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||vV.has(n)}let HN=n=>!$x(n);function yV(n){n&&(HN=t=>t.startsWith("on")?!$x(t):n(t))}try{yV(require("@emotion/is-prop-valid").default)}catch{}function xV(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(HN(s)||e===!0&&$x(s)||!t&&!$x(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function _V(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const e1=K.createContext({});function n1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Jg(n){return typeof n=="string"||Array.isArray(n)}const VT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IT=["initial",...VT];function i1(n){return n1(n.animate)||IT.some(t=>Jg(n[t]))}function GN(n){return!!(i1(n)||n.variants)}function SV(n,t){if(i1(n)){const{initial:e,animate:i}=n;return{initial:e===!1||Jg(e)?e:void 0,animate:Jg(i)?i:void 0}}return n.inherit!==!1?t:{}}function bV(n){const{initial:t,animate:e}=SV(n,K.useContext(e1));return K.useMemo(()=>({initial:t,animate:e}),[jw(t),jw(e)])}function jw(n){return Array.isArray(n)?n.join(" "):n}const MV=Symbol.for("motionComponentSymbol");function Yd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function TV(n,t,e){return K.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Yd(e)&&(e.current=i))},[t])}const FT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EV="framerAppearId",kN="data-"+FT(EV),{schedule:HT}=IN(queueMicrotask,!1),jN=K.createContext({});function AV(n,t,e,i,s){var r,o;const{visualElement:c}=K.useContext(e1),h=K.useContext(FN),p=K.useContext(t1),m=K.useContext(L0).reducedMotion,v=K.useRef(null);i=i||h.renderer,!v.current&&i&&(v.current=i(n,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const x=v.current,_=K.useContext(jN);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&wV(v.current,e,s,_);const T=K.useRef(!1);K.useInsertionEffect(()=>{x&&T.current&&x.update(e,p)});const C=e[kN],E=K.useRef(!!C&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,C))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,C)));return U0(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),HT.render(x.render),E.current&&x.animationState&&x.animationState.animateChanges())}),K.useEffect(()=>{x&&(!E.current&&x.animationState&&x.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,C)}),E.current=!1))}),x}function wV(n,t,e,i){const{layoutId:s,layout:r,drag:o,dragConstraints:c,layoutScroll:h,layoutRoot:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:XN(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||c&&Yd(c),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}function XN(n){if(n)return n.options.allowProjection!==!1?n.projection:XN(n.parent)}function CV({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var r,o;n&&gV(n);function c(p,m){let v;const x={...K.useContext(L0),...p,layoutId:RV(p)},{isStatic:_}=x,T=bV(p),C=i(p,_);if(!_&&BT){DV();const E=NV(x);v=E.MeasureLayout,T.visualElement=AV(s,C,x,t,E.ProjectionNode)}return J.jsxs(e1.Provider,{value:T,children:[v&&T.visualElement?J.jsx(v,{visualElement:T.visualElement,...x}):null,e(s,p,TV(C,T.visualElement,m),C,_,T.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(o=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&o!==void 0?o:""})`}`;const h=K.forwardRef(c);return h[MV]=s,h}function RV({layoutId:n}){const t=K.useContext(zT).id;return t&&n!==void 0?t+"-"+n:n}function DV(n,t){K.useContext(FN).strict}function NV(n){const{drag:t,layout:e}=mp;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const qN=n=>t=>typeof t=="string"&&t.startsWith(n),GT=qN("--"),LV=qN("var(--"),kT=n=>LV(n)?UV.test(n.split("/*")[0].trim()):!1,UV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,t0={};function OV(n){for(const t in n)t0[t]=n[t],GT(t)&&(t0[t].isCSSVariable=!0)}const Ap=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sh=new Set(Ap);function WN(n,{layout:t,layoutId:e}){return Sh.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!t0[n]||n==="opacity")}const _s=n=>!!(n&&n.getVelocity),YN=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Sl=(n,t,e)=>e>t?t:e<n?n:e,wp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},e0={...wp,transform:n=>Sl(0,1,n)},Ly={...wp,default:1},O0=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),xu=O0("deg"),pl=O0("%"),Be=O0("px"),PV=O0("vh"),zV=O0("vw"),Xw={...pl,parse:n=>pl.parse(n)/100,transform:n=>pl.transform(n*100)},BV={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be},VV={rotate:xu,rotateX:xu,rotateY:xu,rotateZ:xu,scale:Ly,scaleX:Ly,scaleY:Ly,scaleZ:Ly,skew:xu,skewX:xu,skewY:xu,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:e0,originX:Xw,originY:Xw,originZ:Be},qw={...wp,transform:Math.round},jT={...BV,...VV,zIndex:qw,size:Be,fillOpacity:e0,strokeOpacity:e0,numOctaves:qw},IV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FV=Ap.length;function HV(n,t,e){let i="",s=!0;for(let r=0;r<FV;r++){const o=Ap[r],c=n[o];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(o.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||e){const p=YN(c,jT[o]);if(!h){s=!1;const m=IV[o]||o;i+=`${m}(${p}) `}e&&(t[o]=p)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function XT(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,c=!1;for(const h in t){const p=t[h];if(Sh.has(h)){o=!0;continue}else if(GT(h)){s[h]=p;continue}else{const m=YN(p,jT[h]);h.startsWith("origin")?(c=!0,r[h]=m):i[h]=m}}if(t.transform||(o||e?i.transform=HV(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${h} ${p} ${m}`}}const qT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZN(n,t,e){for(const i in t)!_s(t[i])&&!WN(i,e)&&(n[i]=t[i])}function GV({transformTemplate:n},t){return K.useMemo(()=>{const e=qT();return XT(e,t,n),Object.assign({},e.vars,e.style)},[t])}function kV(n,t){const e=n.style||{},i={};return ZN(i,e,n),Object.assign(i,GV(n,t)),i}function jV(n,t){const e={},i=kV(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const XV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WT(n){return typeof n!="string"||n.includes("-")?!1:!!(XV.indexOf(n)>-1||/[A-Z]/u.test(n))}const qV={offset:"stroke-dashoffset",array:"stroke-dasharray"},WV={offset:"strokeDashoffset",array:"strokeDasharray"};function YV(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?qV:WV;n[r.offset]=Be.transform(-i);const o=Be.transform(t),c=Be.transform(e);n[r.array]=`${o} ${c}`}function Ww(n,t,e){return typeof n=="string"?n:Be.transform(t+e*n)}function ZV(n,t,e){const i=Ww(t,n.x,n.width),s=Ww(e,n.y,n.height);return`${i} ${s}`}function YT(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:c=1,pathOffset:h=0,...p},m,v){if(XT(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:_,dimensions:T}=n;x.transform&&(T&&(_.transform=x.transform),delete x.transform),T&&(s!==void 0||r!==void 0||_.transform)&&(_.transformOrigin=ZV(T,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(x.x=t),e!==void 0&&(x.y=e),i!==void 0&&(x.scale=i),o!==void 0&&YV(x,o,c,h,!1)}const KN=()=>({...qT(),attrs:{}}),ZT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function KV(n,t,e,i){const s=K.useMemo(()=>{const r=KN();return YT(r,t,ZT(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};ZN(r,n.style,n),s.style={...r,...s.style}}return s}function QV(n=!1){return(e,i,s,{latestValues:r},o)=>{const h=(WT(e)?KV:jV)(i,r,o,e),p=xV(i,typeof e=="string",n),m=e!==K.Fragment?{...p,...h,ref:s}:{},{children:v}=i,x=K.useMemo(()=>_s(v)?v.get():v,[v]);return K.createElement(e,{...m,children:x})}}function Yw(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function KT(n,t,e,i){if(typeof t=="function"){const[s,r]=Yw(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=Yw(i);t=t(e!==void 0?e:n.custom,s,r)}return t}const _M=n=>Array.isArray(n),$V=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),JV=n=>_M(n)?n[n.length-1]||0:n;function zx(n){const t=_s(n)?n.get():n;return $V(t)?t.toValue():t}function tI({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,r){const o={latestValues:eI(i,s,r,n),renderState:t()};return e&&(o.onMount=c=>e({props:i,current:c,...o}),o.onUpdate=c=>e(c)),o}const QN=n=>(t,e)=>{const i=K.useContext(e1),s=K.useContext(t1),r=()=>tI(n,t,i,s);return e?r():Au(r)};function eI(n,t,e,i){const s={},r=i(n,{});for(const x in r)s[x]=zx(r[x]);let{initial:o,animate:c}=n;const h=i1(n),p=GN(n);t&&p&&!h&&n.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const v=m?c:o;if(v&&typeof v!="boolean"&&!n1(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const T=KT(n,x[_]);if(T){const{transitionEnd:C,transition:E,...M}=T;for(const R in M){let D=M[R];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(s[R]=D)}for(const R in C)s[R]=C[R]}}}return s}function QT(n,t,e){var i;const{style:s}=n,r={};for(const o in s)(_s(s[o])||t.style&&_s(t.style[o])||WN(o,n)||((i=e==null?void 0:e.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const nI={useVisualState:QN({scrapeMotionValuesFromProps:QT,createRenderState:qT})};function $N(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function JN(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}const tL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eL(n,t,e,i){JN(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(tL.has(s)?s:FT(s),t.attrs[s])}function nL(n,t,e){const i=QT(n,t,e);for(const s in n)if(_s(n[s])||_s(t[s])){const r=Ap.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const Zw=["x","y","width","height","cx","cy","r"],iI={useVisualState:QN({scrapeMotionValuesFromProps:nL,createRenderState:KN,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let r=!!n.drag;if(!r){for(const c in s)if(Sh.has(c)){r=!0;break}}if(!r)return;let o=!t;if(t)for(let c=0;c<Zw.length;c++){const h=Zw[c];n[h]!==t[h]&&(o=!0)}o&&En.read(()=>{$N(e,i),En.render(()=>{YT(i,s,ZT(e.tagName),n.transformTemplate),eL(e,i)})})}})};function sI(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...WT(i)?iI:nI,preloadedFeatures:n,useRender:QV(s),createVisualElement:t,Component:i};return CV(o)}}function n0(n,t,e){const i=n.getProps();return KT(i,t,e!==void 0?e:i.custom,n)}function $T(n,t){return n?n[t]||n.default||n:void 0}const iL=new Set(["width","height","top","left","right","bottom",...Ap]);let Bx;function aI(){Bx=void 0}const ml={now:()=>(Bx===void 0&&ml.set(ys.isProcessing||dV.useManualTiming?ys.timestamp:performance.now()),Bx),set:n=>{Bx=n,queueMicrotask(aI)}};function JT(n,t){n.indexOf(t)===-1&&n.push(t)}function tE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let eE=class{constructor(){this.subscriptions=[]}add(t){return JT(this.subscriptions,t),()=>tE(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function nE(n,t){return t?n*(1e3/t):0}const Kw=30,rI=n=>!isNaN(parseFloat(n)),Rg={current:void 0};let oI=class{constructor(t,e={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=ml.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=ml.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new eE);const i=this.events[t].add(e);return t==="change"?()=>{i(),En.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Rg.current&&Rg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ml.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kw)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Kw);return nE(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function hl(n,t){return new oI(n,t)}function lI(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,hl(e))}function cI(n,t){const e=n0(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const o in r){const c=JV(r[o]);lI(n,o,c)}}function uI(n){return!!(_s(n)&&n.add)}function SM(n,t){const e=n.getValue("willChange");if(uI(e))return e.add(t)}function sL(n){return n.props[kN]}function iE(n){let t;return()=>(t===void 0&&(t=n()),t)}const aL=iE(()=>window.ScrollTimeline!==void 0);class fI{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(aL()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hI extends fI{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}const dc=n=>n*1e3,pc=n=>n/1e3;function sE(n){return typeof n=="function"}function Qw(n,t){n.timeline=t,n.onfinish=null}const aE=n=>Array.isArray(n)&&typeof n[0]=="number",dI={linearEasing:void 0};function pI(n,t){const e=iE(n);return()=>{var i;return(i=dI[t])!==null&&i!==void 0?i:e()}}const Jx=pI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ph=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},rL=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=n(ph(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function oL(n){return!!(typeof n=="function"&&Jx()||!n||typeof n=="string"&&(n in bM||Jx())||aE(n)||Array.isArray(n)&&n.every(oL))}const Tg=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,bM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tg([0,.65,.55,1]),circOut:Tg([.55,0,1,.45]),backIn:Tg([.31,.01,.66,-.59]),backOut:Tg([.33,1.53,.69,.99])};function lL(n,t){if(n)return typeof n=="function"&&Jx()?rL(n,t):aE(n)?Tg(n):Array.isArray(n)?n.map(e=>lL(e,t)||bM.easeOut):bM[n]}const cL=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,mI=1e-7,gI=12;function vI(n,t,e,i,s){let r,o,c=0;do o=t+(e-t)/2,r=cL(o,i,s)-n,r>0?e=o:t=o;while(Math.abs(r)>mI&&++c<gI);return o}function P0(n,t,e,i){if(n===t&&e===i)return $s;const s=r=>vI(r,0,1,n,e);return r=>r===0||r===1?r:cL(s(r),t,i)}const uL=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,fL=n=>t=>1-n(1-t),hL=P0(.33,1.53,.69,.99),rE=fL(hL),dL=uL(rE),pL=n=>(n*=2)<1?.5*rE(n):.5*(2-Math.pow(2,-10*(n-1))),oE=n=>1-Math.sin(Math.acos(n)),mL=fL(oE),gL=uL(oE),vL=n=>/^0[^.\s]+$/u.test(n);function yI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vL(n):!0}const Dg=n=>Math.round(n*1e5)/1e5,lE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xI(n){return n==null}const _I=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cE=(n,t)=>e=>!!(typeof e=="string"&&_I.test(e)&&e.startsWith(n)||t&&!xI(e)&&Object.prototype.hasOwnProperty.call(e,t)),yL=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,o,c]=i.match(lE);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},SI=n=>Sl(0,255,n),PS={...wp,transform:n=>Math.round(SI(n))},$f={test:cE("rgb","red"),parse:yL("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+PS.transform(n)+", "+PS.transform(t)+", "+PS.transform(e)+", "+Dg(e0.transform(i))+")"};function bI(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const MM={test:cE("#"),parse:bI,transform:$f.transform},Zd={test:cE("hsl","hue"),parse:yL("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+pl.transform(Dg(t))+", "+pl.transform(Dg(e))+", "+Dg(e0.transform(i))+")"},Ys={test:n=>$f.test(n)||MM.test(n)||Zd.test(n),parse:n=>$f.test(n)?$f.parse(n):Zd.test(n)?Zd.parse(n):MM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$f.transform(n):Zd.transform(n)},MI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TI(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(lE))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(MI))===null||e===void 0?void 0:e.length)||0)>0}const xL="number",_L="color",EI="var",AI="var(",$w="${}",wI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function i0(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const c=t.replace(wI,h=>(Ys.test(h)?(i.color.push(r),s.push(_L),e.push(Ys.parse(h))):h.startsWith(AI)?(i.var.push(r),s.push(EI),e.push(h)):(i.number.push(r),s.push(xL),e.push(parseFloat(h))),++r,$w)).split($w);return{values:e,split:c,indexes:i,types:s}}function SL(n){return i0(n).values}function bL(n){const{split:t,types:e}=i0(n),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const c=e[o];c===xL?r+=Dg(s[o]):c===_L?r+=Ys.transform(s[o]):r+=s[o]}return r}}const CI=n=>typeof n=="number"?0:n;function RI(n){const t=SL(n);return bL(n)(t.map(CI))}const wu={test:TI,parse:SL,createTransformer:bL,getAnimatableNone:RI},DI=new Set(["brightness","contrast","saturate","opacity"]);function NI(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(lE)||[];if(!i)return n;const s=e.replace(i,"");let r=DI.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const LI=/\b([a-z-]*)\(.*?\)/gu,TM={...wu,getAnimatableNone:n=>{const t=n.match(LI);return t?t.map(NI).join(" "):n}},UI={...jT,color:Ys,backgroundColor:Ys,outlineColor:Ys,fill:Ys,stroke:Ys,borderColor:Ys,borderTopColor:Ys,borderRightColor:Ys,borderBottomColor:Ys,borderLeftColor:Ys,filter:TM,WebkitFilter:TM},uE=n=>UI[n];function ML(n,t){let e=uE(n);return e!==TM&&(e=wu),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const OI=new Set(["auto","none","0"]);function PI(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!OI.has(r)&&i0(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=ML(e,s)}const Jw=n=>n===wp||n===Be,tC=(n,t)=>parseFloat(n.split(", ")[t]),eC=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return tC(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?tC(r[1],n):0}},zI=new Set(["x","y","z"]),BI=Ap.filter(n=>!zI.has(n));function VI(n){const t=[];return BI.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const gp={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:eC(4,13),y:eC(5,14)};gp.translateX=gp.x;gp.translateY=gp.y;const rh=new Set;let EM=!1,AM=!1;function TL(){if(AM){const n=Array.from(rh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=VI(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,o])=>{var c;(c=i.getValue(r))===null||c===void 0||c.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}AM=!1,EM=!1,rh.forEach(n=>n.complete()),rh.clear()}function EL(){rh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(AM=!0)})}function II(){EL(),TL()}let fE=class{constructor(t,e,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rh.add(this),EM||(EM=!0,En.read(EL),En.resolveKeyframes(TL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const o=s==null?void 0:s.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const h=i.readValue(e,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),s&&o===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const AL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),FI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HI(n){const t=FI.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function wL(n,t,e=1){const[i,s]=HI(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return AL(o)?parseFloat(o):o}return kT(s)?wL(s,t,e+1):s}const CL=n=>t=>t.test(n),GI={test:n=>n==="auto",parse:n=>n},RL=[wp,Be,pl,xu,zV,PV,GI],nC=n=>RL.find(CL(n));let DL=class extends fE{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let p=t[h];if(typeof p=="string"&&(p=p.trim(),kT(p))){const m=wL(p,e.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!iL.has(i)||t.length!==2)return;const[s,r]=t,o=nC(s),c=nC(r);if(o!==c)if(Jw(o)&&Jw(c))for(let h=0;h<t.length;h++){const p=t[h];typeof p=="string"&&(t[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)yI(t[s])&&i.push(s);i.length&&PI(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gp[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=gp[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}};const iC=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wu.test(n)||n==="0")&&!n.startsWith("url("));function kI(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function jI(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],o=iC(s,t),c=iC(r,t);return!o||!c?!1:kI(n)||(e==="spring"||sE(e))&&i}const XI=n=>n!==null;function s1(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(XI),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const qI=40;class NL{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ml.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&II(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=ml.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!jI(t,i,s,r))if(o)this.options.duration=0;else{h&&h(s1(t,this.options,e)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const wM=2e4;function LL(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<wM;)t+=e,i=n.next(t);return t>=wM?1/0:t}const gi=(n,t,e)=>n+(t-n)*e;function zS(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function WI({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,o=0;if(!t)s=r=o=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;s=zS(h,c,n+1/3),r=zS(h,c,n),o=zS(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function t_(n,t){return e=>e>0?t:n}const BS=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},YI=[MM,$f,Zd],ZI=n=>YI.find(t=>t.test(n));function sC(n){const t=ZI(n);if(!t)return!1;let e=t.parse(n);return t===Zd&&(e=WI(e)),e}const aC=(n,t)=>{const e=sC(n),i=sC(t);if(!e||!i)return t_(n,t);const s={...e};return r=>(s.red=BS(e.red,i.red,r),s.green=BS(e.green,i.green,r),s.blue=BS(e.blue,i.blue,r),s.alpha=gi(e.alpha,i.alpha,r),$f.transform(s))},KI=(n,t)=>e=>t(n(e)),z0=(...n)=>n.reduce(KI),CM=new Set(["none","hidden"]);function QI(n,t){return CM.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function $I(n,t){return e=>gi(n,t,e)}function hE(n){return typeof n=="number"?$I:typeof n=="string"?kT(n)?t_:Ys.test(n)?aC:e5:Array.isArray(n)?UL:typeof n=="object"?Ys.test(n)?aC:JI:t_}function UL(n,t){const e=[...n],i=e.length,s=n.map((r,o)=>hE(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)e[o]=s[o](r);return e}}function JI(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=hE(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function t5(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],c=n.indexes[o][s[o]],h=(e=n.values[c])!==null&&e!==void 0?e:0;i[r]=h,s[o]++}return i}const e5=(n,t)=>{const e=wu.createTransformer(t),i=i0(n),s=i0(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?CM.has(n)&&!s.values.length||CM.has(t)&&!i.values.length?QI(n,t):z0(UL(t5(i,s),s.values),e):t_(n,t)};function OL(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?gi(n,t,e):hE(n)(n,t)}const n5=5;function PL(n,t,e){const i=Math.max(t-n5,0);return nE(e-n(i),t-i)}const Ri={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rC=.001;function i5({duration:n=Ri.duration,bounce:t=Ri.bounce,velocity:e=Ri.velocity,mass:i=Ri.mass}){let s,r,o=1-t;o=Sl(Ri.minDamping,Ri.maxDamping,o),n=Sl(Ri.minDuration,Ri.maxDuration,pc(n)),o<1?(s=p=>{const m=p*o,v=m*n,x=m-e,_=RM(p,o),T=Math.exp(-v);return rC-x/_*T},r=p=>{const v=p*o*n,x=v*e+e,_=Math.pow(o,2)*Math.pow(p,2)*n,T=Math.exp(-v),C=RM(Math.pow(p,2),o);return(-s(p)+rC>0?-1:1)*((x-_)*T)/C}):(s=p=>{const m=Math.exp(-p*n),v=(p-e)*n+1;return-.001+m*v},r=p=>{const m=Math.exp(-p*n),v=(e-p)*(n*n);return m*v});const c=5/n,h=a5(s,r,c);if(n=dc(n),isNaN(h))return{stiffness:Ri.stiffness,damping:Ri.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:o*2*Math.sqrt(i*p),duration:n}}}const s5=12;function a5(n,t,e){let i=e;for(let s=1;s<s5;s++)i=i-n(i)/t(i);return i}function RM(n,t){return n*Math.sqrt(1-t*t)}const r5=["duration","bounce"],o5=["stiffness","damping","mass"];function oC(n,t){return t.some(e=>n[e]!==void 0)}function l5(n){let t={velocity:Ri.velocity,stiffness:Ri.stiffness,damping:Ri.damping,mass:Ri.mass,isResolvedFromDuration:!1,...n};if(!oC(n,o5)&&oC(n,r5))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*Sl(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Ri.mass,stiffness:s,damping:r}}else{const e=i5(n);t={...t,...e,mass:Ri.mass},t.isResolvedFromDuration=!0}return t}function zL(n=Ri.visualDuration,t=Ri.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],c={done:!1,value:r},{stiffness:h,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:_}=l5({...e,velocity:-pc(e.velocity||0)}),T=x||0,C=p/(2*Math.sqrt(h*m)),E=o-r,M=pc(Math.sqrt(h/m)),R=Math.abs(E)<5;i||(i=R?Ri.restSpeed.granular:Ri.restSpeed.default),s||(s=R?Ri.restDelta.granular:Ri.restDelta.default);let D;if(C<1){const B=RM(M,C);D=P=>{const I=Math.exp(-C*M*P);return o-I*((T+C*M*E)/B*Math.sin(B*P)+E*Math.cos(B*P))}}else if(C===1)D=B=>o-Math.exp(-M*B)*(E+(T+M*E)*B);else{const B=M*Math.sqrt(C*C-1);D=P=>{const I=Math.exp(-C*M*P),V=Math.min(B*P,300);return o-I*((T+C*M*E)*Math.sinh(V)+B*E*Math.cosh(V))/B}}const L={calculatedDuration:_&&v||null,next:B=>{const P=D(B);if(_)c.done=B>=v;else{let I=0;C<1&&(I=B===0?dc(T):PL(D,B,P));const V=Math.abs(I)<=i,U=Math.abs(o-P)<=s;c.done=V&&U}return c.value=c.done?o:P,c},toString:()=>{const B=Math.min(LL(L),wM),P=rL(I=>L.next(B*I).value,B,30);return B+"ms "+P}};return L}function lC({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:c,max:h,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},_=V=>c!==void 0&&V<c||h!==void 0&&V>h,T=V=>c===void 0?h:h===void 0||Math.abs(c-V)<Math.abs(h-V)?c:h;let C=e*t;const E=v+C,M=o===void 0?E:o(E);M!==E&&(C=M-v);const R=V=>-C*Math.exp(-V/i),D=V=>M+R(V),L=V=>{const U=R(V),z=D(V);x.done=Math.abs(U)<=p,x.value=x.done?M:z};let B,P;const I=V=>{_(x.value)&&(B=V,P=zL({keyframes:[x.value,T(x.value)],velocity:PL(D,V,x.value),damping:s,stiffness:r,restDelta:p,restSpeed:m}))};return I(0),{calculatedDuration:null,next:V=>{let U=!1;return!P&&B===void 0&&(U=!0,L(V),I(V)),B!==void 0&&V>=B?P.next(V-B):(!U&&L(V),x)}}}const c5=P0(.42,0,1,1),u5=P0(0,0,.58,1),BL=P0(.42,0,.58,1),f5=n=>Array.isArray(n)&&typeof n[0]!="number",h5={linear:$s,easeIn:c5,easeInOut:BL,easeOut:u5,circIn:oE,circInOut:gL,circOut:mL,backIn:rE,backInOut:dL,backOut:hL,anticipate:pL},cC=n=>{if(aE(n)){VN(n.length===4);const[t,e,i,s]=n;return P0(t,e,i,s)}else if(typeof n=="string")return h5[n];return n};function d5(n,t,e){const i=[],s=e||OL,r=n.length-1;for(let o=0;o<r;o++){let c=s(n[o],n[o+1]);if(t){const h=Array.isArray(t)?t[o]||$s:t;c=z0(h,c)}i.push(c)}return i}function dE(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(VN(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=d5(t,i,s),h=c.length,p=m=>{if(o&&m<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=ph(n[v],n[v+1],m);return c[v](x)};return e?m=>p(Sl(n[0],n[r-1],m)):p}function p5(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=ph(0,t,i);n.push(gi(e,1,s))}}function VL(n){const t=[0];return p5(t,n.length-1),t}function m5(n,t){return n.map(e=>e*t)}function g5(n,t){return n.map(()=>t||BL).splice(0,n.length-1)}function e_({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=f5(i)?i.map(cC):cC(i),r={done:!1,value:t[0]},o=m5(e&&e.length===t.length?e:VL(t),n),c=dE(o,t,{ease:Array.isArray(s)?s:g5(t,s)});return{calculatedDuration:n,next:h=>(r.value=c(h),r.done=h>=n,r)}}const v5=n=>{const t=({timestamp:e})=>n(e);return{start:()=>En.update(t,!0),stop:()=>Mo(t),now:()=>ys.isProcessing?ys.timestamp:ml.now()}},y5={decay:lC,inertia:lC,tween:e_,keyframes:e_,spring:zL},x5=n=>n/100;class a1 extends NL{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:e,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||fE,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new o(r,c,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,c=sE(e)?e:y5[e]||e_;let h,p;c!==e_&&typeof t[0]!="number"&&(h=z0(x5,OL(t[0],t[1])),t=[0,100]);const m=c({...this.options,keyframes:t});r==="mirror"&&(p=c({...this.options,keyframes:[...t].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=LL(m));const{calculatedDuration:v}=m,x=v+s,_=x*(i+1)-s;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:x,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=i;if(this.startTime===null)return r.next(0);const{delay:x,repeat:_,repeatType:T,repeatDelay:C,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const M=this.currentTime-x*(this.speed>=0?1:-1),R=this.speed>=0?M<0:M>m;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,L=r;if(_){const V=Math.min(this.currentTime,m)/v;let U=Math.floor(V),z=V%1;!z&&V>=1&&(z=1),z===1&&U--,U=Math.min(U,_+1),!!(U%2)&&(T==="reverse"?(z=1-z,C&&(z-=C/v)):T==="mirror"&&(L=o)),D=Sl(0,1,z)*v}const B=R?{done:!1,value:h[0]}:L.next(D);c&&(B.value=c(B.value));let{done:P}=B;!R&&p!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return I&&s!==void 0&&(B.value=s1(h,this.options,s)),E&&E(B.value),I&&this.finish(),B}get duration(){const{resolved:t}=this;return t?pc(t.calculatedDuration):0}get time(){return pc(this.currentTime)}set time(t){t=dc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=pc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=v5,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function _5(n){return new a1(n)}const S5=new Set(["opacity","clipPath","filter","transform"]);function b5(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:c="easeInOut",times:h}={}){const p={[t]:e};h&&(p.offset=h);const m=lL(c,s);return Array.isArray(m)&&(p.easing=m),n.animate(p,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const M5=iE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),n_=10,T5=2e4;function E5(n){return sE(n.type)||n.type==="spring"||!oL(n.ease)}function A5(n,t){const e=new a1({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<T5;)i=e.sample(r),s.push(i.value),r+=n_;return{times:void 0,keyframes:s,duration:r-n_,ease:"linear"}}const IL={anticipate:pL,backInOut:dL,circInOut:gL};function w5(n){return n in IL}class uC extends NL{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new DL(r,(o,c)=>this.onKeyframesResolved(o,c),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:r,type:o,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof r=="string"&&Jx()&&w5(r)&&(r=IL[r]),E5(this.options)){const{onComplete:v,onUpdate:x,motionValue:_,element:T,...C}=this.options,E=A5(t,C);t=E.keyframes,t.length===1&&(t[1]=t[0]),i=E.duration,s=E.times,r=E.ease,o="keyframes"}const m=b5(c.owner.current,h,t,{...this.options,duration:i,times:s,ease:r});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(Qw(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;c.set(s1(t,this.options,e)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:o,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return pc(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return pc(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=dc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return $s;const{animation:i}=e;Qw(i,t)}return $s}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:r,ease:o,times:c}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:x,..._}=this.options,T=new a1({..._,keyframes:i,duration:s,type:r,ease:o,times:c,isGenerator:!0}),C=dc(this.time);p.setWithVelocity(T.sample(C-n_).value,T.sample(C).value,n_)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return M5()&&i&&S5.has(i)&&!h&&!p&&!s&&r!=="mirror"&&o!==0&&c!=="inertia"}}const C5={type:"spring",stiffness:500,damping:25,restSpeed:10},R5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),D5={type:"keyframes",duration:.8},N5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L5=(n,{keyframes:t})=>t.length>2?D5:Sh.has(n)?n.startsWith("scale")?R5(t[1]):C5:N5;function U5({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const pE=(n,t,e,i={},s,r)=>o=>{const c=$T(i,n)||{},h=c.delay||i.delay||0;let{elapsed:p=0}=i;p=p-dc(h);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-p,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:r?void 0:s};U5(c)||(m={...m,...L5(n,m)}),m.duration&&(m.duration=dc(m.duration)),m.repeatDelay&&(m.repeatDelay=dc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!r&&t.get()!==void 0){const x=s1(m.keyframes,c);if(x!==void 0)return En.update(()=>{m.onUpdate(x),m.onComplete()}),new hI([])}return!r&&uC.supports(m)?new uC(m):new a1(m)};function O5({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function FL(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var r;let{transition:o=n.getDefaultTransition(),transitionEnd:c,...h}=t;i&&(o=i);const p=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const v in h){const x=n.getValue(v,(r=n.latestValues[v])!==null&&r!==void 0?r:null),_=h[v];if(_===void 0||m&&O5(m,v))continue;const T={delay:e,...$T(o||{},v)};let C=!1;if(window.MotionHandoffAnimation){const M=sL(n);if(M){const R=window.MotionHandoffAnimation(M,v,En);R!==null&&(T.startTime=R,C=!0)}}SM(n,v),x.start(pE(v,x,_,n.shouldReduceMotion&&iL.has(v)?{type:!1}:T,n,C));const E=x.animation;E&&p.push(E)}return c&&Promise.all(p).then(()=>{En.update(()=>{c&&cI(n,c)})}),p}function DM(n,t,e={}){var i;const s=n0(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const o=s?()=>Promise.all(FL(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=r;return P5(n,t,m+p,v,x,e)}:()=>Promise.resolve(),{when:h}=r;if(h){const[p,m]=h==="beforeChildren"?[o,c]:[c,o];return p().then(()=>m())}else return Promise.all([o(),c(e.delay)])}function P5(n,t,e=0,i=0,s=1,r){const o=[],c=(n.variantChildren.size-1)*i,h=s===1?(p=0)=>p*i:(p=0)=>c-p*i;return Array.from(n.variantChildren).sort(z5).forEach((p,m)=>{p.notify("AnimationStart",t),o.push(DM(p,t,{...r,delay:e+h(m)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(o)}function z5(n,t){return n.sortNodePosition(t)}function B5(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>DM(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=DM(n,t,e);else{const s=typeof t=="function"?n0(n,t,e.custom):t;i=Promise.all(FL(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function HL(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const V5=IT.length;function GL(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?GL(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<V5;e++){const i=IT[e],s=n.props[i];(Jg(s)||s===!1)&&(t[i]=s)}return t}const I5=[...VT].reverse(),F5=VT.length;function H5(n){return t=>Promise.all(t.map(({animation:e,options:i})=>B5(n,e,i)))}function G5(n){let t=H5(n),e=fC(),i=!0;const s=h=>(p,m)=>{var v;const x=n0(n,m,h==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:_,transitionEnd:T,...C}=x;p={...p,...C,...T}}return p};function r(h){t=h(n)}function o(h){const{props:p}=n,m=GL(n.parent)||{},v=[],x=new Set;let _={},T=1/0;for(let E=0;E<F5;E++){const M=I5[E],R=e[M],D=p[M]!==void 0?p[M]:m[M],L=Jg(D),B=M===h?R.isActive:null;B===!1&&(T=E);let P=D===m[M]&&D!==p[M]&&L;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),R.protectedKeys={..._},!R.isActive&&B===null||!D&&!R.prevProp||n1(D)||typeof D=="boolean")continue;const I=k5(R.prevProp,D);let V=I||M===h&&R.isActive&&!P&&L||E>T&&L,U=!1;const z=Array.isArray(D)?D:[D];let X=z.reduce(s(M),{});B===!1&&(X={});const{prevResolvedValues:dt={}}=R,st={...dt,...X},at=et=>{V=!0,x.has(et)&&(U=!0,x.delete(et)),R.needsAnimating[et]=!0;const Q=n.getValue(et);Q&&(Q.liveStyle=!1)};for(const et in st){const Q=X[et],vt=dt[et];if(_.hasOwnProperty(et))continue;let G=!1;_M(Q)&&_M(vt)?G=!HL(Q,vt):G=Q!==vt,G?Q!=null?at(et):x.add(et):Q!==void 0&&x.has(et)?at(et):R.protectedKeys[et]=!0}R.prevProp=D,R.prevResolvedValues=X,R.isActive&&(_={..._,...X}),i&&n.blockInitialAnimation&&(V=!1),V&&(!(P&&I)||U)&&v.push(...z.map(et=>({animation:et,options:{type:M}})))}if(x.size){const E={};if(typeof p.initial!="boolean"){const M=n0(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(E.transition=M.transition)}x.forEach(M=>{const R=n.getBaseTarget(M),D=n.getValue(M);D&&(D.liveStyle=!0),E[M]=R??null}),v.push({animation:E})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(v):Promise.resolve()}function c(h,p){var m;if(e[h].isActive===p)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(x=>{var _;return(_=x.animationState)===null||_===void 0?void 0:_.setActive(h,p)}),e[h].isActive=p;const v=o(h);for(const x in e)e[x].protectedKeys={};return v}return{animateChanges:o,setActive:c,setAnimateFunction:r,getState:()=>e,reset:()=>{e=fC(),i=!0}}}function k5(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!HL(t,n):!1}function Cf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fC(){return{animate:Cf(!0),whileInView:Cf(),whileHover:Cf(),whileTap:Cf(),whileDrag:Cf(),whileFocus:Cf(),exit:Cf()}}let Lu=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},j5=class extends Lu{constructor(t){super(t),t.animationState||(t.animationState=G5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();n1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},X5=0,q5=class extends Lu{constructor(){super(...arguments),this.id=X5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const W5={animation:{Feature:j5},exit:{Feature:q5}},go={x:!1,y:!1};function kL(){return go.x||go.y}function Y5(n){return n==="x"||n==="y"?go[n]?null:(go[n]=!0,()=>{go[n]=!1}):go.x||go.y?null:(go.x=go.y=!0,()=>{go.x=go.y=!1})}function s0(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const mE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function B0(n){return{point:{x:n.pageX,y:n.pageY}}}const Z5=n=>t=>mE(t)&&n(t,B0(t));function Kd(n,t,e,i){return s0(n,t,Z5(e),i)}function jL({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function K5({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Q5(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const XL=1e-4,$5=1-XL,J5=1+XL,qL=.01,tF=0-qL,eF=0+qL;function ga(n){return n.max-n.min}function nF(n,t,e){return Math.abs(n-t)<=e}function hC(n,t,e,i=.5){n.origin=i,n.originPoint=gi(t.min,t.max,n.origin),n.scale=ga(e)/ga(t),n.translate=gi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=$5&&n.scale<=J5||isNaN(n.scale))&&(n.scale=1),(n.translate>=tF&&n.translate<=eF||isNaN(n.translate))&&(n.translate=0)}function Ng(n,t,e,i){hC(n.x,t.x,e.x,i?i.originX:void 0),hC(n.y,t.y,e.y,i?i.originY:void 0)}function dC(n,t,e){n.min=e.min+t.min,n.max=n.min+ga(t)}function iF(n,t,e){dC(n.x,t.x,e.x),dC(n.y,t.y,e.y)}function pC(n,t,e){n.min=t.min-e.min,n.max=n.min+ga(t)}function Lg(n,t,e){pC(n.x,t.x,e.x),pC(n.y,t.y,e.y)}const mC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qd=()=>({x:mC(),y:mC()}),gC=()=>({min:0,max:0}),zi=()=>({x:gC(),y:gC()});function Cr(n){return[n("x"),n("y")]}function VS(n){return n===void 0||n===1}function NM({scale:n,scaleX:t,scaleY:e}){return!VS(n)||!VS(t)||!VS(e)}function qf(n){return NM(n)||WL(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function WL(n){return vC(n.x)||vC(n.y)}function vC(n){return n&&n!=="0%"}function i_(n,t,e){const i=n-e,s=t*i;return e+s}function yC(n,t,e,i,s){return s!==void 0&&(n=i_(n,s,i)),i_(n,e,i)+t}function LM(n,t=0,e=1,i,s){n.min=yC(n.min,t,e,i,s),n.max=yC(n.max,t,e,i,s)}function YL(n,{x:t,y:e}){LM(n.x,t.translate,t.scale,t.originPoint),LM(n.y,e.translate,e.scale,e.originPoint)}const xC=.999999999999,_C=1.0000000000001;function sF(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,o;for(let c=0;c<s;c++){r=e[c],o=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Jd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,YL(n,o)),i&&qf(r.latestValues)&&Jd(n,r.latestValues))}t.x<_C&&t.x>xC&&(t.x=1),t.y<_C&&t.y>xC&&(t.y=1)}function $d(n,t){n.min=n.min+t,n.max=n.max+t}function SC(n,t,e,i,s=.5){const r=gi(n.min,n.max,s);LM(n,t,e,r,i)}function Jd(n,t){SC(n.x,t.x,t.scaleX,t.scale,t.originX),SC(n.y,t.y,t.scaleY,t.scale,t.originY)}function ZL(n,t){return jL(Q5(n.getBoundingClientRect(),t))}function aF(n,t,e){const i=ZL(n,e),{scroll:s}=t;return s&&($d(i.x,s.offset.x),$d(i.y,s.offset.y)),i}function s_(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const bC=(n,t)=>Math.abs(n-t);function rF(n,t){const e=bC(n.x,t.x),i=bC(n.y,t.y);return Math.sqrt(e**2+i**2)}let KL=class{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=FS(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=rF(m.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:_}=m,{timestamp:T}=ys;this.history.push({..._,timestamp:T});const{onStart:C,onMove:E}=this.handlers;v||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{if(m.currentTarget instanceof Element&&m.currentTarget.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.currentTarget.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=IS(v,this.transformPagePoint),En.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{s_(m,"release"),this.end();const{onEnd:x,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=FS(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:IS(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,C),_&&_(m,C)},!mE(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const r=B0(t),o=IS(r,this.transformPagePoint),{point:c}=o,{timestamp:h}=ys;this.history=[{...c,timestamp:h}];const{onSessionStart:p}=e;p&&p(t,FS(o,this.history)),s_(t,"set"),this.removeListeners=z0(Kd(t.currentTarget,"pointermove",this.handlePointerMove),Kd(t.currentTarget,"pointerup",this.handlePointerUp),Kd(t.currentTarget,"pointercancel",this.handlePointerUp),Kd(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}};function IS(n,t){return t?{point:t(n.point)}:n}function MC(n,t){return{x:n.x-t.x,y:n.y-t.y}}function FS({point:n},t){return{point:n,delta:MC(n,QL(t)),offset:MC(n,oF(t)),velocity:lF(t,.1)}}function oF(n){return n[0]}function QL(n){return n[n.length-1]}function lF(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=QL(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>dc(t)));)e--;if(!i)return{x:0,y:0};const r=pc(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cF(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?gi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?gi(e,n,i.max):Math.min(n,e)),n}function TC(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function uF(n,{top:t,left:e,bottom:i,right:s}){return{x:TC(n.x,e,s),y:TC(n.y,t,i)}}function EC(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function fF(n,t){return{x:EC(n.x,t.x),y:EC(n.y,t.y)}}function hF(n,t){let e=.5;const i=ga(n),s=ga(t);return s>i?e=ph(t.min,t.max-i,n.min):i>s&&(e=ph(n.min,n.max-s,t.min)),Sl(0,1,e)}function dF(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const UM=.35;function pF(n=UM){return n===!1?n=0:n===!0&&(n=UM),{x:AC(n,"left","right"),y:AC(n,"top","bottom")}}function AC(n,t,e){return{min:wC(n,t),max:wC(n,e)}}function wC(n,t){return typeof n=="number"?n:n[t]||0}const mF=new WeakMap;let gF=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(B0(m).point)},r=(m,v)=>{const{drag:x,dragPropagation:_,onDragStart:T}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Y5(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(E=>{let M=this.getAxisMotionValue(E).get()||0;if(pl.test(M)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[E];D&&(M=ga(D)*(parseFloat(M)/100))}}this.originPoint[E]=M}),T&&En.postRender(()=>T(m,v)),SM(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(m,v)=>{const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:T,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=v;if(_&&this.currentDirection===null){this.currentDirection=vF(E),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),C&&C(m,v)},c=(m,v)=>this.stop(m,v),h=()=>Cr(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new KL(t,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&En.postRender(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Uy(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=cF(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;e&&Yd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uF(s.layoutBox,e):this.constraints=!1,this.elastic=pF(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Cr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dF(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Yd(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=aF(i,s.root,this.visualElement.getTransformPagePoint());let o=fF(s.layout.layoutBox,r);if(e){const c=e(K5(o));this.hasMutatedConstraints=!!c,c&&(o=jL(c))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Cr(m=>{if(!Uy(m,e,this.currentDirection))return;let v=h&&h[m]||{};o&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,T={type:"inertia",velocity:i?t[m]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return SM(this.visualElement,t),i.start(pE(t,i,0,e,this.visualElement,!1))}stopAnimation(){Cr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cr(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Cr(e=>{const{drag:i}=this.getProps();if(!Uy(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[e];r.set(t[e]-gi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Yd(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Cr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const h=c.get();s[o]=hF({min:h,max:h},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Cr(o=>{if(!Uy(o,t,null))return;const c=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];c.set(gi(h,p,s[o]))})}addListeners(){if(!this.visualElement.current)return;mF.set(this.visualElement,this);const t=this.visualElement.current,e=Kd(t,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Yd(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),En.read(i);const o=s0(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Cr(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=UM,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:c}}};function Uy(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function vF(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}let yF=class extends Lu{constructor(t){super(t),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new gF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}};const CC=n=>(t,e)=>{n&&En.postRender(()=>n(t,e))};let xF=class extends Lu{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(t){this.session=new KL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:CC(t),onStart:CC(e),onMove:i,onEnd:(r,o)=>{delete this.session,s&&En.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Kd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Vx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RC(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const tg={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Be.test(n))n=parseFloat(n);else return n;const e=RC(n,t.target.x),i=RC(n,t.target.y);return`${e}% ${i}%`}},_F={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=wu.parse(n);if(s.length>5)return i;const r=wu.createTransformer(n),o=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;s[0+o]/=c,s[1+o]/=h;const p=gi(c,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=p),typeof s[3+o]=="number"&&(s[3+o]/=p),r(s)}};let SF=class extends K.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;OV(bF),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Vx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||t.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||En.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),HT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function $L(n){const[t,e]=zN(),i=K.useContext(zT);return J.jsx(SF,{...n,layoutGroup:i,switchLayoutGroup:K.useContext(jN),isPresent:t,safeToRemove:e})}const bF={borderRadius:{...tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tg,borderTopRightRadius:tg,borderBottomLeftRadius:tg,borderBottomRightRadius:tg,boxShadow:_F};function MF(n,t,e){const i=_s(n)?n:hl(n);return i.start(pE("",i,t,e)),i.animation}function TF(n){return n instanceof SVGElement&&n.tagName!=="svg"}const EF=(n,t)=>n.depth-t.depth;let AF=class{constructor(){this.children=[],this.isDirty=!1}add(t){JT(this.children,t),this.isDirty=!0}remove(t){tE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EF),this.isDirty=!1,this.children.forEach(t)}};function wF(n,t){const e=ml.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(Mo(i),n(r-t))};return En.read(i,!0),()=>Mo(i)}const JL=["TopLeft","TopRight","BottomLeft","BottomRight"],CF=JL.length,DC=n=>typeof n=="string"?parseFloat(n):n,NC=n=>typeof n=="number"||Be.test(n);function RF(n,t,e,i,s,r){s?(n.opacity=gi(0,e.opacity!==void 0?e.opacity:1,DF(i)),n.opacityExit=gi(t.opacity!==void 0?t.opacity:1,0,NF(i))):r&&(n.opacity=gi(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let o=0;o<CF;o++){const c=`border${JL[o]}Radius`;let h=LC(t,c),p=LC(e,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||NC(h)===NC(p)?(n[c]=Math.max(gi(DC(h),DC(p),i),0),(pl.test(p)||pl.test(h))&&(n[c]+="%")):n[c]=p}(t.rotate||e.rotate)&&(n.rotate=gi(t.rotate||0,e.rotate||0,i))}function LC(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const DF=tU(0,.5,mL),NF=tU(.5,.95,$s);function tU(n,t,e){return i=>i<n?0:i>t?1:e(ph(n,t,i))}function UC(n,t){n.min=t.min,n.max=t.max}function Tr(n,t){UC(n.x,t.x),UC(n.y,t.y)}function OC(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function PC(n,t,e,i,s){return n-=t,n=i_(n,1/e,i),s!==void 0&&(n=i_(n,1/s,i)),n}function LF(n,t=0,e=1,i=.5,s,r=n,o=n){if(pl.test(t)&&(t=parseFloat(t),t=gi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=gi(r.min,r.max,i);n===r&&(c-=t),n.min=PC(n.min,t,e,c,s),n.max=PC(n.max,t,e,c,s)}function zC(n,t,[e,i,s],r,o){LF(n,t[e],t[i],t[s],t.scale,r,o)}const UF=["x","scaleX","originX"],OF=["y","scaleY","originY"];function BC(n,t,e,i){zC(n.x,t,UF,e?e.x:void 0,i?i.x:void 0),zC(n.y,t,OF,e?e.y:void 0,i?i.y:void 0)}function VC(n){return n.translate===0&&n.scale===1}function eU(n){return VC(n.x)&&VC(n.y)}function IC(n,t){return n.min===t.min&&n.max===t.max}function PF(n,t){return IC(n.x,t.x)&&IC(n.y,t.y)}function FC(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function nU(n,t){return FC(n.x,t.x)&&FC(n.y,t.y)}function HC(n){return ga(n.x)/ga(n.y)}function GC(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}let zF=class{constructor(){this.members=[]}add(t){JT(this.members,t),t.scheduleRender()}remove(t){if(tE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function BF(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:_,skewY:T}=e;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=n.x.scale*t.x,h=n.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const HS=["","X","Y","Z"],VF={visibility:"hidden"},kC=1e3;let IF=0;function GS(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function iU(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=sL(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",En,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&iU(i)}function sU({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},c=t==null?void 0:t()){this.id=IF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GF),this.nodes.forEach(WF),this.nodes.forEach(YF),this.nodes.forEach(kF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new AF)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new eE),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const h=this.eventHandlers.get(o);h&&h.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TF(o),this.instance=o;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=wF(x,250),Vx.hasAnimatedSinceResize&&(Vx.hasAnimatedSinceResize=!1,this.nodes.forEach(XC))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||JF,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=m.getProps(),R=!this.targetLayout||!nU(this.targetLayout,T),D=!x&&_;if(this.options.layoutRoot||this.resumeFrom||D||x&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,D);const L={...$T(C,"layout"),onPlay:E,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else x||XC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jC);return}this.isUpdating||this.nodes.forEach(XF),this.isUpdating=!1,this.nodes.forEach(qF),this.nodes.forEach(FF),this.nodes.forEach(HF),this.clearAllSnapshots();const c=ml.now();ys.delta=Sl(0,1e3/60,c-ys.timestamp),ys.timestamp=c,ys.isProcessing=!0,OS.update.process(ys),OS.preRender.process(ys),OS.render.process(ys),ys.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jF),this.sharedNodes.forEach(KF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,En.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){En.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ga(this.snapshot.measuredBox.x)&&!ga(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!eU(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&(c||qf(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return o&&(h=this.removeTransform(h)),tH(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return zi();const h=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(eH))){const{scroll:m}=this.root;m&&($d(h.x,m.offset.x),$d(h.y,m.offset.y))}return h}removeElementScroll(o){var c;const h=zi();if(Tr(h,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Tr(h,o),$d(h.x,v.offset.x),$d(h.y,v.offset.y))}return h}applyTransform(o,c=!1){const h=zi();Tr(h,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Jd(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),qf(m.latestValues)&&Jd(h,m.latestValues)}return qf(this.latestValues)&&Jd(h,this.latestValues),h}removeTransform(o){const c=zi();Tr(c,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!qf(p.latestValues))continue;NM(p.latestValues)&&p.updateSnapshot();const m=zi(),v=p.measurePageBox();Tr(m,v),BC(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return qf(this.latestValues)&&BC(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ys.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(o||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=ys.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),Lg(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zi(),this.targetWithTransforms=zi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),YL(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zi(),this.relativeTargetOrigin=zi(),Lg(this.relativeTargetOrigin,this.target,_.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||NM(this.parent.latestValues)||WL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ys.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Tr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;sF(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=zi());const{target:T}=c;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OC(this.prevProjectionDelta.x,this.projectionDelta.x),OC(this.prevProjectionDelta.y,this.projectionDelta.y)),Ng(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==_||!GC(this.projectionDelta.x,this.prevProjectionDelta.x)||!GC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qd(),this.projectionDelta=Qd(),this.projectionDeltaWithTransform=Qd()}setAnimationOrigin(o,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Qd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=zi(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,C=_!==T,E=this.getStack(),M=!E||E.members.length<=1,R=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some($F));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const B=L/1e3;qC(v.x,o.x,B),qC(v.y,o.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lg(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QF(this.relativeTarget,this.relativeTargetOrigin,x,B),D&&PF(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=zi()),Tr(D,this.relativeTarget)),C&&(this.animationValues=m,RF(m,p,this.latestValues,B,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=En.update(()=>{Vx.hasAnimatedSinceResize=!0,this.currentAnimation=MF(0,kC,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=o;if(!(!c||!h||!p)){if(this!==o&&this.layout&&p&&aU(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||zi();const v=ga(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+v;const x=ga(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+x}Tr(c,h),Jd(c,m),Ng(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zF),this.sharedNodes.get(o).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&GS("z",o,p,this.animationValues);for(let m=0;m<HS.length;m++)GS(`rotate${HS[m]}`,o,p,this.animationValues),GS(`skew${HS[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}getProjectionStyles(o){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VF;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=zx(o==null?void 0:o.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=zx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qf(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=BF(this.projectionDeltaWithTransform,this.treeScale,x),m&&(p.transform=m(x,p.transform));const{x:_,y:T}=this.projectionDelta;p.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,v.animationValues?p.opacity=v===this?(h=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in t0){if(x[C]===void 0)continue;const{correct:E,applyTo:M,isCSSVariable:R}=t0[C],D=p.transform==="none"?x[C]:E(x[C],v);if(M){const L=M.length;for(let B=0;B<L;B++)p[M[B]]=D}else R?this.options.visualElement.renderState.vars[C]=D:p[C]=D}return this.options.layoutId&&(p.pointerEvents=v===this?zx(o==null?void 0:o.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(jC),this.root.sharedNodes.clear()}}}function FF(n){n.updateLayout()}function HF(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?Cr(v=>{const x=o?e.measuredBox[v]:e.layoutBox[v],_=ga(x);x.min=i[v].min,x.max=x.min+_}):aU(r,e.layoutBox,i)&&Cr(v=>{const x=o?e.measuredBox[v]:e.layoutBox[v],_=ga(i[v]);x.max=x.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const c=Qd();Ng(c,i,e.layoutBox);const h=Qd();o?Ng(h,n.applyTransform(s,!0),e.measuredBox):Ng(h,i,e.layoutBox);const p=!eU(c);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const T=zi();Lg(T,e.layoutBox,x.layoutBox);const C=zi();Lg(C,i,_.layoutBox),nU(T,C)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function GF(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function kF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function jF(n){n.clearSnapshot()}function jC(n){n.clearMeasurements()}function XF(n){n.isLayoutDirty=!1}function qF(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function XC(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function WF(n){n.resolveTargetDelta()}function YF(n){n.calcProjection()}function ZF(n){n.resetSkewAndRotation()}function KF(n){n.removeLeadSnapshot()}function qC(n,t,e){n.translate=gi(t.translate,0,e),n.scale=gi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function WC(n,t,e,i){n.min=gi(t.min,e.min,i),n.max=gi(t.max,e.max,i)}function QF(n,t,e,i){WC(n.x,t.x,e.x,i),WC(n.y,t.y,e.y,i)}function $F(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const JF={duration:.45,ease:[.4,0,.1,1]},YC=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ZC=YC("applewebkit/")&&!YC("chrome/")?Math.round:$s;function KC(n){n.min=ZC(n.min),n.max=ZC(n.max)}function tH(n){KC(n.x),KC(n.y)}function aU(n,t,e){return n==="position"||n==="preserve-aspect"&&!nF(HC(t),HC(e),.2)}function eH(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const nH=sU({attachResizeListener:(n,t)=>s0(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kS={current:void 0},rU=sU({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!kS.current){const n=new nH({});n.mount(window),n.setOptions({layoutScroll:!0}),kS.current=n}return kS.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),iH={pan:{Feature:xF},drag:{Feature:yF,ProjectionNode:rU,MeasureLayout:$L}};function oU(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function lU(n,t){const e=oU(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function QC(n){return!(n.pointerType==="touch"||kL())}function sH(n,t,e={}){const[i,s,r]=lU(n,e),o=c=>{if(!QC(c))return;const{target:h}=c,p=t(h,c);if(typeof p!="function"||!h)return;const m=v=>{QC(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",o,s)}),r}function $C(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&En.postRender(()=>r(t,B0(t)))}let aH=class extends Lu{mount(){const{current:t}=this.node;t&&(this.unmount=sH(t,(e,i)=>($C(this.node,i,"Start"),s=>$C(this.node,s,"End"))))}unmount(){}},rH=class extends Lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=z0(s0(this.node.current,"focus",()=>this.onFocus()),s0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const cU=(n,t)=>t?n===t?!0:cU(n,t.parentElement):!1,oH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lH(n){return oH.has(n.tagName)||n.tabIndex!==-1}const Eg=new WeakSet;function JC(n){return t=>{t.key==="Enter"&&n(t)}}function jS(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cH=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=JC(()=>{if(Eg.has(e))return;jS(e,"down");const s=JC(()=>{jS(e,"up")}),r=()=>jS(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function t2(n){return mE(n)&&!kL()}function uH(n,t,e={}){const[i,s,r]=lU(n,e),o=c=>{const h=c.currentTarget;if(!h||!t2(c)||Eg.has(h))return;Eg.add(h),s_(c,"set");const p=t(h,c),m=(_,T)=>{h.removeEventListener("pointerup",v),h.removeEventListener("pointercancel",x),s_(_,"release"),!(!t2(_)||!Eg.has(h))&&(Eg.delete(h),typeof p=="function"&&p(_,{success:T}))},v=_=>{(_.isTrusted?fH(_,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(_,!1):m(_,!(h instanceof Element)||cU(h,_.target))},x=_=>{m(_,!1)};h.addEventListener("pointerup",v,s),h.addEventListener("pointercancel",x,s),h.addEventListener("lostpointercapture",x,s)};return i.forEach(c=>{c=e.useGlobalTarget?window:c;let h=!1;c instanceof HTMLElement&&(h=!0,!lH(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",o,s),h&&c.addEventListener("focus",p=>cH(p,s),s)}),r}function fH(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function e2(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&En.postRender(()=>r(t,B0(t)))}let hH=class extends Lu{mount(){const{current:t}=this.node;t&&(this.unmount=uH(t,(e,i)=>(e2(this.node,i,"Start"),(s,{success:r})=>e2(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const OM=new WeakMap,XS=new WeakMap,dH=n=>{const t=OM.get(n.target);t&&t(n)},pH=n=>{n.forEach(dH)};function mH({root:n,...t}){const e=n||document;XS.has(e)||XS.set(e,{});const i=XS.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(pH,{root:n,...t})),i[s]}function gH(n,t,e){const i=mH(t);return OM.set(n,e),i.observe(n),()=>{OM.delete(n),i.unobserve(n)}}const vH={some:0,all:1};let yH=class extends Lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:vH[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(h)};return gH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(xH(t,e))&&this.startObserver()}unmount(){}};function xH({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const _H={inView:{Feature:yH},tap:{Feature:hH},focus:{Feature:rH},hover:{Feature:aH}},SH={layout:{ProjectionNode:rU,MeasureLayout:$L}},PM={current:null},uU={current:!1};function bH(){if(uU.current=!0,!!BT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>PM.current=n.matches;n.addListener(t),t()}else PM.current=!1}const MH=[...RL,Ys,wu],TH=n=>MH.find(CL(n)),EH=new WeakMap;function AH(n,t,e){for(const i in t){const s=t[i],r=e[i];if(_s(s))n.addValue(i,s);else if(_s(r))n.addValue(i,hl(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,hl(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const n2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let wH=class{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=ml.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,En.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:m}=o;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=i1(e),this.isVariantNode=GN(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(e,{},this);for(const _ in x){const T=x[_];h[_]!==void 0&&_s(T)&&T.set(h[_],!1)}}mount(t){this.current=t,EH.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),uU.current||bH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:PM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Sh.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&En.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mp){const e=mp[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<n2.length;i++){const s=n2[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=AH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=hl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(AL(s)||vL(s))?s=parseFloat(s):!TH(s)&&wu.test(e)&&(s=ML(t,e)),this.setBaseTarget(t,_s(s)?s.get():s)),_s(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=KT(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!_s(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new eE),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}},fU=class extends wH{constructor(){super(...arguments),this.KeyframeResolver=DL}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_s(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}};function CH(n){return window.getComputedStyle(n)}let RH=class extends fU{constructor(){super(...arguments),this.type="html",this.renderInstance=JN}readValueFromInstance(t,e){if(Sh.has(e)){const i=uE(e);return i&&i.default||0}else{const i=CH(t),s=(GT(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ZL(t,e)}build(t,e,i){XT(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return QT(t,e,i)}},DH=class extends fU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&$N(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Sh.has(e)){const i=uE(e);return i&&i.default||0}return e=tL.has(e)?e:FT(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return nL(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&En.postRender(this.updateDimensions)}build(t,e,i){YT(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){eL(t,e,i,s)}mount(t){this.isSVGTag=ZT(t.tagName),super.mount(t)}};const NH=(n,t)=>WT(n)?new DH(t):new RH(t,{allowProjection:n!==K.Fragment}),LH=sI({...W5,..._H,...iH,...SH},NH),Qi=_V(LH);function hU(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return En.update(i,!0),()=>Mo(i)}const Ix=new WeakMap;let _u;function UH(n,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function OH({target:n,contentRect:t,borderBoxSize:e}){var i;(i=Ix.get(n))===null||i===void 0||i.forEach(s=>{s({target:n,contentSize:t,get size(){return UH(n,e)}})})}function PH(n){n.forEach(OH)}function zH(){typeof ResizeObserver>"u"||(_u=new ResizeObserver(PH))}function BH(n,t){_u||zH();const e=oU(n);return e.forEach(i=>{let s=Ix.get(i);s||(s=new Set,Ix.set(i,s)),s.add(t),_u==null||_u.observe(i)}),()=>{e.forEach(i=>{const s=Ix.get(i);s==null||s.delete(t),s!=null&&s.size||_u==null||_u.unobserve(i)})}}const Fx=new Set;let Ug;function VH(){Ug=()=>{const n={width:window.innerWidth,height:window.innerHeight},t={target:window,size:n,contentSize:n};Fx.forEach(e=>e(t))},window.addEventListener("resize",Ug)}function IH(n){return Fx.add(n),Ug||VH(),()=>{Fx.delete(n),!Fx.size&&Ug&&(Ug=void 0)}}function FH(n,t){return typeof n=="function"?IH(n):BH(n,t)}const HH=50,i2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),GH=()=>({time:0,x:i2(),y:i2()}),kH={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function s2(n,t,e,i){const s=e[t],{length:r,position:o}=kH[t],c=s.current,h=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ph(0,s.scrollLength,s.current);const p=i-h;s.velocity=p>HH?0:nE(s.current-c,p)}function jH(n,t,e){s2(n,"x",t,e),s2(n,"y",t,e),t.time=e}function XH(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(i instanceof HTMLElement)e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();e.x+=s.left-r.left,e.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();e.x+=s,e.y+=r;let o=null,c=i.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=i.parentNode;i=o}else break;return e}const zM={start:0,center:.5,end:1};function a2(n,t,e=0){let i=0;if(n in zM&&(n=zM[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const qH=[0,0];function WH(n,t,e,i){let s=Array.isArray(n)?n:qH,r=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,zM[n]?n:"0"]),r=a2(s[0],e,i),o=a2(s[1],t),r-o}const YH={All:[[0,0],[1,1]]},ZH={x:0,y:0};function KH(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function QH(n,t,e){const{offset:i=YH.All}=e,{target:s=n,axis:r="y"}=e,o=r==="y"?"height":"width",c=s!==n?XH(s,n):ZH,h=s===n?{width:n.scrollWidth,height:n.scrollHeight}:KH(s),p={width:n.clientWidth,height:n.clientHeight};t[r].offset.length=0;let m=!t[r].interpolate;const v=i.length;for(let x=0;x<v;x++){const _=WH(i[x],p[o],h[o],c[r]);!m&&_!==t[r].interpolatorOffsets[x]&&(m=!0),t[r].offset[x]=_}m&&(t[r].interpolate=dE(t[r].offset,VL(i),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=Sl(0,1,t[r].interpolate(t[r].current))}function $H(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function JH(n,t,e,i={}){return{measure:()=>$H(n,i.target,e),update:s=>{jH(n,e,s),(i.offset||i.target)&&QH(n,e,i)},notify:()=>t(e)}}const eg=new WeakMap,r2=new WeakMap,qS=new WeakMap,o2=n=>n===document.documentElement?window:n;function gE(n,{container:t=document.documentElement,...e}={}){let i=qS.get(t);i||(i=new Set,qS.set(t,i));const s=GH(),r=JH(t,n,s,e);if(i.add(r),!eg.has(t)){const c=()=>{for(const x of i)x.measure()},h=()=>{for(const x of i)x.update(ys.timestamp)},p=()=>{for(const x of i)x.notify()},m=()=>{En.read(c,!1,!0),En.read(h,!1,!0),En.update(p,!1,!0)};eg.set(t,m);const v=o2(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&r2.set(t,FH(t,m)),v.addEventListener("scroll",m,{passive:!0})}const o=eg.get(t);return En.read(o,!1,!0),()=>{var c;Mo(o);const h=qS.get(t);if(!h||(h.delete(r),h.size))return;const p=eg.get(t);eg.delete(t),p&&(o2(t).removeEventListener("scroll",p),(c=r2.get(t))===null||c===void 0||c(),window.removeEventListener("resize",p))}}function t6({source:n,container:t,axis:e="y"}){n&&(t=n);const i={value:0},s=gE(r=>{i.value=r[e].progress*100},{container:t,axis:e});return{currentTime:i,cancel:s}}const WS=new Map;function dU({source:n,container:t=document.documentElement,axis:e="y"}={}){n&&(t=n),WS.has(t)||WS.set(t,{});const i=WS.get(t);return i[e]||(i[e]=aL()?new ScrollTimeline({source:t,axis:e}):t6({source:t,axis:e})),i[e]}function e6(n){return n.length===2}function pU(n){return n&&(n.target||n.offset)}function n6(n,t){return e6(n)||pU(t)?gE(e=>{n(e[t.axis].progress,e)},t):hU(n,dU(t))}function i6(n,t){if(n.flatten(),pU(t))return n.pause(),gE(e=>{n.time=n.duration*e[t.axis].progress},t);{const e=dU(t);return n.attachTimeline?n.attachTimeline(e,i=>(i.pause(),hU(s=>{i.time=i.duration*s},e))):$s}}function s6(n,{axis:t="y",...e}={}){const i={axis:t,...e};return typeof n=="function"?n6(n,i):i6(n,i)}function l2(n,t){hV(!!(!t||t.current))}const a6=()=>({scrollX:hl(0),scrollY:hl(0),scrollXProgress:hl(0),scrollYProgress:hl(0)});function r6({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=Au(a6);return(e?U0:K.useEffect)(()=>(l2("target",t),l2("container",n),s6((o,{x:c,y:h})=>{s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(h.current),s.scrollYProgress.set(h.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function vE(n){const t=Au(()=>hl(n)),{isStatic:e}=K.useContext(L0);if(e){const[,i]=K.useState(n);K.useEffect(()=>t.on("change",i),[])}return t}function mU(n,t){const e=vE(t()),i=()=>e.set(t());return i(),U0(()=>{const s=()=>En.preRender(i,!1,!0),r=n.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),Mo(i)}}),e}function gU(n,t={}){const{isStatic:e}=K.useContext(L0),i=K.useRef(null),s=Au(()=>_s(n)?n.get():n),r=Au(()=>typeof s=="string"?s.replace(/[\d.-]/g,""):void 0),o=vE(s),c=K.useRef(s),h=K.useRef($s),p=()=>{m(),i.current=_5({keyframes:[u2(o.get()),u2(c.current)],velocity:o.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:h.current})},m=()=>{i.current&&i.current.stop()};return K.useInsertionEffect(()=>o.attach((v,x)=>e?x(v):(c.current=v,h.current=_=>x(c2(_,r)),En.postRender(p),o.get()),m),[JSON.stringify(t)]),U0(()=>{if(_s(n))return n.on("change",v=>o.set(c2(v,r)))},[o,r]),o}function c2(n,t){return t?n+t:n}function u2(n){return typeof n=="number"?n:parseFloat(n)}const o6=n=>n&&typeof n=="object"&&n.mix,l6=n=>o6(n)?n.mix:void 0;function c6(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],r=n[2+e],o=n[3+e],c=dE(s,r,{mixer:l6(r[0]),...o});return t?c(i):c}function u6(n){Rg.current=[],n();const t=mU(Rg.current,n);return Rg.current=void 0,t}function Oy(n,t,e,i){if(typeof n=="function")return u6(n);const s=typeof t=="function"?t:c6(t,e,i);return Array.isArray(n)?f2(n,s):f2([n],([r])=>s(r))}function f2(n,t){const e=Au(()=>[]);return mU(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}const yE=K.createContext({});function Cp(n){const t=K.useRef(null);return t.current===null&&(t.current=n()),t.current}const xE=typeof window<"u",r1=xE?K.useLayoutEffect:K.useEffect,o1=K.createContext(null);function _E(n,t){n.indexOf(t)===-1&&n.push(t)}function SE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const bl=(n,t,e)=>e>t?t:e<n?n:e;let a0=()=>{};const vc={},vU=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function yU(n){return typeof n=="object"&&n!==null}const xU=n=>/^0[^.\s]+$/u.test(n);function bE(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ha=n=>n,f6=(n,t)=>e=>t(n(e)),V0=(...n)=>n.reduce(f6),vp=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class ME{constructor(){this.subscriptions=[]}add(t){return _E(this.subscriptions,t),()=>SE(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gl=n=>n*1e3,Dr=n=>n/1e3;function TE(n,t){return t?n*(1e3/t):0}const _U=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,h6=1e-7,d6=12;function p6(n,t,e,i,s){let r,o,c=0;do o=t+(e-t)/2,r=_U(o,i,s)-n,r>0?e=o:t=o;while(Math.abs(r)>h6&&++c<d6);return o}function I0(n,t,e,i){if(n===t&&e===i)return Ha;const s=r=>p6(r,0,1,n,e);return r=>r===0||r===1?r:_U(s(r),t,i)}const SU=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,bU=n=>t=>1-n(1-t),MU=I0(.33,1.53,.69,.99),EE=bU(MU),TU=SU(EE),EU=n=>(n*=2)<1?.5*EE(n):.5*(2-Math.pow(2,-10*(n-1))),AE=n=>1-Math.sin(Math.acos(n)),AU=bU(AE),wU=SU(AE),m6=I0(.42,0,1,1),g6=I0(0,0,.58,1),CU=I0(.42,0,.58,1),v6=n=>Array.isArray(n)&&typeof n[0]!="number",RU=n=>Array.isArray(n)&&typeof n[0]=="number",y6={linear:Ha,easeIn:m6,easeInOut:CU,easeOut:g6,circIn:AE,circInOut:wU,circOut:AU,backIn:EE,backInOut:TU,backOut:MU,anticipate:EU},x6=n=>typeof n=="string",h2=n=>{if(RU(n)){a0(n.length===4);const[t,e,i,s]=n;return I0(t,e,i,s)}else if(x6(n))return y6[n];return n},Py=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _6(n,t){let e=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(p.schedule(m),n()),m(c)}const p={schedule:(m,v=!1,x=!1)=>{const T=x&&s?e:i;return v&&o.add(m),T.has(m)||T.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(c=m,s){r=!0;return}s=!0,[e,i]=[i,e],e.forEach(h),e.clear(),s=!1,r&&(r=!1,p.process(m))}};return p}const S6=40;function DU(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,o=Py.reduce((D,L)=>(D[L]=_6(r),D),{}),{setup:c,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:x,render:_,postRender:T}=o,C=()=>{const D=vc.useManualTiming?s.timestamp:performance.now();e=!1,vc.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(D-s.timestamp,S6),1)),s.timestamp=D,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),m.process(s),v.process(s),x.process(s),_.process(s),T.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(C))},E=()=>{e=!0,i=!0,s.isProcessing||n(C)};return{schedule:Py.reduce((D,L)=>{const B=o[L];return D[L]=(P,I=!1,V=!1)=>(e||E(),B.schedule(P,I,V)),D},{}),cancel:D=>{for(let L=0;L<Py.length;L++)o[Py[L]].cancel(D)},state:s,steps:o}}const{schedule:Hn,cancel:To,state:xs,steps:YS}=DU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ha,!0);let Hx;function b6(){Hx=void 0}const Ia={now:()=>(Hx===void 0&&Ia.set(xs.isProcessing||vc.useManualTiming?xs.timestamp:performance.now()),Hx),set:n=>{Hx=n,queueMicrotask(b6)}},NU=n=>t=>typeof t=="string"&&t.startsWith(n),wE=NU("--"),M6=NU("var(--"),CE=n=>M6(n)?T6.test(n.split("/*")[0].trim()):!1,T6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},r0={...Rp,transform:n=>bl(0,1,n)},zy={...Rp,default:1},Og=n=>Math.round(n*1e5)/1e5,RE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function E6(n){return n==null}const A6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DE=(n,t)=>e=>!!(typeof e=="string"&&A6.test(e)&&e.startsWith(n)||t&&!E6(e)&&Object.prototype.hasOwnProperty.call(e,t)),LU=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,o,c]=i.match(RE);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},w6=n=>bl(0,255,n),ZS={...Rp,transform:n=>Math.round(w6(n))},Jf={test:DE("rgb","red"),parse:LU("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+ZS.transform(n)+", "+ZS.transform(t)+", "+ZS.transform(e)+", "+Og(r0.transform(i))+")"};function C6(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const BM={test:DE("#"),parse:C6,transform:Jf.transform},F0=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Su=F0("deg"),vl=F0("%"),Fe=F0("px"),R6=F0("vh"),D6=F0("vw"),d2={...vl,parse:n=>vl.parse(n)/100,transform:n=>vl.transform(n*100)},tp={test:DE("hsl","hue"),parse:LU("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+vl.transform(Og(t))+", "+vl.transform(Og(e))+", "+Og(r0.transform(i))+")"},ki={test:n=>Jf.test(n)||BM.test(n)||tp.test(n),parse:n=>Jf.test(n)?Jf.parse(n):tp.test(n)?tp.parse(n):BM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Jf.transform(n):tp.transform(n),getAnimatableNone:n=>{const t=ki.parse(n);return t.alpha=0,ki.transform(t)}},N6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L6(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(RE))==null?void 0:t.length)||0)+(((e=n.match(N6))==null?void 0:e.length)||0)>0}const UU="number",OU="color",U6="var",O6="var(",p2="${}",P6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function o0(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const c=t.replace(P6,h=>(ki.test(h)?(i.color.push(r),s.push(OU),e.push(ki.parse(h))):h.startsWith(O6)?(i.var.push(r),s.push(U6),e.push(h)):(i.number.push(r),s.push(UU),e.push(parseFloat(h))),++r,p2)).split(p2);return{values:e,split:c,indexes:i,types:s}}function PU(n){return o0(n).values}function zU(n){const{split:t,types:e}=o0(n),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const c=e[o];c===UU?r+=Og(s[o]):c===OU?r+=ki.transform(s[o]):r+=s[o]}return r}}const z6=n=>typeof n=="number"?0:ki.test(n)?ki.getAnimatableNone(n):n;function B6(n){const t=PU(n);return zU(n)(t.map(z6))}const Cu={test:L6,parse:PU,createTransformer:zU,getAnimatableNone:B6};function KS(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function V6({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,o=0;if(!t)s=r=o=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;s=KS(h,c,n+1/3),r=KS(h,c,n),o=KS(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function a_(n,t){return e=>e>0?t:n}const vi=(n,t,e)=>n+(t-n)*e,QS=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},I6=[BM,Jf,tp],F6=n=>I6.find(t=>t.test(n));function m2(n){const t=F6(n);if(!t)return!1;let e=t.parse(n);return t===tp&&(e=V6(e)),e}const g2=(n,t)=>{const e=m2(n),i=m2(t);if(!e||!i)return a_(n,t);const s={...e};return r=>(s.red=QS(e.red,i.red,r),s.green=QS(e.green,i.green,r),s.blue=QS(e.blue,i.blue,r),s.alpha=vi(e.alpha,i.alpha,r),Jf.transform(s))},VM=new Set(["none","hidden"]);function H6(n,t){return VM.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function G6(n,t){return e=>vi(n,t,e)}function NE(n){return typeof n=="number"?G6:typeof n=="string"?CE(n)?a_:ki.test(n)?g2:X6:Array.isArray(n)?BU:typeof n=="object"?ki.test(n)?g2:k6:a_}function BU(n,t){const e=[...n],i=e.length,s=n.map((r,o)=>NE(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)e[o]=s[o](r);return e}}function k6(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=NE(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function j6(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],o=n.indexes[r][i[r]],c=n.values[o]??0;e[s]=c,i[r]++}return e}const X6=(n,t)=>{const e=Cu.createTransformer(t),i=o0(n),s=o0(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?VM.has(n)&&!s.values.length||VM.has(t)&&!i.values.length?H6(n,t):V0(BU(j6(i,s),s.values),e):a_(n,t)};function VU(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?vi(n,t,e):NE(n)(n,t)}const q6=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>Hn.update(t,e),stop:()=>To(t),now:()=>xs.isProcessing?xs.timestamp:Ia.now()}},IU=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=Math.round(n(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},r_=2e4;function LE(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<r_;)t+=e,i=n.next(t);return t>=r_?1/0:t}function W6(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(LE(i),r_);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:Dr(s)}}const Y6=5;function FU(n,t,e){const i=Math.max(t-Y6,0);return TE(e-n(i),t-i)}const Di={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},v2=.001;function Z6({duration:n=Di.duration,bounce:t=Di.bounce,velocity:e=Di.velocity,mass:i=Di.mass}){let s,r,o=1-t;o=bl(Di.minDamping,Di.maxDamping,o),n=bl(Di.minDuration,Di.maxDuration,Dr(n)),o<1?(s=p=>{const m=p*o,v=m*n,x=m-e,_=IM(p,o),T=Math.exp(-v);return v2-x/_*T},r=p=>{const v=p*o*n,x=v*e+e,_=Math.pow(o,2)*Math.pow(p,2)*n,T=Math.exp(-v),C=IM(Math.pow(p,2),o);return(-s(p)+v2>0?-1:1)*((x-_)*T)/C}):(s=p=>{const m=Math.exp(-p*n),v=(p-e)*n+1;return-.001+m*v},r=p=>{const m=Math.exp(-p*n),v=(e-p)*(n*n);return m*v});const c=5/n,h=Q6(s,r,c);if(n=gl(n),isNaN(h))return{stiffness:Di.stiffness,damping:Di.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:o*2*Math.sqrt(i*p),duration:n}}}const K6=12;function Q6(n,t,e){let i=e;for(let s=1;s<K6;s++)i=i-n(i)/t(i);return i}function IM(n,t){return n*Math.sqrt(1-t*t)}const $6=["duration","bounce"],J6=["stiffness","damping","mass"];function y2(n,t){return t.some(e=>n[e]!==void 0)}function t8(n){let t={velocity:Di.velocity,stiffness:Di.stiffness,damping:Di.damping,mass:Di.mass,isResolvedFromDuration:!1,...n};if(!y2(n,J6)&&y2(n,$6))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*bl(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Di.mass,stiffness:s,damping:r}}else{const e=Z6(n);t={...t,...e,mass:Di.mass},t.isResolvedFromDuration=!0}return t}function o_(n=Di.visualDuration,t=Di.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],c={done:!1,value:r},{stiffness:h,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:_}=t8({...e,velocity:-Dr(e.velocity||0)}),T=x||0,C=p/(2*Math.sqrt(h*m)),E=o-r,M=Dr(Math.sqrt(h/m)),R=Math.abs(E)<5;i||(i=R?Di.restSpeed.granular:Di.restSpeed.default),s||(s=R?Di.restDelta.granular:Di.restDelta.default);let D;if(C<1){const B=IM(M,C);D=P=>{const I=Math.exp(-C*M*P);return o-I*((T+C*M*E)/B*Math.sin(B*P)+E*Math.cos(B*P))}}else if(C===1)D=B=>o-Math.exp(-M*B)*(E+(T+M*E)*B);else{const B=M*Math.sqrt(C*C-1);D=P=>{const I=Math.exp(-C*M*P),V=Math.min(B*P,300);return o-I*((T+C*M*E)*Math.sinh(V)+B*E*Math.cosh(V))/B}}const L={calculatedDuration:_&&v||null,next:B=>{const P=D(B);if(_)c.done=B>=v;else{let I=B===0?T:0;C<1&&(I=B===0?gl(T):FU(D,B,P));const V=Math.abs(I)<=i,U=Math.abs(o-P)<=s;c.done=V&&U}return c.value=c.done?o:P,c},toString:()=>{const B=Math.min(LE(L),r_),P=IU(I=>L.next(B*I).value,B,30);return B+"ms "+P},toTransition:()=>{}};return L}o_.applyToOptions=n=>{const t=W6(n,100,o_);return n.ease=t.ease,n.duration=gl(t.duration),n.type="keyframes",n};function FM({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:c,max:h,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},_=V=>c!==void 0&&V<c||h!==void 0&&V>h,T=V=>c===void 0?h:h===void 0||Math.abs(c-V)<Math.abs(h-V)?c:h;let C=e*t;const E=v+C,M=o===void 0?E:o(E);M!==E&&(C=M-v);const R=V=>-C*Math.exp(-V/i),D=V=>M+R(V),L=V=>{const U=R(V),z=D(V);x.done=Math.abs(U)<=p,x.value=x.done?M:z};let B,P;const I=V=>{_(x.value)&&(B=V,P=o_({keyframes:[x.value,T(x.value)],velocity:FU(D,V,x.value),damping:s,stiffness:r,restDelta:p,restSpeed:m}))};return I(0),{calculatedDuration:null,next:V=>{let U=!1;return!P&&B===void 0&&(U=!0,L(V),I(V)),B!==void 0&&V>=B?P.next(V-B):(!U&&L(V),x)}}}function e8(n,t,e){const i=[],s=e||vc.mix||VU,r=n.length-1;for(let o=0;o<r;o++){let c=s(n[o],n[o+1]);if(t){const h=Array.isArray(t)?t[o]||Ha:t;c=V0(h,c)}i.push(c)}return i}function UE(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(a0(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=e8(t,i,s),h=c.length,p=m=>{if(o&&m<n[0])return t[0];let v=0;if(h>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=vp(n[v],n[v+1],m);return c[v](x)};return e?m=>p(bl(n[0],n[r-1],m)):p}function n8(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=vp(0,t,i);n.push(vi(e,1,s))}}function HU(n){const t=[0];return n8(t,n.length-1),t}function i8(n,t){return n.map(e=>e*t)}function s8(n,t){return n.map(()=>t||CU).splice(0,n.length-1)}function Pg({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=v6(i)?i.map(h2):h2(i),r={done:!1,value:t[0]},o=i8(e&&e.length===t.length?e:HU(t),n),c=UE(o,t,{ease:Array.isArray(s)?s:s8(t,s)});return{calculatedDuration:n,next:h=>(r.value=c(h),r.done=h>=n,r)}}const a8=n=>n!==null;function OE(n,{repeat:t,repeatType:e="loop"},i,s=1){const r=n.filter(a8),c=s<0||t&&e!=="loop"&&t%2===1?0:r.length-1;return!c||i===void 0?r[c]:i}const r8={decay:FM,inertia:FM,tween:Pg,keyframes:Pg,spring:o_};function GU(n){typeof n.type=="string"&&(n.type=r8[n.type])}class PE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const o8=n=>n/100;class zE extends PE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==Ia.now()&&this.tick(Ia.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;GU(t);const{type:e=Pg,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=t;let{keyframes:c}=t;const h=e||Pg;h!==Pg&&typeof c[0]!="number"&&(this.mixKeyframes=V0(o8,VU(c[0],c[1])),c=[0,100]);const p=h({...t,keyframes:c});r==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=LE(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:x,repeatDelay:_,type:T,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,L=i;if(v){const V=Math.min(this.currentTime,s)/c;let U=Math.floor(V),z=V%1;!z&&V>=1&&(z=1),z===1&&U--,U=Math.min(U,v+1),!!(U%2)&&(x==="reverse"?(z=1-z,_&&(z-=_/c)):x==="mirror"&&(L=o)),D=bl(0,1,z)*c}const B=R?{done:!1,value:m[0]}:L.next(D);r&&(B.value=r(B.value));let{done:P}=B;!R&&h!==null&&(P=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return I&&T!==FM&&(B.value=OE(m,this.options,E,this.speed)),C&&C(B.value),I&&this.finish(),B}then(t,e){return this.finished.then(t,e)}get duration(){return Dr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Dr(t)}get time(){return Dr(this.currentTime)}set time(t){var e;t=gl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ia.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Dr(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=q6,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ia.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function l8(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const th=n=>n*180/Math.PI,HM=n=>{const t=th(Math.atan2(n[1],n[0]));return GM(t)},c8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:HM,rotateZ:HM,skewX:n=>th(Math.atan(n[1])),skewY:n=>th(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},GM=n=>(n=n%360,n<0&&(n+=360),n),x2=HM,_2=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),S2=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),u8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_2,scaleY:S2,scale:n=>(_2(n)+S2(n))/2,rotateX:n=>GM(th(Math.atan2(n[6],n[5]))),rotateY:n=>GM(th(Math.atan2(-n[2],n[0]))),rotateZ:x2,rotate:x2,skewX:n=>th(Math.atan(n[4])),skewY:n=>th(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function kM(n){return n.includes("scale")?1:0}function jM(n,t){if(!n||n==="none")return kM(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=u8,s=e;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=c8,s=c}if(!s)return kM(t);const r=i[t],o=s[1].split(",").map(h8);return typeof r=="function"?r(o):o[r]}const f8=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return jM(e,t)};function h8(n){return parseFloat(n.trim())}const Dp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Np=new Set(Dp),b2=n=>n===Rp||n===Fe,d8=new Set(["x","y","z"]),p8=Dp.filter(n=>!d8.has(n));function m8(n){const t=[];return p8.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const oh={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>jM(t,"x"),y:(n,{transform:t})=>jM(t,"y")};oh.translateX=oh.x;oh.translateY=oh.y;const lh=new Set;let XM=!1,qM=!1,WM=!1;function kU(){if(qM){const n=Array.from(lh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=m8(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,o])=>{var c;(c=i.getValue(r))==null||c.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}qM=!1,XM=!1,lh.forEach(n=>n.complete(WM)),lh.clear()}function jU(){lh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qM=!0)})}function g8(){WM=!0,jU(),kU(),WM=!1}class BE{constructor(t,e,i,s,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lh.add(this),XM||(XM=!0,Hn.read(jU),Hn.resolveKeyframes(kU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&e){const c=i.readValue(e,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&r===void 0&&s.set(t[0])}l8(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),lh.delete(this)}cancel(){this.state==="scheduled"&&(lh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v8=n=>n.startsWith("--");function y8(n,t,e){v8(t)?n.style.setProperty(t,e):n.style[t]=e}const XU=bE(()=>window.ScrollTimeline!==void 0),x8={};function _8(n,t){const e=bE(n);return()=>x8[t]??e()}const qU=_8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ag=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,M2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ag([0,.65,.55,1]),circOut:Ag([.55,0,1,.45]),backIn:Ag([.31,.01,.66,-.59]),backOut:Ag([.33,1.53,.69,.99])};function WU(n,t){if(n)return typeof n=="function"?qU()?IU(n,t):"ease-out":RU(n)?Ag(n):Array.isArray(n)?n.map(e=>WU(e,t)||M2.easeOut):M2[n]}function S8(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:c="easeOut",times:h}={},p=void 0){const m={[t]:e};h&&(m.offset=h);const v=WU(c,s);Array.isArray(v)&&(m.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(m,x)}function YU(n){return typeof n=="function"&&"applyToOptions"in n}function b8({type:n,...t}){return YU(n)&&qU()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class M8 extends PE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,a0(typeof t.type!="string");const p=b8(t);this.animation=S8(e,i,s,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=OE(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):y8(e,i,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return Dr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Dr(t)}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=gl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&XU()?(this.animation.timeline=t,Ha):e(this)}}const ZU={anticipate:EU,backInOut:TU,circInOut:wU};function T8(n){return n in ZU}function E8(n){typeof n.ease=="string"&&T8(n.ease)&&(n.ease=ZU[n.ease])}const T2=10;class A8 extends M8{constructor(t){E8(t),GU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:r,...o}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const c=new zE({...o,autoplay:!1}),h=gl(this.finishedTime??this.time);e.setWithVelocity(c.sample(h-T2).value,c.sample(h).value,T2),c.stop()}}const E2=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Cu.test(n)||n==="0")&&!n.startsWith("url("));function w8(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function C8(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],o=E2(s,t),c=E2(r,t);return!o||!c?!1:w8(n)||(e==="spring"||YU(e))&&i}function YM(n){n.duration=0,n.type="keyframes"}const R8=new Set(["opacity","clipPath","filter","transform"]),D8=bE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function N8(n){var m;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:r,type:o}=n;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=t.owner.getProps();return D8()&&e&&R8.has(e)&&(e!=="transform"||!p)&&!h&&!i&&s!=="mirror"&&r!==0&&o!=="inertia"}const L8=40;class U8 extends PE{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",keyframes:c,name:h,motionValue:p,element:m,...v}){var T;super(),this.stop=()=>{var C,E;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Ia.now();const x={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:o,name:h,motionValue:p,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||BE;this.keyframeResolver=new _(c,(C,E,M)=>this.onKeyframesResolved(C,E,x,!M),h,p,m),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:r,type:o,velocity:c,delay:h,isHandoff:p,onUpdate:m}=i;this.resolvedAt=Ia.now(),C8(t,r,o,c)||((vc.instantAnimations||!h)&&(m==null||m(OE(t,i,e))),t[0]=t[t.length-1],YM(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>L8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},_=!p&&N8(x)?new A8({...x,element:x.motionValue.owner.current}):new zE(x);_.finished.then(()=>this.notifyFinished()).catch(Ha),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),g8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const O8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P8(n){const t=O8.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function KU(n,t,e=1){const[i,s]=P8(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return vU(o)?parseFloat(o):o}return CE(s)?KU(s,t,e+1):s}function VE(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const QU=new Set(["width","height","top","left","right","bottom",...Dp]),z8={test:n=>n==="auto",parse:n=>n},$U=n=>t=>t.test(n),JU=[Rp,Fe,vl,Su,D6,R6,z8],A2=n=>JU.find($U(n));function B8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xU(n):!0}const V8=new Set(["brightness","contrast","saturate","opacity"]);function I8(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(RE)||[];if(!i)return n;const s=e.replace(i,"");let r=V8.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const F8=/\b([a-z-]*)\(.*?\)/gu,ZM={...Cu,getAnimatableNone:n=>{const t=n.match(F8);return t?t.map(I8).join(" "):n}},w2={...Rp,transform:Math.round},H8={rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scale:zy,scaleX:zy,scaleY:zy,scaleZ:zy,skew:Su,skewX:Su,skewY:Su,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:r0,originX:d2,originY:d2,originZ:Fe},IE={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...H8,zIndex:w2,fillOpacity:r0,strokeOpacity:r0,numOctaves:w2},G8={...IE,color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:ZM,WebkitFilter:ZM},tO=n=>G8[n];function eO(n,t){let e=tO(n);return e!==ZM&&(e=Cu),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const k8=new Set(["auto","none","0"]);function j8(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!k8.has(r)&&o0(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=eO(e,s)}class X8 extends BE{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let p=t[h];if(typeof p=="string"&&(p=p.trim(),CE(p))){const m=KU(p,e.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!QU.has(i)||t.length!==2)return;const[s,r]=t,o=A2(s),c=A2(r);if(o!==c)if(b2(o)&&b2(c))for(let h=0;h<t.length;h++){const p=t[h];typeof p=="string"&&(t[h]=parseFloat(p))}else oh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||B8(t[s]))&&i.push(s);i.length&&j8(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oh[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,o=i[r];i[r]=oh[e](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,p])=>{t.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function FE(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const nO=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function HE(n){return yU(n)&&"offsetHeight"in n}const C2=30,q8=n=>!isNaN(parseFloat(n)),zg={current:void 0};class W8{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const s=Ia.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ia.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=q8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ME);const i=this.events[t].add(e);return t==="change"?()=>{i(),Hn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return zg.current&&zg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ia.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>C2)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,C2);return TE(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function So(n,t){return new W8(n,t)}const{schedule:GE}=DU(queueMicrotask,!1),vo={x:!1,y:!1};function iO(){return vo.x||vo.y}function Y8(n){return n==="x"||n==="y"?vo[n]?null:(vo[n]=!0,()=>{vo[n]=!1}):vo.x||vo.y?null:(vo.x=vo.y=!0,()=>{vo.x=vo.y=!1})}function sO(n,t){const e=FE(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function R2(n){return!(n.pointerType==="touch"||iO())}function Z8(n,t,e={}){const[i,s,r]=sO(n,e),o=c=>{if(!R2(c))return;const{target:h}=c,p=t(h,c);if(typeof p!="function"||!h)return;const m=v=>{R2(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",o,s)}),r}const aO=(n,t)=>t?n===t?!0:aO(n,t.parentElement):!1,kE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,K8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Q8(n){return K8.has(n.tagName)||n.tabIndex!==-1}const Gx=new WeakSet;function D2(n){return t=>{t.key==="Enter"&&n(t)}}function $S(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $8=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=D2(()=>{if(Gx.has(e))return;$S(e,"down");const s=D2(()=>{$S(e,"up")}),r=()=>$S(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function N2(n){return kE(n)&&!iO()}function J8(n,t,e={}){const[i,s,r]=sO(n,e),o=c=>{const h=c.currentTarget;if(!N2(c))return;Gx.add(h);const p=t(h,c),m=(_,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Gx.has(h)&&Gx.delete(h),N2(_)&&typeof p=="function"&&p(_,{success:T})},v=_=>{m(_,h===window||h===document||e.useGlobalTarget||aO(h,_.target))},x=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(c=>{(e.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),HE(c)&&(c.addEventListener("focus",p=>$8(p,s)),!Q8(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),r}function jE(n){return yU(n)&&"ownerSVGElement"in n}const kx=new WeakMap;let bu;const rO=(n,t,e)=>(i,s)=>s&&s[0]?s[0][n+"Size"]:jE(i)&&"getBBox"in i?i.getBBox()[t]:i[e],tG=rO("inline","width","offsetWidth"),eG=rO("block","height","offsetHeight");function nG({target:n,borderBoxSize:t}){var e;(e=kx.get(n))==null||e.forEach(i=>{i(n,{get width(){return tG(n,t)},get height(){return eG(n,t)}})})}function iG(n){n.forEach(nG)}function sG(){typeof ResizeObserver>"u"||(bu=new ResizeObserver(iG))}function aG(n,t){bu||sG();const e=FE(n);return e.forEach(i=>{let s=kx.get(i);s||(s=new Set,kx.set(i,s)),s.add(t),bu==null||bu.observe(i)}),()=>{e.forEach(i=>{const s=kx.get(i);s==null||s.delete(t),s!=null&&s.size||bu==null||bu.unobserve(i)})}}const jx=new Set;let ep;function rG(){ep=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};jx.forEach(t=>t(n))},window.addEventListener("resize",ep)}function oG(n){return jx.add(n),ep||rG(),()=>{jx.delete(n),!jx.size&&typeof ep=="function"&&(window.removeEventListener("resize",ep),ep=void 0)}}function lG(n,t){return typeof n=="function"?oG(n):aG(n,t)}function oO(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return Hn.preUpdate(i,!0),()=>To(i)}function cG(n){return jE(n)&&n.tagName==="svg"}function uG(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],r=n[2+e],o=n[3+e],c=UE(s,r,o);return t?c(i):c}const Ks=n=>!!(n&&n.getVelocity),fG=[...JU,ki,Cu],hG=n=>fG.find($U(n)),l1=K.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function L2(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function dG(...n){return t=>{let e=!1;const i=n.map(s=>{const r=L2(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():L2(n[s],null)}}}}function pG(...n){return K.useCallback(dG(...n),n)}class mG extends K.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=HE(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gG({children:n,isPresent:t,anchorX:e,root:i}){const s=K.useId(),r=K.useRef(null),o=K.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=K.useContext(l1),h=pG(r,n==null?void 0:n.ref);return K.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:x,right:_}=o.current;if(t||!r.current||!p||!m)return;const T=e==="left"?`left: ${x}`:`right: ${_}`;r.current.dataset.motionPopId=s;const C=document.createElement("style");c&&(C.nonce=c);const E=i??document.head;return E.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{E.contains(C)&&E.removeChild(C)}},[t]),J.jsx(mG,{isPresent:t,childRef:r,sizeRef:o,children:K.cloneElement(n,{ref:h})})}const vG=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o,anchorX:c,root:h})=>{const p=Cp(yG),m=K.useId();let v=!0,x=K.useMemo(()=>(v=!1,{id:m,initial:t,isPresent:e,custom:s,onExitComplete:_=>{p.set(_,!0);for(const T of p.values())if(!T)return;i&&i()},register:_=>(p.set(_,!1),()=>p.delete(_))}),[e,p,i]);return r&&v&&(x={...x}),K.useMemo(()=>{p.forEach((_,T)=>p.set(T,!1))},[e]),K.useEffect(()=>{!e&&!p.size&&i&&i()},[e]),o==="popLayout"&&(n=J.jsx(gG,{isPresent:e,anchorX:c,root:h,children:n})),J.jsx(o1.Provider,{value:x,children:n})};function yG(){return new Map}function lO(n=!0){const t=K.useContext(o1);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=K.useId();K.useEffect(()=>{if(n)return s(r)},[n]);const o=K.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,o]:[!0]}const By=n=>n.key||"";function U2(n){const t=[];return K.Children.forEach(n,e=>{K.isValidElement(e)&&t.push(e)}),t}const xG=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:c="left",root:h})=>{const[p,m]=lO(o),v=K.useMemo(()=>U2(n),[n]),x=o&&!p?[]:v.map(By),_=K.useRef(!0),T=K.useRef(v),C=Cp(()=>new Map),[E,M]=K.useState(v),[R,D]=K.useState(v);r1(()=>{_.current=!1,T.current=v;for(let P=0;P<R.length;P++){const I=By(R[P]);x.includes(I)?C.delete(I):C.get(I)!==!0&&C.set(I,!1)}},[R,x.length,x.join("-")]);const L=[];if(v!==E){let P=[...v];for(let I=0;I<R.length;I++){const V=R[I],U=By(V);x.includes(U)||(P.splice(I,0,V),L.push(V))}return r==="wait"&&L.length&&(P=L),D(U2(P)),M(v),null}const{forceRender:B}=K.useContext(yE);return J.jsx(J.Fragment,{children:R.map(P=>{const I=By(P),V=o&&!p?!1:v===R||x.includes(I),U=()=>{if(C.has(I))C.set(I,!0);else return;let z=!0;C.forEach(X=>{X||(z=!1)}),z&&(B==null||B(),D(T.current),o&&(m==null||m()),i&&i())};return J.jsx(vG,{isPresent:V,initial:!_.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:h,onExitComplete:V?void 0:U,anchorX:c,children:P},I)})})},cO=K.createContext({strict:!1}),O2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yp={};for(const n in O2)yp[n]={isEnabled:t=>O2[n].some(e=>!!t[e])};function _G(n){for(const t in n)yp[t]={...yp[t],...n[t]}}const SG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function l_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||SG.has(n)}let uO=n=>!l_(n);function bG(n){typeof n=="function"&&(uO=t=>t.startsWith("on")?!l_(t):n(t))}try{bG(require("@emotion/is-prop-valid").default)}catch{}function MG(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(uO(s)||e===!0&&l_(s)||!t&&!l_(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const c1=K.createContext({});function u1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function l0(n){return typeof n=="string"||Array.isArray(n)}const XE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qE=["initial",...XE];function f1(n){return u1(n.animate)||qE.some(t=>l0(n[t]))}function fO(n){return!!(f1(n)||n.variants)}function TG(n,t){if(f1(n)){const{initial:e,animate:i}=n;return{initial:e===!1||l0(e)?e:void 0,animate:l0(i)?i:void 0}}return n.inherit!==!1?t:{}}function EG(n){const{initial:t,animate:e}=TG(n,K.useContext(c1));return K.useMemo(()=>({initial:t,animate:e}),[P2(t),P2(e)])}function P2(n){return Array.isArray(n)?n.join(" "):n}const c0={};function AG(n){for(const t in n)c0[t]=n[t],wE(t)&&(c0[t].isCSSVariable=!0)}function hO(n,{layout:t,layoutId:e}){return Np.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!c0[n]||n==="opacity")}const wG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CG=Dp.length;function RG(n,t,e){let i="",s=!0;for(let r=0;r<CG;r++){const o=Dp[r],c=n[o];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(o.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||e){const p=nO(c,IE[o]);if(!h){s=!1;const m=wG[o]||o;i+=`${m}(${p}) `}e&&(t[o]=p)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function WE(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,c=!1;for(const h in t){const p=t[h];if(Np.has(h)){o=!0;continue}else if(wE(h)){s[h]=p;continue}else{const m=nO(p,IE[h]);h.startsWith("origin")?(c=!0,r[h]=m):i[h]=m}}if(t.transform||(o||e?i.transform=RG(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${h} ${p} ${m}`}}const YE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dO(n,t,e){for(const i in t)!Ks(t[i])&&!hO(i,e)&&(n[i]=t[i])}function DG({transformTemplate:n},t){return K.useMemo(()=>{const e=YE();return WE(e,t,n),Object.assign({},e.vars,e.style)},[t])}function NG(n,t){const e=n.style||{},i={};return dO(i,e,n),Object.assign(i,DG(n,t)),i}function LG(n,t){const e={},i=NG(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const UG={offset:"stroke-dashoffset",array:"stroke-dasharray"},OG={offset:"strokeDashoffset",array:"strokeDasharray"};function PG(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?UG:OG;n[r.offset]=Fe.transform(-i);const o=Fe.transform(t),c=Fe.transform(e);n[r.array]=`${o} ${c}`}function pO(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:o=0,...c},h,p,m){if(WE(n,c,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),s!==void 0&&PG(v,s,r,o,!1)}const mO=()=>({...YE(),attrs:{}}),gO=n=>typeof n=="string"&&n.toLowerCase()==="svg";function zG(n,t,e,i){const s=K.useMemo(()=>{const r=mO();return pO(r,t,gO(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};dO(r,n.style,n),s.style={...r,...s.style}}return s}const BG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZE(n){return typeof n!="string"||n.includes("-")?!1:!!(BG.indexOf(n)>-1||/[A-Z]/u.test(n))}function VG(n,t,e,{latestValues:i},s,r=!1){const c=(ZE(n)?zG:LG)(t,i,s,n),h=MG(t,typeof n=="string",r),p=n!==K.Fragment?{...h,...c,ref:e}:{},{children:m}=t,v=K.useMemo(()=>Ks(m)?m.get():m,[m]);return K.createElement(n,{...p,children:v})}function z2(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function KE(n,t,e,i){if(typeof t=="function"){const[s,r]=z2(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=z2(i);t=t(e!==void 0?e:n.custom,s,r)}return t}function Xx(n){return Ks(n)?n.get():n}function IG({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:FG(e,i,s,n),renderState:t()}}function FG(n,t,e,i){const s={},r=i(n,{});for(const x in r)s[x]=Xx(r[x]);let{initial:o,animate:c}=n;const h=f1(n),p=fO(n);t&&p&&!h&&n.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const v=m?c:o;if(v&&typeof v!="boolean"&&!u1(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const T=KE(n,x[_]);if(T){const{transitionEnd:C,transition:E,...M}=T;for(const R in M){let D=M[R];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(s[R]=D)}for(const R in C)s[R]=C[R]}}}return s}const vO=n=>(t,e)=>{const i=K.useContext(c1),s=K.useContext(o1),r=()=>IG(n,t,i,s);return e?r():Cp(r)};function QE(n,t,e){var r;const{style:i}=n,s={};for(const o in i)(Ks(i[o])||t.style&&Ks(t.style[o])||hO(o,n)||((r=e==null?void 0:e.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const HG=vO({scrapeMotionValuesFromProps:QE,createRenderState:YE});function yO(n,t,e){const i=QE(n,t,e);for(const s in n)if(Ks(n[s])||Ks(t[s])){const r=Dp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const GG=vO({scrapeMotionValuesFromProps:yO,createRenderState:mO}),kG=Symbol.for("motionComponentSymbol");function np(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function jG(n,t,e){return K.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):np(e)&&(e.current=i))},[t])}const $E=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XG="framerAppearId",xO="data-"+$E(XG),_O=K.createContext({});function qG(n,t,e,i,s){var C,E;const{visualElement:r}=K.useContext(c1),o=K.useContext(cO),c=K.useContext(o1),h=K.useContext(l1).reducedMotion,p=K.useRef(null);i=i||o.renderer,!p.current&&i&&(p.current=i(n,{visualState:t,parent:r,props:e,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=K.useContext(_O);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&WG(p.current,e,s,v);const x=K.useRef(!1);K.useInsertionEffect(()=>{m&&x.current&&m.update(e,c)});const _=e[xO],T=K.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,_)));return r1(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),K.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),T.current=!1),m.enteringChildren=void 0)}),m}function WG(n,t,e,i){const{layoutId:s,layout:r,drag:o,dragConstraints:c,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:SO(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||c&&np(c),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:p})}function SO(n){if(n)return n.options.allowProjection!==!1?n.projection:SO(n.parent)}function JS(n,{forwardMotionProps:t=!1}={},e,i){e&&_G(e);const s=ZE(n)?GG:HG;function r(c,h){let p;const m={...K.useContext(l1),...c,layoutId:YG(c)},{isStatic:v}=m,x=EG(c),_=s(c,v);if(!v&&xE){ZG();const T=KG(m);p=T.MeasureLayout,x.visualElement=qG(n,_,m,i,T.ProjectionNode)}return J.jsxs(c1.Provider,{value:x,children:[p&&x.visualElement?J.jsx(p,{visualElement:x.visualElement,...m}):null,VG(n,c,jG(_,x.visualElement,h),_,v,t)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=K.forwardRef(r);return o[kG]=n,o}function YG({layoutId:n}){const t=K.useContext(yE).id;return t&&n!==void 0?t+"-"+n:n}function ZG(n,t){K.useContext(cO).strict}function KG(n){const{drag:t,layout:e}=yp;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function QG(n,t){if(typeof Proxy>"u")return JS;const e=new Map,i=(r,o)=>JS(r,o,n,t),s=(r,o)=>i(r,o);return new Proxy(s,{get:(r,o)=>o==="create"?i:(e.has(o)||e.set(o,JS(o,void 0,n,t)),e.get(o))})}function bO({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function $G({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function JG(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function tb(n){return n===void 0||n===1}function KM({scale:n,scaleX:t,scaleY:e}){return!tb(n)||!tb(t)||!tb(e)}function Wf(n){return KM(n)||MO(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function MO(n){return B2(n.x)||B2(n.y)}function B2(n){return n&&n!=="0%"}function c_(n,t,e){const i=n-e,s=t*i;return e+s}function V2(n,t,e,i,s){return s!==void 0&&(n=c_(n,s,i)),c_(n,e,i)+t}function QM(n,t=0,e=1,i,s){n.min=V2(n.min,t,e,i,s),n.max=V2(n.max,t,e,i,s)}function TO(n,{x:t,y:e}){QM(n.x,t.translate,t.scale,t.originPoint),QM(n.y,e.translate,e.scale,e.originPoint)}const I2=.999999999999,F2=1.0000000000001;function tk(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,o;for(let c=0;c<s;c++){r=e[c],o=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&sp(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,TO(n,o)),i&&Wf(r.latestValues)&&sp(n,r.latestValues))}t.x<F2&&t.x>I2&&(t.x=1),t.y<F2&&t.y>I2&&(t.y=1)}function ip(n,t){n.min=n.min+t,n.max=n.max+t}function H2(n,t,e,i,s=.5){const r=vi(n.min,n.max,s);QM(n,t,e,r,i)}function sp(n,t){H2(n.x,t.x,t.scaleX,t.scale,t.originX),H2(n.y,t.y,t.scaleY,t.scale,t.originY)}function EO(n,t){return bO(JG(n.getBoundingClientRect(),t))}function ek(n,t,e){const i=EO(n,e),{scroll:s}=t;return s&&(ip(i.x,s.offset.x),ip(i.y,s.offset.y)),i}const G2=()=>({translate:0,scale:1,origin:0,originPoint:0}),ap=()=>({x:G2(),y:G2()}),k2=()=>({min:0,max:0}),Bi=()=>({x:k2(),y:k2()}),$M={current:null},AO={current:!1};function nk(){if(AO.current=!0,!!xE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>$M.current=n.matches;n.addEventListener("change",t),t()}else $M.current=!1}const ik=new WeakMap;function sk(n,t,e){for(const i in t){const s=t[i],r=e[i];if(Ks(s))n.addValue(i,s);else if(Ks(r))n.addValue(i,So(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,So(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const j2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ak{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ia.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Hn.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=f1(e),this.isVariantNode=fO(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in v){const _=v[x];h[x]!==void 0&&Ks(_)&&_.set(h[x])}}mount(t){var e;this.current=t,ik.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),AO.current||nk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$M.current,(e=this.parent)==null||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Np.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Hn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yp){const e=yp[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<j2.length;i++){const s=j2[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=sk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=So(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(vU(i)||xU(i))?i=parseFloat(i):!hG(i)&&Cu.test(e)&&(i=eO(t,e)),this.setBaseTarget(t,Ks(i)?i.get():i)),Ks(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var r;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=KE(this.props,e,(r=this.presenceContext)==null?void 0:r.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ks(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ME),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){GE.render(this.render)}}class wO extends ak{constructor(){super(...arguments),this.KeyframeResolver=X8}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ks(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function CO(n,{style:t,vars:e},i,s){const r=n.style;let o;for(o in t)r[o]=t[o];s==null||s.applyProjectionStyles(r,i);for(o in e)r.setProperty(o,e[o])}function rk(n){return window.getComputedStyle(n)}class ok extends wO{constructor(){super(...arguments),this.type="html",this.renderInstance=CO}readValueFromInstance(t,e){var i;if(Np.has(e))return(i=this.projection)!=null&&i.isProjecting?kM(e):f8(t,e);{const s=rk(t),r=(wE(e)?s.getPropertyValue(e):s[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return EO(t,e)}build(t,e,i){WE(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return QE(t,e,i)}}const RO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lk(n,t,e,i){CO(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(RO.has(s)?s:$E(s),t.attrs[s])}class ck extends wO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bi}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Np.has(e)){const i=tO(e);return i&&i.default||0}return e=RO.has(e)?e:$E(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return yO(t,e,i)}build(t,e,i){pO(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){lk(t,e,i,s)}mount(t){this.isSVGTag=gO(t.tagName),super.mount(t)}}const uk=(n,t)=>ZE(n)?new ck(t):new ok(t,{allowProjection:n!==K.Fragment});function hp(n,t,e){const i=n.getProps();return KE(i,t,e!==void 0?e:i.custom,n)}const JM=n=>Array.isArray(n);function fk(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,So(e))}function hk(n){return JM(n)?n[n.length-1]||0:n}function dk(n,t){const e=hp(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const o in r){const c=hk(r[o]);fk(n,o,c)}}function pk(n){return!!(Ks(n)&&n.add)}function tT(n,t){const e=n.getValue("willChange");if(pk(e))return e.add(t);if(!e&&vc.WillChange){const i=new vc.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function DO(n){return n.props[xO]}const mk=n=>n!==null;function gk(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(mk),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[r]}const vk={type:"spring",stiffness:500,damping:25,restSpeed:10},yk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xk={type:"keyframes",duration:.8},_k={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sk=(n,{keyframes:t})=>t.length>2?xk:Np.has(n)?n.startsWith("scale")?yk(t[1]):vk:_k;function bk({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const JE=(n,t,e,i={},s,r)=>o=>{const c=VE(i,n)||{},h=c.delay||i.delay||0;let{elapsed:p=0}=i;p=p-gl(h);const m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-p,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:r?void 0:s};bk(c)||Object.assign(m,Sk(n,m)),m.duration&&(m.duration=gl(m.duration)),m.repeatDelay&&(m.repeatDelay=gl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(YM(m),m.delay===0&&(v=!0)),(vc.instantAnimations||vc.skipAnimations)&&(v=!0,YM(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!r&&t.get()!==void 0){const x=gk(m.keyframes,c);if(x!==void 0){Hn.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new zE(m):new U8(m)};function Mk({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function NO(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:o,...c}=t;i&&(r=i);const h=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const m in c){const v=n.getValue(m,n.latestValues[m]??null),x=c[m];if(x===void 0||p&&Mk(p,m))continue;const _={delay:e,...VE(r||{},m)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=DO(n);if(M){const R=window.MotionHandoffAnimation(M,m,Hn);R!==null&&(_.startTime=R,C=!0)}}tT(n,m),v.start(JE(m,v,x,n.shouldReduceMotion&&QU.has(m)?{type:!1}:_,n,C));const E=v.animation;E&&h.push(E)}return o&&Promise.all(h).then(()=>{Hn.update(()=>{o&&dk(n,o)})}),h}function LO(n,t,e,i=0,s=1){const r=Array.from(n).sort((p,m)=>p.sortNodePosition(m)).indexOf(t),o=n.size,c=(o-1)*i;return typeof e=="function"?e(r,o):s===1?r*i:c-r*i}function eT(n,t,e={}){var h;const i=hp(n,t,e.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const r=i?()=>Promise.all(NO(n,i,e)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=s;return Tk(n,t,p,m,v,x,e)}:()=>Promise.resolve(),{when:c}=s;if(c){const[p,m]=c==="beforeChildren"?[r,o]:[o,r];return p().then(()=>m())}else return Promise.all([r(),o(e.delay)])}function Tk(n,t,e=0,i=0,s=0,r=1,o){const c=[];for(const h of n.variantChildren)h.notify("AnimationStart",t),c.push(eT(h,t,{...o,delay:e+(typeof i=="function"?0:i)+LO(n.variantChildren,h,i,s,r)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(c)}function Ek(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>eT(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=eT(n,t,e);else{const s=typeof t=="function"?hp(n,t,e.custom):t;i=Promise.all(NO(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function UO(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const Ak=qE.length;function OO(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?OO(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Ak;e++){const i=qE[e],s=n.props[i];(l0(s)||s===!1)&&(t[i]=s)}return t}const wk=[...XE].reverse(),Ck=XE.length;function Rk(n){return t=>Promise.all(t.map(({animation:e,options:i})=>Ek(n,e,i)))}function Dk(n){let t=Rk(n),e=X2(),i=!0;const s=h=>(p,m)=>{var x;const v=hp(n,m,h==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:_,transitionEnd:T,...C}=v;p={...p,...C,...T}}return p};function r(h){t=h(n)}function o(h){const{props:p}=n,m=OO(n.parent)||{},v=[],x=new Set;let _={},T=1/0;for(let E=0;E<Ck;E++){const M=wk[E],R=e[M],D=p[M]!==void 0?p[M]:m[M],L=l0(D),B=M===h?R.isActive:null;B===!1&&(T=E);let P=D===m[M]&&D!==p[M]&&L;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),R.protectedKeys={..._},!R.isActive&&B===null||!D&&!R.prevProp||u1(D)||typeof D=="boolean")continue;const I=Nk(R.prevProp,D);let V=I||M===h&&R.isActive&&!P&&L||E>T&&L,U=!1;const z=Array.isArray(D)?D:[D];let X=z.reduce(s(M),{});B===!1&&(X={});const{prevResolvedValues:dt={}}=R,st={...dt,...X},at=et=>{V=!0,x.has(et)&&(U=!0,x.delete(et)),R.needsAnimating[et]=!0;const Q=n.getValue(et);Q&&(Q.liveStyle=!1)};for(const et in st){const Q=X[et],vt=dt[et];if(_.hasOwnProperty(et))continue;let G=!1;JM(Q)&&JM(vt)?G=!UO(Q,vt):G=Q!==vt,G?Q!=null?at(et):x.add(et):Q!==void 0&&x.has(et)?at(et):R.protectedKeys[et]=!0}R.prevProp=D,R.prevResolvedValues=X,R.isActive&&(_={..._,...X}),i&&n.blockInitialAnimation&&(V=!1);const mt=P&&I;V&&(!mt||U)&&v.push(...z.map(et=>{const Q={type:M};if(typeof et=="string"&&i&&!mt&&n.manuallyAnimateOnMount&&n.parent){const{parent:vt}=n,G=hp(vt,et);if(vt.enteringChildren&&G){const{delayChildren:nt}=G.transition||{};Q.delay=LO(vt.enteringChildren,n,nt)}}return{animation:et,options:Q}}))}if(x.size){const E={};if(typeof p.initial!="boolean"){const M=hp(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(E.transition=M.transition)}x.forEach(M=>{const R=n.getBaseTarget(M),D=n.getValue(M);D&&(D.liveStyle=!0),E[M]=R??null}),v.push({animation:E})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(v):Promise.resolve()}function c(h,p){var v;if(e[h].isActive===p)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(h,p)}),e[h].isActive=p;const m=o(h);for(const x in e)e[x].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:r,getState:()=>e,reset:()=>{e=X2(),i=!0}}}function Nk(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!UO(t,n):!1}function Rf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X2(){return{animate:Rf(!0),whileInView:Rf(),whileHover:Rf(),whileTap:Rf(),whileDrag:Rf(),whileFocus:Rf(),exit:Rf()}}class Uu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Lk extends Uu{constructor(t){super(t),t.animationState||(t.animationState=Dk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();u1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Uk=0;class Ok extends Uu{constructor(){super(...arguments),this.id=Uk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Pk={animation:{Feature:Lk},exit:{Feature:Ok}};function u0(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function H0(n){return{point:{x:n.pageX,y:n.pageY}}}const zk=n=>t=>kE(t)&&n(t,H0(t));function Bg(n,t,e,i){return u0(n,t,zk(e),i)}const PO=1e-4,Bk=1-PO,Vk=1+PO,zO=.01,Ik=0-zO,Fk=0+zO;function va(n){return n.max-n.min}function Hk(n,t,e){return Math.abs(n-t)<=e}function q2(n,t,e,i=.5){n.origin=i,n.originPoint=vi(t.min,t.max,n.origin),n.scale=va(e)/va(t),n.translate=vi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=Bk&&n.scale<=Vk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Ik&&n.translate<=Fk||isNaN(n.translate))&&(n.translate=0)}function Vg(n,t,e,i){q2(n.x,t.x,e.x,i?i.originX:void 0),q2(n.y,t.y,e.y,i?i.originY:void 0)}function W2(n,t,e){n.min=e.min+t.min,n.max=n.min+va(t)}function Gk(n,t,e){W2(n.x,t.x,e.x),W2(n.y,t.y,e.y)}function Y2(n,t,e){n.min=t.min-e.min,n.max=n.min+va(t)}function Ig(n,t,e){Y2(n.x,t.x,e.x),Y2(n.y,t.y,e.y)}function Rr(n){return[n("x"),n("y")]}const BO=({current:n})=>n?n.ownerDocument.defaultView:null,Z2=(n,t)=>Math.abs(n-t);function kk(n,t){const e=Z2(n.x,t.x),i=Z2(n.y,t.y);return Math.sqrt(e**2+i**2)}class VO{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=nb(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=kk(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!T)return;const{point:C}=x,{timestamp:E}=xs;this.history.push({...C,timestamp:E});const{onStart:M,onMove:R}=this.handlers;_||(M&&M(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=eb(_,this.transformPagePoint),Hn.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=nb(x.type==="pointercancel"?this.lastMoveEventInfo:eb(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,M),C&&C(x,M)},!kE(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=s||window;const c=H0(t),h=eb(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=xs;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=e;v&&v(t,nb(h,this.history)),this.removeListeners=V0(Bg(this.contextWindow,"pointermove",this.handlePointerMove),Bg(this.contextWindow,"pointerup",this.handlePointerUp),Bg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function eb(n,t){return t?{point:t(n.point)}:n}function K2(n,t){return{x:n.x-t.x,y:n.y-t.y}}function nb({point:n},t){return{point:n,delta:K2(n,IO(t)),offset:K2(n,jk(t)),velocity:Xk(t,.1)}}function jk(n){return n[0]}function IO(n){return n[n.length-1]}function Xk(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=IO(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>gl(t)));)e--;if(!i)return{x:0,y:0};const r=Dr(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qk(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?vi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?vi(e,n,i.max):Math.min(n,e)),n}function Q2(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function Wk(n,{top:t,left:e,bottom:i,right:s}){return{x:Q2(n.x,e,s),y:Q2(n.y,t,i)}}function $2(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function Yk(n,t){return{x:$2(n.x,t.x),y:$2(n.y,t.y)}}function Zk(n,t){let e=.5;const i=va(n),s=va(t);return s>i?e=vp(t.min,t.max-i,n.min):i>s&&(e=vp(n.min,n.max-s,t.min)),bl(0,1,e)}function Kk(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const nT=.35;function Qk(n=nT){return n===!1?n=0:n===!0&&(n=nT),{x:J2(n,"left","right"),y:J2(n,"top","bottom")}}function J2(n,t,e){return{min:tR(n,t),max:tR(n,e)}}function tR(n,t){return typeof n=="number"?n:n[t]||0}const $k=new WeakMap;class Jk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(H0(v).point)},o=(v,x)=>{const{drag:_,dragPropagation:T,onDragStart:C}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Y8(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(M=>{let R=this.getAxisMotionValue(M).get()||0;if(vl.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const L=D.layout.layoutBox[M];L&&(R=va(L)*(parseFloat(R)/100))}}this.originPoint[M]=R}),C&&Hn.postRender(()=>C(v,x)),tT(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:C,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=x;if(T&&this.currentDirection===null){this.currentDirection=t7(M),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),E&&E(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Rr(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new VO(t,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:BO(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Hn.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Vy(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=qk(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&np(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Wk(i.layoutBox,t):this.constraints=!1,this.elastic=Qk(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kk(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!np(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=ek(i,s.root,this.visualElement.getTransformPagePoint());let o=Yk(s.layout.layoutBox,r);if(e){const c=e($G(o));this.hasMutatedConstraints=!!c,c&&(o=bO(c))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Rr(m=>{if(!Vy(m,e,this.currentDirection))return;let v=h&&h[m]||{};o&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,T={type:"inertia",velocity:i?t[m]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return tT(this.visualElement,t),i.start(JE(t,i,0,e,this.visualElement,!1))}stopAnimation(){Rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rr(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Rr(e=>{const{drag:i}=this.getProps();if(!Vy(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[e];r.set(t[e]-vi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!np(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const h=c.get();s[o]=Zk({min:h,max:h},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rr(o=>{if(!Vy(o,t,null))return;const c=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];c.set(vi(h,p,s[o]))})}addListeners(){if(!this.visualElement.current)return;$k.set(this.visualElement,this);const t=this.visualElement.current,e=Bg(t,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();np(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Hn.read(i);const o=u0(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Rr(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=nT,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:c}}}function Vy(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function t7(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class e7 extends Uu{constructor(t){super(t),this.removeGroupControls=Ha,this.removeListeners=Ha,this.controls=new Jk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ha}unmount(){this.removeGroupControls(),this.removeListeners()}}const eR=n=>(t,e)=>{n&&Hn.postRender(()=>n(t,e))};class n7 extends Uu{constructor(){super(...arguments),this.removePointerDownListener=Ha}onPointerDown(t){this.session=new VO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:eR(t),onStart:eR(e),onMove:i,onEnd:(r,o)=>{delete this.session,s&&Hn.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Bg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nR(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ng={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Fe.test(n))n=parseFloat(n);else return n;const e=nR(n,t.target.x),i=nR(n,t.target.y);return`${e}% ${i}%`}},i7={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Cu.parse(n);if(s.length>5)return i;const r=Cu.createTransformer(n),o=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;s[0+o]/=c,s[1+o]/=h;const p=vi(c,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=p),typeof s[3+o]=="number"&&(s[3+o]/=p),r(s)}};let ib=!1;class s7 extends K.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;AG(a7),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),ib&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),qx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,{projection:o}=i;return o&&(o.isPresent=r,ib=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Hn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),GE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;ib=!0,s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FO(n){const[t,e]=lO(),i=K.useContext(yE);return J.jsx(s7,{...n,layoutGroup:i,switchLayoutGroup:K.useContext(_O),isPresent:t,safeToRemove:e})}const a7={borderRadius:{...ng,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ng,borderTopRightRadius:ng,borderBottomLeftRadius:ng,borderBottomRightRadius:ng,boxShadow:i7};function r7(n,t,e){const i=Ks(n)?n:So(n);return i.start(JE("",i,t,e)),i.animation}const o7=(n,t)=>n.depth-t.depth;class l7{constructor(){this.children=[],this.isDirty=!1}add(t){_E(this.children,t),this.isDirty=!0}remove(t){SE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o7),this.isDirty=!1,this.children.forEach(t)}}function c7(n,t){const e=Ia.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(To(i),n(r-t))};return Hn.setup(i,!0),()=>To(i)}const HO=["TopLeft","TopRight","BottomLeft","BottomRight"],u7=HO.length,iR=n=>typeof n=="string"?parseFloat(n):n,sR=n=>typeof n=="number"||Fe.test(n);function f7(n,t,e,i,s,r){s?(n.opacity=vi(0,e.opacity??1,h7(i)),n.opacityExit=vi(t.opacity??1,0,d7(i))):r&&(n.opacity=vi(t.opacity??1,e.opacity??1,i));for(let o=0;o<u7;o++){const c=`border${HO[o]}Radius`;let h=aR(t,c),p=aR(e,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||sR(h)===sR(p)?(n[c]=Math.max(vi(iR(h),iR(p),i),0),(vl.test(p)||vl.test(h))&&(n[c]+="%")):n[c]=p}(t.rotate||e.rotate)&&(n.rotate=vi(t.rotate||0,e.rotate||0,i))}function aR(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const h7=GO(0,.5,AU),d7=GO(.5,.95,Ha);function GO(n,t,e){return i=>i<n?0:i>t?1:e(vp(n,t,i))}function rR(n,t){n.min=t.min,n.max=t.max}function Er(n,t){rR(n.x,t.x),rR(n.y,t.y)}function oR(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function lR(n,t,e,i,s){return n-=t,n=c_(n,1/e,i),s!==void 0&&(n=c_(n,1/s,i)),n}function p7(n,t=0,e=1,i=.5,s,r=n,o=n){if(vl.test(t)&&(t=parseFloat(t),t=vi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=vi(r.min,r.max,i);n===r&&(c-=t),n.min=lR(n.min,t,e,c,s),n.max=lR(n.max,t,e,c,s)}function cR(n,t,[e,i,s],r,o){p7(n,t[e],t[i],t[s],t.scale,r,o)}const m7=["x","scaleX","originX"],g7=["y","scaleY","originY"];function uR(n,t,e,i){cR(n.x,t,m7,e?e.x:void 0,i?i.x:void 0),cR(n.y,t,g7,e?e.y:void 0,i?i.y:void 0)}function fR(n){return n.translate===0&&n.scale===1}function kO(n){return fR(n.x)&&fR(n.y)}function hR(n,t){return n.min===t.min&&n.max===t.max}function v7(n,t){return hR(n.x,t.x)&&hR(n.y,t.y)}function dR(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function jO(n,t){return dR(n.x,t.x)&&dR(n.y,t.y)}function pR(n){return va(n.x)/va(n.y)}function mR(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class y7{constructor(){this.members=[]}add(t){_E(this.members,t),t.scheduleRender()}remove(t){if(SE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x7(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:_,skewY:T}=e;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=n.x.scale*t.x,h=n.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const sb=["","X","Y","Z"],_7=1e3;let S7=0;function ab(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function XO(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=DO(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Hn,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&XO(i)}function qO({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},c=t==null?void 0:t()){this.id=S7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T7),this.nodes.forEach(C7),this.nodes.forEach(R7),this.nodes.forEach(E7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new l7)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ME),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const h=this.eventHandlers.get(o);h&&h.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=jE(o)&&!cG(o),this.instance=o;const{layoutId:c,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),n){let m,v=0;const x=()=>this.root.updateBlockedByResize=!1;Hn.read(()=>{v=window.innerWidth}),n(o,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=c7(x,250),qx.hasAnimatedSinceResize&&(qx.hasAnimatedSinceResize=!1,this.nodes.forEach(yR)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||O7,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=p.getProps(),M=!this.targetLayout||!jO(this.targetLayout,_),R=!v&&x;if(this.options.layoutRoot||this.resumeFrom||R||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...VE(T,"layout"),onPlay:C,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else v||yR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w7),this.nodes.forEach(b7),this.nodes.forEach(M7)):this.nodes.forEach(vR),this.clearAllSnapshots();const c=Ia.now();xs.delta=bl(0,1e3/60,c-xs.timestamp),xs.timestamp=c,xs.isProcessing=!0,YS.update.process(xs),YS.preRender.process(xs),YS.render.process(xs),xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A7),this.sharedNodes.forEach(N7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!va(this.snapshot.measuredBox.x)&&!va(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!kO(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&this.instance&&(c||Wf(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return o&&(h=this.removeTransform(h)),P7(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:o}=this.options;if(!o)return Bi();const c=o.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(z7))){const{scroll:m}=this.root;m&&(ip(c.x,m.offset.x),ip(c.y,m.offset.y))}return c}removeElementScroll(o){var h;const c=Bi();if(Er(c,o),(h=this.scroll)!=null&&h.wasRoot)return c;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&Er(c,o),ip(c.x,v.offset.x),ip(c.y,v.offset.y))}return c}applyTransform(o,c=!1){const h=Bi();Er(h,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&sp(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Wf(m.latestValues)&&sp(h,m.latestValues)}return Wf(this.latestValues)&&sp(h,this.latestValues),h}removeTransform(o){const c=Bi();Er(c,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Wf(p.latestValues))continue;KM(p.latestValues)&&p.updateSnapshot();const m=Bi(),v=p.measurePageBox();Er(m,v),uR(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Wf(this.latestValues)&&uR(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=xs.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bi(),this.relativeTargetOrigin=Bi(),Ig(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bi(),this.targetWithTransforms=Bi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),TO(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bi(),this.relativeTargetOrigin=Bi(),Ig(this.relativeTargetOrigin,this.target,_.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||KM(this.parent.latestValues)||MO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xs.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Er(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;tk(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Bi());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oR(this.prevProjectionDelta.x,this.projectionDelta.x),oR(this.prevProjectionDelta.y,this.projectionDelta.y)),Vg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!mR(this.projectionDelta.x,this.prevProjectionDelta.x)||!mR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ap(),this.projectionDelta=ap(),this.projectionDeltaWithTransform=ap()}setAnimationOrigin(o,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Bi(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,C=_!==T,E=this.getStack(),M=!E||E.members.length<=1,R=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(U7));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const B=L/1e3;xR(v.x,o.x,B),xR(v.y,o.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ig(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L7(this.relativeTarget,this.relativeTargetOrigin,x,B),D&&v7(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Bi()),Er(D,this.relativeTarget)),C&&(this.animationValues=m,f7(m,p,this.latestValues,B,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,h,p;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hn.update(()=>{qx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=So(0)),this.currentAnimation=r7(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=o;if(!(!c||!h||!p)){if(this!==o&&this.layout&&p&&WO(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Bi();const v=va(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+v;const x=va(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+x}Er(c,h),sp(c,m),Vg(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new y7),this.sharedNodes.get(o).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&ab("z",o,p,this.animationValues);for(let m=0;m<sb.length;m++)ab(`rotate${sb[m]}`,o,p,this.animationValues),ab(`skew${sb[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Xx(c==null?void 0:c.pointerEvents)||"",o.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Xx(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Wf(this.latestValues)&&(o.transform=h?h({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=x7(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),o.transform=v;const{x,y:_}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,p.animationValues?o.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in c0){if(m[T]===void 0)continue;const{correct:C,applyTo:E,isCSSVariable:M}=c0[T],R=v==="none"?m[T]:C(m[T],p);if(E){const D=E.length;for(let L=0;L<D;L++)o[E[L]]=R}else M?this.options.visualElement.renderState.vars[T]=R:o[T]=R}this.options.layoutId&&(o.pointerEvents=p===this?Xx(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(gR),this.root.sharedNodes.clear()}}}function b7(n){n.updateLayout()}function M7(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=t.source!==n.layout.source;r==="size"?Rr(v=>{const x=o?t.measuredBox[v]:t.layoutBox[v],_=va(x);x.min=i[v].min,x.max=x.min+_}):WO(r,t.layoutBox,i)&&Rr(v=>{const x=o?t.measuredBox[v]:t.layoutBox[v],_=va(i[v]);x.max=x.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const c=ap();Vg(c,i,t.layoutBox);const h=ap();o?Vg(h,n.applyTransform(s,!0),t.measuredBox):Vg(h,i,t.layoutBox);const p=!kO(c);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const T=Bi();Ig(T,t.layoutBox,x.layoutBox);const C=Bi();Ig(C,i,_.layoutBox),jO(T,C)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function T7(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function E7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function A7(n){n.clearSnapshot()}function gR(n){n.clearMeasurements()}function vR(n){n.isLayoutDirty=!1}function w7(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function yR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function C7(n){n.resolveTargetDelta()}function R7(n){n.calcProjection()}function D7(n){n.resetSkewAndRotation()}function N7(n){n.removeLeadSnapshot()}function xR(n,t,e){n.translate=vi(t.translate,0,e),n.scale=vi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function _R(n,t,e,i){n.min=vi(t.min,e.min,i),n.max=vi(t.max,e.max,i)}function L7(n,t,e,i){_R(n.x,t.x,e.x,i),_R(n.y,t.y,e.y,i)}function U7(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const O7={duration:.45,ease:[.4,0,.1,1]},SR=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bR=SR("applewebkit/")&&!SR("chrome/")?Math.round:Ha;function MR(n){n.min=bR(n.min),n.max=bR(n.max)}function P7(n){MR(n.x),MR(n.y)}function WO(n,t,e){return n==="position"||n==="preserve-aspect"&&!Hk(pR(t),pR(e),.2)}function z7(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const B7=qO({attachResizeListener:(n,t)=>u0(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rb={current:void 0},YO=qO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rb.current){const n=new B7({});n.mount(window),n.setOptions({layoutScroll:!0}),rb.current=n}return rb.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),V7={pan:{Feature:n7},drag:{Feature:e7,ProjectionNode:YO,MeasureLayout:FO}};function TR(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&Hn.postRender(()=>r(t,H0(t)))}class I7 extends Uu{mount(){const{current:t}=this.node;t&&(this.unmount=Z8(t,(e,i)=>(TR(this.node,i,"Start"),s=>TR(this.node,s,"End"))))}unmount(){}}class F7 extends Uu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=V0(u0(this.node.current,"focus",()=>this.onFocus()),u0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ER(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&Hn.postRender(()=>r(t,H0(t)))}class H7 extends Uu{mount(){const{current:t}=this.node;t&&(this.unmount=J8(t,(e,i)=>(ER(this.node,i,"Start"),(s,{success:r})=>ER(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iT=new WeakMap,ob=new WeakMap,G7=n=>{const t=iT.get(n.target);t&&t(n)},k7=n=>{n.forEach(G7)};function j7({root:n,...t}){const e=n||document;ob.has(e)||ob.set(e,{});const i=ob.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(k7,{root:n,...t})),i[s]}function X7(n,t,e){const i=j7(t);return iT.set(n,e),i.observe(n),()=>{iT.delete(n),i.unobserve(n)}}const q7={some:0,all:1};class W7 extends Uu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:q7[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(h)};return X7(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Y7(t,e))&&this.startObserver()}unmount(){}}function Y7({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Z7={inView:{Feature:W7},tap:{Feature:H7},focus:{Feature:F7},hover:{Feature:I7}},K7={layout:{ProjectionNode:YO,MeasureLayout:FO}},Q7={...Pk,...Z7,...V7,...K7},ch=QG(Q7,uk),$7=50,AR=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),J7=()=>({time:0,x:AR(),y:AR()}),t9={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function wR(n,t,e,i){const s=e[t],{length:r,position:o}=t9[t],c=s.current,h=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=vp(0,s.scrollLength,s.current);const p=i-h;s.velocity=p>$7?0:TE(s.current-c,p)}function e9(n,t,e){wR(n,"x",t,e),wR(n,"y",t,e),t.time=e}function n9(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(HE(i))e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();e.x+=s.left-r.left,e.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();e.x+=s,e.y+=r;let o=null,c=i.parentNode;for(;!o;)c.tagName==="svg"&&(o=c),c=i.parentNode;i=o}else break;return e}const sT={start:0,center:.5,end:1};function CR(n,t,e=0){let i=0;if(n in sT&&(n=sT[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const i9=[0,0];function s9(n,t,e,i){let s=Array.isArray(n)?n:i9,r=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,sT[n]?n:"0"]),r=CR(s[0],e,i),o=CR(s[1],t),r-o}const a9={All:[[0,0],[1,1]]},r9={x:0,y:0};function o9(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function l9(n,t,e){const{offset:i=a9.All}=e,{target:s=n,axis:r="y"}=e,o=r==="y"?"height":"width",c=s!==n?n9(s,n):r9,h=s===n?{width:n.scrollWidth,height:n.scrollHeight}:o9(s),p={width:n.clientWidth,height:n.clientHeight};t[r].offset.length=0;let m=!t[r].interpolate;const v=i.length;for(let x=0;x<v;x++){const _=s9(i[x],p[o],h[o],c[r]);!m&&_!==t[r].interpolatorOffsets[x]&&(m=!0),t[r].offset[x]=_}m&&(t[r].interpolate=UE(t[r].offset,HU(i),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=bl(0,1,t[r].interpolate(t[r].current))}function c9(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function u9(n,t,e,i={}){return{measure:s=>{c9(n,i.target,e),e9(n,e,s),(i.offset||i.target)&&l9(n,e,i)},notify:()=>t(e)}}const ig=new WeakMap,RR=new WeakMap,lb=new WeakMap,DR=n=>n===document.scrollingElement?window:n;function ZO(n,{container:t=document.scrollingElement,...e}={}){if(!t)return Ha;let i=lb.get(t);i||(i=new Set,lb.set(t,i));const s=J7(),r=u9(t,n,s,e);if(i.add(r),!ig.has(t)){const c=()=>{for(const v of i)v.measure(xs.timestamp);Hn.preUpdate(h)},h=()=>{for(const v of i)v.notify()},p=()=>Hn.read(c);ig.set(t,p);const m=DR(t);window.addEventListener("resize",p,{passive:!0}),t!==document.documentElement&&RR.set(t,lG(t,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const o=ig.get(t);return Hn.read(o,!1,!0),()=>{var p;To(o);const c=lb.get(t);if(!c||(c.delete(r),c.size))return;const h=ig.get(t);ig.delete(t),h&&(DR(t).removeEventListener("scroll",h),(p=RR.get(t))==null||p(),window.removeEventListener("resize",h))}}const NR=new Map;function f9(n){const t={value:0},e=ZO(i=>{t.value=i[n.axis].progress*100},n);return{currentTime:t,cancel:e}}function KO({source:n,container:t,...e}){const{axis:i}=e;n&&(t=n);const s=NR.get(t)??new Map;NR.set(t,s);const r=e.target??"self",o=s.get(r)??{},c=i+(e.offset??[]).join(",");return o[c]||(o[c]=!e.target&&XU()?new ScrollTimeline({source:t,axis:i}):f9({container:t,...e})),o[c]}function h9(n,t){const e=KO(t);return n.attachTimeline({timeline:t.target?void 0:e,observe:i=>(i.pause(),oO(s=>{i.time=i.iterationDuration*s},e))})}function d9(n){return n.length===2}function p9(n,t){return d9(n)?ZO(e=>{n(e[t.axis].progress,e)},t):oO(n,KO(t))}function m9(n,{axis:t="y",container:e=document.scrollingElement,...i}={}){if(!e)return Ha;const s={axis:t,container:e,...i};return typeof n=="function"?p9(n,s):h9(n,s)}const g9=()=>({scrollX:So(0),scrollY:So(0),scrollXProgress:So(0),scrollYProgress:So(0)}),Iy=n=>n?!n.current:!1;function v9({container:n,target:t,...e}={}){const i=Cp(g9),s=K.useRef(null),r=K.useRef(!1),o=K.useCallback(()=>(s.current=m9((c,{x:h,y:p})=>{i.scrollX.set(h.current),i.scrollXProgress.set(h.progress),i.scrollY.set(p.current),i.scrollYProgress.set(p.progress)},{...e,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var c;(c=s.current)==null||c.call(s)}),[n,t,JSON.stringify(e.offset)]);return r1(()=>{if(r.current=!1,Iy(n)||Iy(t)){r.current=!0;return}else return o()},[o]),K.useEffect(()=>{if(r.current)return a0(!Iy(n)),a0(!Iy(t)),o()},[o]),i}function y9(n){const t=Cp(()=>So(n)),{isStatic:e}=K.useContext(l1);if(e){const[,i]=K.useState(n);K.useEffect(()=>t.on("change",i),[])}return t}function QO(n,t){const e=y9(t()),i=()=>e.set(t());return i(),r1(()=>{const s=()=>Hn.preRender(i,!1,!0),r=n.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),To(i)}}),e}function x9(n){zg.current=[],n();const t=QO(zg.current,n);return zg.current=void 0,t}function LR(n,t,e,i){if(typeof n=="function")return x9(n);const s=typeof t=="function"?t:uG(t,e,i);return Array.isArray(n)?UR(n,s):UR([n],([r])=>s(r))}function UR(n,t){const e=Cp(()=>[]);return QO(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}const _9={some:0,all:1};function S9(n,t,{root:e,margin:i,amount:s="some"}={}){const r=FE(n),o=new WeakMap,c=p=>{p.forEach(m=>{const v=o.get(m.target);if(m.isIntersecting!==!!v)if(m.isIntersecting){const x=t(m.target,m);typeof x=="function"?o.set(m.target,x):h.unobserve(m.target)}else typeof v=="function"&&(v(m),o.delete(m.target))})},h=new IntersectionObserver(c,{root:e,rootMargin:i,threshold:typeof s=="number"?s:_9[s]});return r.forEach(p=>h.observe(p)),()=>h.disconnect()}function b9(n,{root:t,margin:e,amount:i,once:s=!1,initial:r=!1}={}){const[o,c]=K.useState(r);return K.useEffect(()=>{if(!n.current||s&&o)return;const h=()=>(c(!0),s?void 0:()=>c(!1)),p={root:t&&t.current||void 0,margin:e,amount:i};return S9(n.current,h,p)},[t,n,e,s,i]),o}const $O=K.createContext(),JO=()=>{const n=K.useContext($O);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},M9=({children:n})=>{const[t,e]=K.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});K.useEffect(()=>{const s=document.documentElement;t==="dark"?(s.classList.add("dark"),s.classList.remove("light")):(s.classList.add("light"),s.classList.remove("dark")),localStorage.setItem("theme",t)},[t]);const i=()=>{e(s=>s==="dark"?"light":"dark")};return J.jsx($O.Provider,{value:{theme:t,toggleTheme:i},children:n})},OR=()=>{const{theme:n,toggleTheme:t}=JO();return J.jsx(ch.button,{onClick:t,className:"relative w-12 h-6 bg-gray-300 dark:bg-gray-700 rounded-full p-1 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Toggle theme",children:J.jsx(ch.div,{className:"w-4 h-4 bg-white rounded-full shadow-md",animate:{x:n==="dark"?24:0},transition:{type:"spring",stiffness:500,damping:30},children:J.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n==="dark"?J.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:J.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):J.jsx("svg",{className:"w-3 h-3 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:J.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})})})};function PR(){return J.jsxs("ul",{className:"nav-ul",children:[J.jsx("li",{className:"nav-li",children:J.jsx("a",{className:"nav-link",href:"#home",children:"Home"})}),J.jsx("li",{className:"nav-li",children:J.jsx("a",{className:"nav-link",href:"#about",children:"About"})}),J.jsx("li",{className:"nav-li",children:J.jsx("a",{className:"nav-link",href:"#projects",children:"Projects"})}),J.jsx("li",{className:"nav-li",children:J.jsx("a",{className:"nav-link",href:"#contact",children:"Contact"})})]})}const T9=()=>{const[n,t]=K.useState(!1);return J.jsxs("div",{className:"fixed inset-x-0 z-20 w-full backdrop-blur-lg bg-primary/40 border-b border-white/10",children:[J.jsx("div",{className:"c-space",children:J.jsxs("div",{className:"flex items-center justify-between py-2 sm:py-0",children:[J.jsx("a",{href:"/",className:"text-xl font-bold transition-colors text-neutral-400 hover:text-white",children:"Amit"}),J.jsx("button",{onClick:()=>t(!n),className:"flex cursor-pointer text-neutral-400 hover:text-white focus:outline-none sm:hidden",children:J.jsx("img",{src:n?"assets/close.svg":"assets/menu.svg",className:"w-6 h-6",alt:"toggle"})}),J.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[J.jsx("nav",{children:J.jsx(PR,{})}),J.jsx(OR,{})]})]})}),n&&J.jsx(Qi.div,{className:"block overflow-hidden text-center sm:hidden",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},style:{maxHeight:"100vh"},transition:{duration:.35,ease:"easeOut"},children:J.jsxs("nav",{className:"pb-5",children:[J.jsx(PR,{}),J.jsx("div",{className:"flex justify-center mt-4",children:J.jsx(OR,{})})]})})]})},E9="modulepreload",A9=function(n){return"/"+n},zR={},w9=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(e.map(h=>{if(h=A9(h),h in zR)return;zR[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":E9,p||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((x,_)=>{v.addEventListener("load",x),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const h1="173",C9={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},R9={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},tP=0,aT=1,eP=2,D9=3,nP=0,d1=1,Fg=2,yo=3,yc=0,ya=1,_o=2,mc=0,uh=1,rT=2,oT=3,lT=4,iP=5,Tu=100,sP=101,aP=102,rP=103,oP=104,lP=200,cP=201,uP=202,fP=203,u_=204,f_=205,hP=206,dP=207,pP=208,mP=209,gP=210,vP=211,yP=212,xP=213,_P=214,h_=0,d_=1,p_=2,mh=3,m_=4,g_=5,v_=6,y_=7,G0=0,SP=1,bP=2,yl=0,MP=1,TP=2,EP=3,tA=4,AP=5,wP=6,CP=7,cT="attached",RP="detached",p1=300,xc=301,Ru=302,f0=303,h0=304,Lp=306,d0=1e3,Nr=1001,p0=1002,Us=1003,eA=1004,N9=1004,rp=1005,L9=1005,$i=1006,Hg=1007,U9=1007,dl=1008,O9=1008,Eo=1009,nA=1010,iA=1011,xp=1012,m1=1013,_c=1014,Fa=1015,Up=1016,g1=1017,v1=1018,gh=1020,sA=35902,aA=1021,rA=1022,Qs=1023,oA=1024,lA=1025,fh=1026,vh=1027,y1=1028,k0=1029,cA=1030,x1=1031,P9=1032,_1=1033,Gg=33776,kg=33777,jg=33778,Xg=33779,x_=35840,__=35841,S_=35842,b_=35843,M_=36196,T_=37492,E_=37496,A_=37808,w_=37809,C_=37810,R_=37811,D_=37812,N_=37813,L_=37814,U_=37815,O_=37816,P_=37817,z_=37818,B_=37819,V_=37820,I_=37821,qg=36492,F_=36494,H_=36495,uA=36283,G_=36284,k_=36285,j_=36286,DP=2200,NP=2201,LP=2202,m0=2300,X_=2301,Wx=2302,eh=2400,nh=2401,g0=2402,S1=2500,fA=2501,z9=0,B9=1,V9=2,UP=3200,OP=3201,I9=3202,F9=3203,Ou=0,PP=1,uc="",Zs="srgb",Du="srgb-linear",v0="linear",Fn="srgb",H9=0,Yf=7680,G9=7681,k9=7682,j9=7683,X9=34055,q9=34056,W9=5386,Y9=512,Z9=513,K9=514,Q9=515,$9=516,J9=517,tj=518,uT=519,zP=512,BP=513,VP=514,hA=515,IP=516,FP=517,HP=518,GP=519,y0=35044,ej=35048,nj=35040,ij=35045,sj=35049,aj=35041,rj=35046,oj=35050,lj=35042,cj="100",fT="300 es",bo=2e3,x0=2001,uj={COMPUTE:"compute",RENDER:"render"};class Tl{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const s=i[t];if(s!==void 0){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,t);t.target=null}}}const Xs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let BR=1234567;const hh=Math.PI/180,_p=180/Math.PI;function or(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Xs[n&255]+Xs[n>>8&255]+Xs[n>>16&255]+Xs[n>>24&255]+"-"+Xs[t&255]+Xs[t>>8&255]+"-"+Xs[t>>16&15|64]+Xs[t>>24&255]+"-"+Xs[e&63|128]+Xs[e>>8&255]+"-"+Xs[e>>16&255]+Xs[e>>24&255]+Xs[i&255]+Xs[i>>8&255]+Xs[i>>16&255]+Xs[i>>24&255]).toLowerCase()}function qe(n,t,e){return Math.max(t,Math.min(e,n))}function dA(n,t){return(n%t+t)%t}function fj(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)}function hj(n,t,e){return n!==t?(e-n)/(t-n):0}function Wg(n,t,e){return(1-e)*n+e*t}function dj(n,t,e,i){return Wg(n,t,1-Math.exp(-e*i))}function pj(n,t=1){return t-Math.abs(dA(n,t*2)-t)}function mj(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function gj(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function vj(n,t){return n+Math.floor(Math.random()*(t-n+1))}function yj(n,t){return n+Math.random()*(t-n)}function xj(n){return n*(.5-Math.random())}function _j(n){n!==void 0&&(BR=n);let t=BR+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Sj(n){return n*hh}function bj(n){return n*_p}function Mj(n){return(n&n-1)===0&&n!==0}function Tj(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Ej(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Aj(n,t,e,i,s){const r=Math.cos,o=Math.sin,c=r(e/2),h=o(e/2),p=r((t+i)/2),m=o((t+i)/2),v=r((t-i)/2),x=o((t-i)/2),_=r((i-t)/2),T=o((i-t)/2);switch(s){case"XYX":n.set(c*m,h*v,h*x,c*p);break;case"YZY":n.set(h*x,c*m,h*v,c*p);break;case"ZXZ":n.set(h*v,h*x,c*m,c*p);break;case"XZX":n.set(c*m,h*T,h*_,c*p);break;case"YXY":n.set(h*_,c*m,h*T,c*p);break;case"ZYZ":n.set(h*T,h*_,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function ma(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ye(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const kP={DEG2RAD:hh,RAD2DEG:_p,generateUUID:or,clamp:qe,euclideanModulo:dA,mapLinear:fj,inverseLerp:hj,lerp:Wg,damp:dj,pingpong:pj,smoothstep:mj,smootherstep:gj,randInt:vj,randFloat:yj,randFloatSpread:xj,seededRandom:_j,degToRad:Sj,radToDeg:bj,isPowerOfTwo:Mj,ceilPowerOfTwo:Tj,floorPowerOfTwo:Ej,setQuaternionFromProperEuler:Aj,normalize:Ye,denormalize:ma};class Vt{constructor(t=0,e=0){Vt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=qe(this.x,t.x,e.x),this.y=qe(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=qe(this.x,t,e),this.y=qe(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(qe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(qe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*i-o*s+t.x,this.y=r*s+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class We{constructor(t,e,i,s,r,o,c,h,p){We.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,o,c,h,p)}set(t,e,i,s,r,o,c,h,p){const m=this.elements;return m[0]=t,m[1]=s,m[2]=c,m[3]=e,m[4]=r,m[5]=h,m[6]=i,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],c=i[3],h=i[6],p=i[1],m=i[4],v=i[7],x=i[2],_=i[5],T=i[8],C=s[0],E=s[3],M=s[6],R=s[1],D=s[4],L=s[7],B=s[2],P=s[5],I=s[8];return r[0]=o*C+c*R+h*B,r[3]=o*E+c*D+h*P,r[6]=o*M+c*L+h*I,r[1]=p*C+m*R+v*B,r[4]=p*E+m*D+v*P,r[7]=p*M+m*L+v*I,r[2]=x*C+_*R+T*B,r[5]=x*E+_*D+T*P,r[8]=x*M+_*L+T*I,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],c=t[5],h=t[6],p=t[7],m=t[8];return e*o*m-e*c*p-i*r*m+i*c*h+s*r*p-s*o*h}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],c=t[5],h=t[6],p=t[7],m=t[8],v=m*o-c*p,x=c*h-m*r,_=p*r-o*h,T=e*v+i*x+s*_;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/T;return t[0]=v*C,t[1]=(s*p-m*i)*C,t[2]=(c*i-s*o)*C,t[3]=x*C,t[4]=(m*e-s*h)*C,t[5]=(s*r-c*e)*C,t[6]=_*C,t[7]=(i*h-p*e)*C,t[8]=(o*e-i*r)*C,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,o,c){const h=Math.cos(r),p=Math.sin(r);return this.set(i*h,i*p,-i*(h*o+p*c)+o+t,-s*p,s*h,-s*(-p*o+h*c)+c+e,0,0,1),this}scale(t,e){return this.premultiply(cb.makeScale(t,e)),this}rotate(t){return this.premultiply(cb.makeRotation(-t)),this}translate(t,e){return this.premultiply(cb.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const cb=new We;function jP(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const wj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function op(n,t){return new wj[n](t)}function _0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function XP(){const n=_0("canvas");return n.style.display="block",n}const VR={};function Wd(n){n in VR||(VR[n]=!0,console.warn(n))}function Cj(n,t,e){return new Promise(function(i,s){function r(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,e);break;default:i()}}setTimeout(r,e)})}function Rj(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function Dj(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const IR=new We().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),FR=new We().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Nj(){const n={enabled:!0,workingColorSpace:Du,spaces:{},convert:function(s,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===Fn&&(s.r=gc(s.r),s.g=gc(s.g),s.b=gc(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Fn&&(s.r=dp(s.r),s.g=dp(s.g),s.b=dp(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===uc?v0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Du]:{primaries:t,whitePoint:i,transfer:v0,toXYZ:IR,fromXYZ:FR,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Zs},outputColorSpaceConfig:{drawingBufferColorSpace:Zs}},[Zs]:{primaries:t,whitePoint:i,transfer:Fn,toXYZ:IR,fromXYZ:FR,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Zs}}}),n}const _n=Nj();function gc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function dp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Md;class qP{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Md===void 0&&(Md=_0("canvas")),Md.width=t.width,Md.height=t.height;const i=Md.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Md}return e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=_0("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=gc(r[o]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(gc(e[i]/255)*255):e[i]=gc(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Lj=0;class ih{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Lj++}),this.uuid=or(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,c=s.length;o<c;o++)s[o].isDataTexture?r.push(ub(s[o].image)):r.push(ub(s[o]))}else r=ub(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function ub(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?qP.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Uj=0;class Ni extends Tl{constructor(t=Ni.DEFAULT_IMAGE,e=Ni.DEFAULT_MAPPING,i=Nr,s=Nr,r=$i,o=dl,c=Qs,h=Eo,p=Ni.DEFAULT_ANISOTROPY,m=uc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Uj++}),this.uuid=or(),this.name="",this.source=new ih(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=h,this.offset=new Vt(0,0),this.repeat=new Vt(1,1),this.center=new Vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new We,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==p1)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case d0:t.x=t.x-Math.floor(t.x);break;case Nr:t.x=t.x<0?0:1;break;case p0:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case d0:t.y=t.y-Math.floor(t.y);break;case Nr:t.y=t.y<0?0:1;break;case p0:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Ni.DEFAULT_IMAGE=null;Ni.DEFAULT_MAPPING=p1;Ni.DEFAULT_ANISOTROPY=1;class pn{constructor(t=0,e=0,i=0,s=1){pn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*e+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*e+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*e+o[7]*i+o[11]*s+o[15]*r,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const h=t.elements,p=h[0],m=h[4],v=h[8],x=h[1],_=h[5],T=h[9],C=h[2],E=h[6],M=h[10];if(Math.abs(m-x)<.01&&Math.abs(v-C)<.01&&Math.abs(T-E)<.01){if(Math.abs(m+x)<.1&&Math.abs(v+C)<.1&&Math.abs(T+E)<.1&&Math.abs(p+_+M-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const D=(p+1)/2,L=(_+1)/2,B=(M+1)/2,P=(m+x)/4,I=(v+C)/4,V=(T+E)/4;return D>L&&D>B?D<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(D),s=P/i,r=I/i):L>B?L<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(L),i=P/s,r=V/s):B<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(B),i=I/r,s=V/r),this.set(i,s,r,e),this}let R=Math.sqrt((E-T)*(E-T)+(v-C)*(v-C)+(x-m)*(x-m));return Math.abs(R)<.001&&(R=1),this.x=(E-T)/R,this.y=(v-C)/R,this.z=(x-m)/R,this.w=Math.acos((p+_+M-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=qe(this.x,t.x,e.x),this.y=qe(this.y,t.y,e.y),this.z=qe(this.z,t.z,e.z),this.w=qe(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=qe(this.x,t,e),this.y=qe(this.y,t,e),this.z=qe(this.z,t,e),this.w=qe(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(qe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class b1 extends Tl{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new pn(0,0,t,e),this.scissorTest=!1,this.viewport=new pn(0,0,t,e);const s={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$i,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new Ni(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=r.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,s=t.textures.length;i<s;i++)this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const e=Object.assign({},t.texture.image);return this.texture.source=new ih(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ml extends b1{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class j0 extends Ni{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Us,this.minFilter=Us,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Oj extends Ml{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new j0(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class M1 extends Ni{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Us,this.minFilter=Us,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pj extends Ml{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new M1(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class ts{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,r,o,c){let h=i[s+0],p=i[s+1],m=i[s+2],v=i[s+3];const x=r[o+0],_=r[o+1],T=r[o+2],C=r[o+3];if(c===0){t[e+0]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v;return}if(c===1){t[e+0]=x,t[e+1]=_,t[e+2]=T,t[e+3]=C;return}if(v!==C||h!==x||p!==_||m!==T){let E=1-c;const M=h*x+p*_+m*T+v*C,R=M>=0?1:-1,D=1-M*M;if(D>Number.EPSILON){const B=Math.sqrt(D),P=Math.atan2(B,M*R);E=Math.sin(E*P)/B,c=Math.sin(c*P)/B}const L=c*R;if(h=h*E+x*L,p=p*E+_*L,m=m*E+T*L,v=v*E+C*L,E===1-c){const B=1/Math.sqrt(h*h+p*p+m*m+v*v);h*=B,p*=B,m*=B,v*=B}}t[e]=h,t[e+1]=p,t[e+2]=m,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,s,r,o){const c=i[s],h=i[s+1],p=i[s+2],m=i[s+3],v=r[o],x=r[o+1],_=r[o+2],T=r[o+3];return t[e]=c*T+m*v+h*_-p*x,t[e+1]=h*T+m*x+p*v-c*_,t[e+2]=p*T+m*_+c*x-h*v,t[e+3]=m*T-c*v-h*x-p*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,r=t._z,o=t._order,c=Math.cos,h=Math.sin,p=c(i/2),m=c(s/2),v=c(r/2),x=h(i/2),_=h(s/2),T=h(r/2);switch(o){case"XYZ":this._x=x*m*v+p*_*T,this._y=p*_*v-x*m*T,this._z=p*m*T+x*_*v,this._w=p*m*v-x*_*T;break;case"YXZ":this._x=x*m*v+p*_*T,this._y=p*_*v-x*m*T,this._z=p*m*T-x*_*v,this._w=p*m*v+x*_*T;break;case"ZXY":this._x=x*m*v-p*_*T,this._y=p*_*v+x*m*T,this._z=p*m*T+x*_*v,this._w=p*m*v-x*_*T;break;case"ZYX":this._x=x*m*v-p*_*T,this._y=p*_*v+x*m*T,this._z=p*m*T-x*_*v,this._w=p*m*v+x*_*T;break;case"YZX":this._x=x*m*v+p*_*T,this._y=p*_*v+x*m*T,this._z=p*m*T-x*_*v,this._w=p*m*v-x*_*T;break;case"XZY":this._x=x*m*v-p*_*T,this._y=p*_*v-x*m*T,this._z=p*m*T+x*_*v,this._w=p*m*v+x*_*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],o=e[1],c=e[5],h=e[9],p=e[2],m=e[6],v=e[10],x=i+c+v;if(x>0){const _=.5/Math.sqrt(x+1);this._w=.25/_,this._x=(m-h)*_,this._y=(r-p)*_,this._z=(o-s)*_}else if(i>c&&i>v){const _=2*Math.sqrt(1+i-c-v);this._w=(m-h)/_,this._x=.25*_,this._y=(s+o)/_,this._z=(r+p)/_}else if(c>v){const _=2*Math.sqrt(1+c-i-v);this._w=(r-p)/_,this._x=(s+o)/_,this._y=.25*_,this._z=(h+m)/_}else{const _=2*Math.sqrt(1+v-i-c);this._w=(o-s)/_,this._x=(r+p)/_,this._y=(h+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(qe(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,o=t._w,c=e._x,h=e._y,p=e._z,m=e._w;return this._x=i*m+o*c+s*p-r*h,this._y=s*m+o*h+r*c-i*p,this._z=r*m+o*p+i*h-s*c,this._w=o*m-i*c-s*h-r*p,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,r=this._z,o=this._w;let c=o*t._w+i*t._x+s*t._y+r*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const h=1-c*c;if(h<=Number.EPSILON){const _=1-e;return this._w=_*o+e*this._w,this._x=_*i+e*this._x,this._y=_*s+e*this._y,this._z=_*r+e*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,c),v=Math.sin((1-e)*m)/p,x=Math.sin(e*m)/p;return this._w=o*v+this._w*x,this._x=i*v+this._x*x,this._y=s*v+this._y*x,this._z=r*v+this._z*x,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(t=0,e=0,i=0){Z.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(HR.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(HR.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,o=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,o=t.y,c=t.z,h=t.w,p=2*(o*s-c*i),m=2*(c*e-r*s),v=2*(r*i-o*e);return this.x=e+h*p+o*v-c*m,this.y=i+h*m+c*p-r*v,this.z=s+h*v+r*m-o*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=qe(this.x,t.x,e.x),this.y=qe(this.y,t.y,e.y),this.z=qe(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=qe(this.x,t,e),this.y=qe(this.y,t,e),this.z=qe(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(qe(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,o=e.x,c=e.y,h=e.z;return this.x=s*h-r*c,this.y=r*o-i*h,this.z=i*c-s*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return fb.copy(this).projectOnVector(t),this.sub(fb)}reflect(t){return this.sub(fb.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(qe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const fb=new Z,HR=new ts;class xa{constructor(t=new Z(1/0,1/0,1/0),e=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(fo.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(fo.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=fo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const r=i.getAttribute("position");if(e===!0&&r!==void 0&&t.isInstancedMesh!==!0)for(let o=0,c=r.count;o<c;o++)t.isMesh===!0?t.getVertexPosition(o,fo):fo.fromBufferAttribute(r,o),fo.applyMatrix4(t.matrixWorld),this.expandByPoint(fo);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Fy.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Fy.copy(i.boundingBox)),Fy.applyMatrix4(t.matrixWorld),this.union(Fy)}const s=t.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,fo),fo.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(sg),Hy.subVectors(this.max,sg),Td.subVectors(t.a,sg),Ed.subVectors(t.b,sg),Ad.subVectors(t.c,sg),uu.subVectors(Ed,Td),fu.subVectors(Ad,Ed),Df.subVectors(Td,Ad);let e=[0,-uu.z,uu.y,0,-fu.z,fu.y,0,-Df.z,Df.y,uu.z,0,-uu.x,fu.z,0,-fu.x,Df.z,0,-Df.x,-uu.y,uu.x,0,-fu.y,fu.x,0,-Df.y,Df.x,0];return!hb(e,Td,Ed,Ad,Hy)||(e=[1,0,0,0,1,0,0,0,1],!hb(e,Td,Ed,Ad,Hy))?!1:(Gy.crossVectors(uu,fu),e=[Gy.x,Gy.y,Gy.z],hb(e,Td,Ed,Ad,Hy))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,fo).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(fo).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(ec[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ec[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ec[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ec[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ec[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ec[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ec[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ec[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ec),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const ec=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],fo=new Z,Fy=new xa,Td=new Z,Ed=new Z,Ad=new Z,uu=new Z,fu=new Z,Df=new Z,sg=new Z,Hy=new Z,Gy=new Z,Nf=new Z;function hb(n,t,e,i,s){for(let r=0,o=n.length-3;r<=o;r+=3){Nf.fromArray(n,r);const c=s.x*Math.abs(Nf.x)+s.y*Math.abs(Nf.y)+s.z*Math.abs(Nf.z),h=t.dot(Nf),p=e.dot(Nf),m=i.dot(Nf);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>c)return!1}return!0}const zj=new xa,ag=new Z,db=new Z;class Js{constructor(t=new Z,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):zj.setFromPoints(t).getCenter(i);let s=0;for(let r=0,o=t.length;r<o;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;ag.subVectors(t,this.center);const e=ag.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(ag,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(db.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ag.copy(t.center).add(db)),this.expandByPoint(ag.copy(t.center).sub(db))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const nc=new Z,pb=new Z,ky=new Z,hu=new Z,mb=new Z,jy=new Z,gb=new Z;class Op{constructor(t=new Z,e=new Z(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,nc)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=nc.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(nc.copy(this.origin).addScaledVector(this.direction,e),nc.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){pb.copy(t).add(e).multiplyScalar(.5),ky.copy(e).sub(t).normalize(),hu.copy(this.origin).sub(pb);const r=t.distanceTo(e)*.5,o=-this.direction.dot(ky),c=hu.dot(this.direction),h=-hu.dot(ky),p=hu.lengthSq(),m=Math.abs(1-o*o);let v,x,_,T;if(m>0)if(v=o*h-c,x=o*c-h,T=r*m,v>=0)if(x>=-T)if(x<=T){const C=1/m;v*=C,x*=C,_=v*(v+o*x+2*c)+x*(o*v+x+2*h)+p}else x=r,v=Math.max(0,-(o*x+c)),_=-v*v+x*(x+2*h)+p;else x=-r,v=Math.max(0,-(o*x+c)),_=-v*v+x*(x+2*h)+p;else x<=-T?(v=Math.max(0,-(-o*r+c)),x=v>0?-r:Math.min(Math.max(-r,-h),r),_=-v*v+x*(x+2*h)+p):x<=T?(v=0,x=Math.min(Math.max(-r,-h),r),_=x*(x+2*h)+p):(v=Math.max(0,-(o*r+c)),x=v>0?r:Math.min(Math.max(-r,-h),r),_=-v*v+x*(x+2*h)+p);else x=o>0?-r:r,v=Math.max(0,-(o*x+c)),_=-v*v+x*(x+2*h)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),s&&s.copy(pb).addScaledVector(ky,x),_}intersectSphere(t,e){nc.subVectors(t.center,this.origin);const i=nc.dot(this.direction),s=nc.dot(nc)-i*i,r=t.radius*t.radius;if(s>r)return null;const o=Math.sqrt(r-s),c=i-o,h=i+o;return h<0?null:c<0?this.at(h,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,o,c,h;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,x=this.origin;return p>=0?(i=(t.min.x-x.x)*p,s=(t.max.x-x.x)*p):(i=(t.max.x-x.x)*p,s=(t.min.x-x.x)*p),m>=0?(r=(t.min.y-x.y)*m,o=(t.max.y-x.y)*m):(r=(t.max.y-x.y)*m,o=(t.min.y-x.y)*m),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),v>=0?(c=(t.min.z-x.z)*v,h=(t.max.z-x.z)*v):(c=(t.max.z-x.z)*v,h=(t.min.z-x.z)*v),i>h||c>s)||((c>i||i!==i)&&(i=c),(h<s||s!==s)&&(s=h),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,nc)!==null}intersectTriangle(t,e,i,s,r){mb.subVectors(e,t),jy.subVectors(i,t),gb.crossVectors(mb,jy);let o=this.direction.dot(gb),c;if(o>0){if(s)return null;c=1}else if(o<0)c=-1,o=-o;else return null;hu.subVectors(this.origin,t);const h=c*this.direction.dot(jy.crossVectors(hu,jy));if(h<0)return null;const p=c*this.direction.dot(mb.cross(hu));if(p<0||h+p>o)return null;const m=-c*hu.dot(gb);return m<0?null:this.at(m/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ve{constructor(t,e,i,s,r,o,c,h,p,m,v,x,_,T,C,E){Ve.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,o,c,h,p,m,v,x,_,T,C,E)}set(t,e,i,s,r,o,c,h,p,m,v,x,_,T,C,E){const M=this.elements;return M[0]=t,M[4]=e,M[8]=i,M[12]=s,M[1]=r,M[5]=o,M[9]=c,M[13]=h,M[2]=p,M[6]=m,M[10]=v,M[14]=x,M[3]=_,M[7]=T,M[11]=C,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ve().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/wd.setFromMatrixColumn(t,0).length(),r=1/wd.setFromMatrixColumn(t,1).length(),o=1/wd.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,r=t.z,o=Math.cos(i),c=Math.sin(i),h=Math.cos(s),p=Math.sin(s),m=Math.cos(r),v=Math.sin(r);if(t.order==="XYZ"){const x=o*m,_=o*v,T=c*m,C=c*v;e[0]=h*m,e[4]=-h*v,e[8]=p,e[1]=_+T*p,e[5]=x-C*p,e[9]=-c*h,e[2]=C-x*p,e[6]=T+_*p,e[10]=o*h}else if(t.order==="YXZ"){const x=h*m,_=h*v,T=p*m,C=p*v;e[0]=x+C*c,e[4]=T*c-_,e[8]=o*p,e[1]=o*v,e[5]=o*m,e[9]=-c,e[2]=_*c-T,e[6]=C+x*c,e[10]=o*h}else if(t.order==="ZXY"){const x=h*m,_=h*v,T=p*m,C=p*v;e[0]=x-C*c,e[4]=-o*v,e[8]=T+_*c,e[1]=_+T*c,e[5]=o*m,e[9]=C-x*c,e[2]=-o*p,e[6]=c,e[10]=o*h}else if(t.order==="ZYX"){const x=o*m,_=o*v,T=c*m,C=c*v;e[0]=h*m,e[4]=T*p-_,e[8]=x*p+C,e[1]=h*v,e[5]=C*p+x,e[9]=_*p-T,e[2]=-p,e[6]=c*h,e[10]=o*h}else if(t.order==="YZX"){const x=o*h,_=o*p,T=c*h,C=c*p;e[0]=h*m,e[4]=C-x*v,e[8]=T*v+_,e[1]=v,e[5]=o*m,e[9]=-c*m,e[2]=-p*m,e[6]=_*v+T,e[10]=x-C*v}else if(t.order==="XZY"){const x=o*h,_=o*p,T=c*h,C=c*p;e[0]=h*m,e[4]=-v,e[8]=p*m,e[1]=x*v+C,e[5]=o*m,e[9]=_*v-T,e[2]=T*v-_,e[6]=c*m,e[10]=C*v+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Bj,t,Vj)}lookAt(t,e,i){const s=this.elements;return ar.subVectors(t,e),ar.lengthSq()===0&&(ar.z=1),ar.normalize(),du.crossVectors(i,ar),du.lengthSq()===0&&(Math.abs(i.z)===1?ar.x+=1e-4:ar.z+=1e-4,ar.normalize(),du.crossVectors(i,ar)),du.normalize(),Xy.crossVectors(ar,du),s[0]=du.x,s[4]=Xy.x,s[8]=ar.x,s[1]=du.y,s[5]=Xy.y,s[9]=ar.y,s[2]=du.z,s[6]=Xy.z,s[10]=ar.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],c=i[4],h=i[8],p=i[12],m=i[1],v=i[5],x=i[9],_=i[13],T=i[2],C=i[6],E=i[10],M=i[14],R=i[3],D=i[7],L=i[11],B=i[15],P=s[0],I=s[4],V=s[8],U=s[12],z=s[1],X=s[5],dt=s[9],st=s[13],at=s[2],mt=s[6],W=s[10],et=s[14],Q=s[3],vt=s[7],G=s[11],nt=s[15];return r[0]=o*P+c*z+h*at+p*Q,r[4]=o*I+c*X+h*mt+p*vt,r[8]=o*V+c*dt+h*W+p*G,r[12]=o*U+c*st+h*et+p*nt,r[1]=m*P+v*z+x*at+_*Q,r[5]=m*I+v*X+x*mt+_*vt,r[9]=m*V+v*dt+x*W+_*G,r[13]=m*U+v*st+x*et+_*nt,r[2]=T*P+C*z+E*at+M*Q,r[6]=T*I+C*X+E*mt+M*vt,r[10]=T*V+C*dt+E*W+M*G,r[14]=T*U+C*st+E*et+M*nt,r[3]=R*P+D*z+L*at+B*Q,r[7]=R*I+D*X+L*mt+B*vt,r[11]=R*V+D*dt+L*W+B*G,r[15]=R*U+D*st+L*et+B*nt,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],o=t[1],c=t[5],h=t[9],p=t[13],m=t[2],v=t[6],x=t[10],_=t[14],T=t[3],C=t[7],E=t[11],M=t[15];return T*(+r*h*v-s*p*v-r*c*x+i*p*x+s*c*_-i*h*_)+C*(+e*h*_-e*p*x+r*o*x-s*o*_+s*p*m-r*h*m)+E*(+e*p*v-e*c*_-r*o*v+i*o*_+r*c*m-i*p*m)+M*(-s*c*m-e*h*v+e*c*x+s*o*v-i*o*x+i*h*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],c=t[5],h=t[6],p=t[7],m=t[8],v=t[9],x=t[10],_=t[11],T=t[12],C=t[13],E=t[14],M=t[15],R=v*E*p-C*x*p+C*h*_-c*E*_-v*h*M+c*x*M,D=T*x*p-m*E*p-T*h*_+o*E*_+m*h*M-o*x*M,L=m*C*p-T*v*p+T*c*_-o*C*_-m*c*M+o*v*M,B=T*v*h-m*C*h-T*c*x+o*C*x+m*c*E-o*v*E,P=e*R+i*D+s*L+r*B;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return t[0]=R*I,t[1]=(C*x*r-v*E*r-C*s*_+i*E*_+v*s*M-i*x*M)*I,t[2]=(c*E*r-C*h*r+C*s*p-i*E*p-c*s*M+i*h*M)*I,t[3]=(v*h*r-c*x*r-v*s*p+i*x*p+c*s*_-i*h*_)*I,t[4]=D*I,t[5]=(m*E*r-T*x*r+T*s*_-e*E*_-m*s*M+e*x*M)*I,t[6]=(T*h*r-o*E*r-T*s*p+e*E*p+o*s*M-e*h*M)*I,t[7]=(o*x*r-m*h*r+m*s*p-e*x*p-o*s*_+e*h*_)*I,t[8]=L*I,t[9]=(T*v*r-m*C*r-T*i*_+e*C*_+m*i*M-e*v*M)*I,t[10]=(o*C*r-T*c*r+T*i*p-e*C*p-o*i*M+e*c*M)*I,t[11]=(m*c*r-o*v*r-m*i*p+e*v*p+o*i*_-e*c*_)*I,t[12]=B*I,t[13]=(m*C*s-T*v*s+T*i*x-e*C*x-m*i*E+e*v*E)*I,t[14]=(T*c*s-o*C*s-T*i*h+e*C*h+o*i*E-e*c*E)*I,t[15]=(o*v*s-m*c*s+m*i*h-e*v*h-o*i*x+e*c*x)*I,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,o=t.x,c=t.y,h=t.z,p=r*o,m=r*c;return this.set(p*o+i,p*c-s*h,p*h+s*c,0,p*c+s*h,m*c+i,m*h-s*o,0,p*h-s*c,m*h+s*o,r*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,o){return this.set(1,i,r,0,t,1,o,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,o=e._y,c=e._z,h=e._w,p=r+r,m=o+o,v=c+c,x=r*p,_=r*m,T=r*v,C=o*m,E=o*v,M=c*v,R=h*p,D=h*m,L=h*v,B=i.x,P=i.y,I=i.z;return s[0]=(1-(C+M))*B,s[1]=(_+L)*B,s[2]=(T-D)*B,s[3]=0,s[4]=(_-L)*P,s[5]=(1-(x+M))*P,s[6]=(E+R)*P,s[7]=0,s[8]=(T+D)*I,s[9]=(E-R)*I,s[10]=(1-(x+C))*I,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=wd.set(s[0],s[1],s[2]).length();const o=wd.set(s[4],s[5],s[6]).length(),c=wd.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],ho.copy(this);const p=1/r,m=1/o,v=1/c;return ho.elements[0]*=p,ho.elements[1]*=p,ho.elements[2]*=p,ho.elements[4]*=m,ho.elements[5]*=m,ho.elements[6]*=m,ho.elements[8]*=v,ho.elements[9]*=v,ho.elements[10]*=v,e.setFromRotationMatrix(ho),i.x=r,i.y=o,i.z=c,this}makePerspective(t,e,i,s,r,o,c=bo){const h=this.elements,p=2*r/(e-t),m=2*r/(i-s),v=(e+t)/(e-t),x=(i+s)/(i-s);let _,T;if(c===bo)_=-(o+r)/(o-r),T=-2*o*r/(o-r);else if(c===x0)_=-o/(o-r),T=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return h[0]=p,h[4]=0,h[8]=v,h[12]=0,h[1]=0,h[5]=m,h[9]=x,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=T,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,s,r,o,c=bo){const h=this.elements,p=1/(e-t),m=1/(i-s),v=1/(o-r),x=(e+t)*p,_=(i+s)*m;let T,C;if(c===bo)T=(o+r)*v,C=-2*v;else if(c===x0)T=r*v,C=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return h[0]=2*p,h[4]=0,h[8]=0,h[12]=-x,h[1]=0,h[5]=2*m,h[9]=0,h[13]=-_,h[2]=0,h[6]=0,h[10]=C,h[14]=-T,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const wd=new Z,ho=new Ve,Bj=new Z(0,0,0),Vj=new Z(1,1,1),du=new Z,Xy=new Z,ar=new Z,GR=new Ve,kR=new ts;class Ga{constructor(t=0,e=0,i=0,s=Ga.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],o=s[4],c=s[8],h=s[1],p=s[5],m=s[9],v=s[2],x=s[6],_=s[10];switch(e){case"XYZ":this._y=Math.asin(qe(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-qe(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,_),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(qe(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-v,_),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-qe(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(x,_),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(qe(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(c,_));break;case"XZY":this._z=Math.asin(-qe(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(c,r)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return GR.makeRotationFromQuaternion(t),this.setFromRotationMatrix(GR,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return kR.setFromEuler(this),this.setFromQuaternion(kR,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ga.DEFAULT_ORDER="XYZ";class Sp{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let Ij=0;const jR=new Z,Cd=new ts,ic=new Ve,qy=new Z,rg=new Z,Fj=new Z,Hj=new ts,XR=new Z(1,0,0),qR=new Z(0,1,0),WR=new Z(0,0,1),YR={type:"added"},Gj={type:"removed"},Rd={type:"childadded",child:null},vb={type:"childremoved",child:null};class An extends Tl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ij++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=An.DEFAULT_UP.clone();const t=new Z,e=new Ga,i=new ts,s=new Z(1,1,1);function r(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ve},normalMatrix:{value:new We}}),this.matrix=new Ve,this.matrixWorld=new Ve,this.matrixAutoUpdate=An.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Sp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Cd.setFromAxisAngle(t,e),this.quaternion.multiply(Cd),this}rotateOnWorldAxis(t,e){return Cd.setFromAxisAngle(t,e),this.quaternion.premultiply(Cd),this}rotateX(t){return this.rotateOnAxis(XR,t)}rotateY(t){return this.rotateOnAxis(qR,t)}rotateZ(t){return this.rotateOnAxis(WR,t)}translateOnAxis(t,e){return jR.copy(t).applyQuaternion(this.quaternion),this.position.add(jR.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(XR,t)}translateY(t){return this.translateOnAxis(qR,t)}translateZ(t){return this.translateOnAxis(WR,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ic.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?qy.copy(t):qy.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),rg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ic.lookAt(rg,qy,this.up):ic.lookAt(qy,rg,this.up),this.quaternion.setFromRotationMatrix(ic),s&&(ic.extractRotation(s.matrixWorld),Cd.setFromRotationMatrix(ic),this.quaternion.premultiply(Cd.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(YR),Rd.child=t,this.dispatchEvent(Rd),Rd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Gj),vb.child=t,this.dispatchEvent(vb),vb.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ic.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ic.multiply(t.parent.matrixWorld)),t.applyMatrix4(ic),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(YR),Rd.child=t,this.dispatchEvent(Rd),Rd.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rg,t,Fj),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rg,Hj,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(c=>({boxInitialized:c.boxInitialized,boxMin:c.box.min.toArray(),boxMax:c.box.max.toArray(),sphereInitialized:c.sphereInitialized,sphereRadius:c.sphere.radius,sphereCenter:c.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(c,h){return c[h.uuid]===void 0&&(c[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const h=c.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const v=h[p];r(t.shapes,v)}else r(t.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let h=0,p=this.material.length;h<p;h++)c.push(r(t.materials,this.material[h]));s.material=c}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const h=this.animations[c];s.animations.push(r(t.animations,h))}}if(e){const c=o(t.geometries),h=o(t.materials),p=o(t.textures),m=o(t.images),v=o(t.shapes),x=o(t.skeletons),_=o(t.animations),T=o(t.nodes);c.length>0&&(i.geometries=c),h.length>0&&(i.materials=h),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),x.length>0&&(i.skeletons=x),_.length>0&&(i.animations=_),T.length>0&&(i.nodes=T)}return i.object=s,i;function o(c){const h=[];for(const p in c){const m=c[p];delete m.metadata,h.push(m)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}An.DEFAULT_UP=new Z(0,1,0);An.DEFAULT_MATRIX_AUTO_UPDATE=!0;An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const po=new Z,sc=new Z,yb=new Z,ac=new Z,Dd=new Z,Nd=new Z,ZR=new Z,xb=new Z,_b=new Z,Sb=new Z,bb=new pn,Mb=new pn,Tb=new pn;class Va{constructor(t=new Z,e=new Z,i=new Z){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),po.subVectors(t,e),s.cross(po);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){po.subVectors(s,e),sc.subVectors(i,e),yb.subVectors(t,e);const o=po.dot(po),c=po.dot(sc),h=po.dot(yb),p=sc.dot(sc),m=sc.dot(yb),v=o*p-c*c;if(v===0)return r.set(0,0,0),null;const x=1/v,_=(p*h-c*m)*x,T=(o*m-c*h)*x;return r.set(1-_-T,T,_)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,ac)===null?!1:ac.x>=0&&ac.y>=0&&ac.x+ac.y<=1}static getInterpolation(t,e,i,s,r,o,c,h){return this.getBarycoord(t,e,i,s,ac)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(r,ac.x),h.addScaledVector(o,ac.y),h.addScaledVector(c,ac.z),h)}static getInterpolatedAttribute(t,e,i,s,r,o){return bb.setScalar(0),Mb.setScalar(0),Tb.setScalar(0),bb.fromBufferAttribute(t,e),Mb.fromBufferAttribute(t,i),Tb.fromBufferAttribute(t,s),o.setScalar(0),o.addScaledVector(bb,r.x),o.addScaledVector(Mb,r.y),o.addScaledVector(Tb,r.z),o}static isFrontFacing(t,e,i,s){return po.subVectors(i,e),sc.subVectors(t,e),po.cross(sc).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return po.subVectors(this.c,this.b),sc.subVectors(this.a,this.b),po.cross(sc).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Va.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Va.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,r){return Va.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return Va.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Va.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let o,c;Dd.subVectors(s,i),Nd.subVectors(r,i),xb.subVectors(t,i);const h=Dd.dot(xb),p=Nd.dot(xb);if(h<=0&&p<=0)return e.copy(i);_b.subVectors(t,s);const m=Dd.dot(_b),v=Nd.dot(_b);if(m>=0&&v<=m)return e.copy(s);const x=h*v-m*p;if(x<=0&&h>=0&&m<=0)return o=h/(h-m),e.copy(i).addScaledVector(Dd,o);Sb.subVectors(t,r);const _=Dd.dot(Sb),T=Nd.dot(Sb);if(T>=0&&_<=T)return e.copy(r);const C=_*p-h*T;if(C<=0&&p>=0&&T<=0)return c=p/(p-T),e.copy(i).addScaledVector(Nd,c);const E=m*T-_*v;if(E<=0&&v-m>=0&&_-T>=0)return ZR.subVectors(r,s),c=(v-m)/(v-m+(_-T)),e.copy(s).addScaledVector(ZR,c);const M=1/(E+C+x);return o=C*M,c=x*M,e.copy(i).addScaledVector(Dd,o).addScaledVector(Nd,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const WP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pu={h:0,s:0,l:0},Wy={h:0,s:0,l:0};function Eb(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class fe{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Zs){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,_n.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=_n.workingColorSpace){return this.r=t,this.g=e,this.b=i,_n.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=_n.workingColorSpace){if(t=dA(t,1),e=qe(e,0,1),i=qe(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,o=2*i-r;this.r=Eb(o,r,t+1/3),this.g=Eb(o,r,t),this.b=Eb(o,r,t-1/3)}return _n.toWorkingColorSpace(this,s),this}setStyle(t,e=Zs){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const o=s[1],c=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Zs){const i=WP[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=gc(t.r),this.g=gc(t.g),this.b=gc(t.b),this}copyLinearToSRGB(t){return this.r=dp(t.r),this.g=dp(t.g),this.b=dp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Zs){return _n.fromWorkingColorSpace(qs.copy(this),t),Math.round(qe(qs.r*255,0,255))*65536+Math.round(qe(qs.g*255,0,255))*256+Math.round(qe(qs.b*255,0,255))}getHexString(t=Zs){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=_n.workingColorSpace){_n.fromWorkingColorSpace(qs.copy(this),e);const i=qs.r,s=qs.g,r=qs.b,o=Math.max(i,s,r),c=Math.min(i,s,r);let h,p;const m=(c+o)/2;if(c===o)h=0,p=0;else{const v=o-c;switch(p=m<=.5?v/(o+c):v/(2-o-c),o){case i:h=(s-r)/v+(s<r?6:0);break;case s:h=(r-i)/v+2;break;case r:h=(i-s)/v+4;break}h/=6}return t.h=h,t.s=p,t.l=m,t}getRGB(t,e=_n.workingColorSpace){return _n.fromWorkingColorSpace(qs.copy(this),e),t.r=qs.r,t.g=qs.g,t.b=qs.b,t}getStyle(t=Zs){_n.fromWorkingColorSpace(qs.copy(this),t);const e=qs.r,i=qs.g,s=qs.b;return t!==Zs?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL(pu),this.setHSL(pu.h+t,pu.s+e,pu.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(pu),t.getHSL(Wy);const i=Wg(pu.h,Wy.h,e),s=Wg(pu.s,Wy.s,e),r=Wg(pu.l,Wy.l,e);return this.setHSL(i,s,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*s,this.g=r[1]*e+r[4]*i+r[7]*s,this.b=r[2]*e+r[5]*i+r[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qs=new fe;fe.NAMES=WP;let kj=0;class ta extends Tl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kj++}),this.uuid=or(),this.name="",this.type="Material",this.blending=uh,this.side=yc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=u_,this.blendDst=f_,this.blendEquation=Tu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new fe(0,0,0),this.blendAlpha=0,this.depthFunc=mh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Yf,this.stencilZFail=Yf,this.stencilZPass=Yf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==uh&&(i.blending=this.blending),this.side!==yc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==u_&&(i.blendSrc=this.blendSrc),this.blendDst!==f_&&(i.blendDst=this.blendDst),this.blendEquation!==Tu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==mh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uT&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Yf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Yf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Yf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const o=[];for(const c in r){const h=r[c];delete h.metadata,o.push(h)}return o}if(e){const r=s(t.textures),o=s(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Pu extends ta{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ga,this.combine=G0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const fc=jj();function jj(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(i[h]=0,i[h|256]=32768,s[h]=24,s[h|256]=24):p<-14?(i[h]=1024>>-p-14,i[h|256]=1024>>-p-14|32768,s[h]=-p-1,s[h|256]=-p-1):p<=15?(i[h]=p+15<<10,i[h|256]=p+15<<10|32768,s[h]=13,s[h|256]=13):p<128?(i[h]=31744,i[h|256]=64512,s[h]=24,s[h|256]=24):(i[h]=31744,i[h|256]=64512,s[h]=13,s[h|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;!(p&8388608);)p<<=1,m-=8388608;p&=-8388609,m+=947912704,r[h]=p|m}for(let h=1024;h<2048;++h)r[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(c[h]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:c}}function Ba(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=qe(n,-65504,65504),fc.floatView[0]=n;const t=fc.uint32View[0],e=t>>23&511;return fc.baseTable[e]+((t&8388607)>>fc.shiftTable[e])}function wg(n){const t=n>>10;return fc.uint32View[0]=fc.mantissaTable[fc.offsetTable[t]+(n&1023)]+fc.exponentTable[t],fc.floatView[0]}const Xj={toHalfFloat:Ba,fromHalfFloat:wg},Gi=new Z,Yy=new Vt;let qj=0;class qn{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qj++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=y0,this.updateRanges=[],this.gpuType=Fa,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)Yy.fromBufferAttribute(this,e),Yy.applyMatrix3(t),this.setXY(e,Yy.x,Yy.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.applyMatrix3(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.applyMatrix4(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.applyNormalMatrix(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Gi.fromBufferAttribute(this,e),Gi.transformDirection(t),this.setXYZ(e,Gi.x,Gi.y,Gi.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=ma(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Ye(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=ma(e,this.array)),e}setX(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=ma(e,this.array)),e}setY(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=ma(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=ma(e,this.array)),e}setW(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array),r=Ye(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==y0&&(t.usage=this.usage),t}}class Wj extends qn{constructor(t,e,i){super(new Int8Array(t),e,i)}}class Yj extends qn{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class Zj extends qn{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class Kj extends qn{constructor(t,e,i){super(new Int16Array(t),e,i)}}class pA extends qn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class Qj extends qn{constructor(t,e,i){super(new Int32Array(t),e,i)}}class mA extends qn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class $j extends qn{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=wg(this.array[t*this.itemSize]);return this.normalized&&(e=ma(e,this.array)),e}setX(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize]=Ba(e),this}getY(t){let e=wg(this.array[t*this.itemSize+1]);return this.normalized&&(e=ma(e,this.array)),e}setY(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+1]=Ba(e),this}getZ(t){let e=wg(this.array[t*this.itemSize+2]);return this.normalized&&(e=ma(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+2]=Ba(e),this}getW(t){let e=wg(this.array[t*this.itemSize+3]);return this.normalized&&(e=ma(e,this.array)),e}setW(t,e){return this.normalized&&(e=Ye(e,this.array)),this.array[t*this.itemSize+3]=Ba(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array)),this.array[t+0]=Ba(e),this.array[t+1]=Ba(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array)),this.array[t+0]=Ba(e),this.array[t+1]=Ba(i),this.array[t+2]=Ba(s),this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array),r=Ye(r,this.array)),this.array[t+0]=Ba(e),this.array[t+1]=Ba(i),this.array[t+2]=Ba(s),this.array[t+3]=Ba(r),this}}class be extends qn{constructor(t,e,i){super(new Float32Array(t),e,i)}}let Jj=0;const Ar=new Ve,Ab=new An,Ld=new Z,rr=new xa,og=new xa,gs=new Z;class en extends Tl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Jj++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(jP(t)?mA:pA)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new We().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ar.makeRotationFromQuaternion(t),this.applyMatrix4(Ar),this}rotateX(t){return Ar.makeRotationX(t),this.applyMatrix4(Ar),this}rotateY(t){return Ar.makeRotationY(t),this.applyMatrix4(Ar),this}rotateZ(t){return Ar.makeRotationZ(t),this.applyMatrix4(Ar),this}translate(t,e,i){return Ar.makeTranslation(t,e,i),this.applyMatrix4(Ar),this}scale(t,e,i){return Ar.makeScale(t,e,i),this.applyMatrix4(Ar),this}lookAt(t){return Ab.lookAt(t),Ab.updateMatrix(),this.applyMatrix4(Ab.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ld).negate(),this.translate(Ld.x,Ld.y,Ld.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,r=t.length;s<r;s++){const o=t[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new be(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const r=t[s];e.setXYZ(s,r.x,r.y,r.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const r=e[i];rr.setFromBufferAttribute(r),this.morphTargetsRelative?(gs.addVectors(this.boundingBox.min,rr.min),this.boundingBox.expandByPoint(gs),gs.addVectors(this.boundingBox.max,rr.max),this.boundingBox.expandByPoint(gs)):(this.boundingBox.expandByPoint(rr.min),this.boundingBox.expandByPoint(rr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Js);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(t){const i=this.boundingSphere.center;if(rr.setFromBufferAttribute(t),e)for(let r=0,o=e.length;r<o;r++){const c=e[r];og.setFromBufferAttribute(c),this.morphTargetsRelative?(gs.addVectors(rr.min,og.min),rr.expandByPoint(gs),gs.addVectors(rr.max,og.max),rr.expandByPoint(gs)):(rr.expandByPoint(og.min),rr.expandByPoint(og.max))}rr.getCenter(i);let s=0;for(let r=0,o=t.count;r<o;r++)gs.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(gs));if(e)for(let r=0,o=e.length;r<o;r++){const c=e[r],h=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)gs.fromBufferAttribute(c,p),h&&(Ld.fromBufferAttribute(t,p),gs.add(Ld)),s=Math.max(s,i.distanceToSquared(gs))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,r=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],h=[];for(let V=0;V<i.count;V++)c[V]=new Z,h[V]=new Z;const p=new Z,m=new Z,v=new Z,x=new Vt,_=new Vt,T=new Vt,C=new Z,E=new Z;function M(V,U,z){p.fromBufferAttribute(i,V),m.fromBufferAttribute(i,U),v.fromBufferAttribute(i,z),x.fromBufferAttribute(r,V),_.fromBufferAttribute(r,U),T.fromBufferAttribute(r,z),m.sub(p),v.sub(p),_.sub(x),T.sub(x);const X=1/(_.x*T.y-T.x*_.y);isFinite(X)&&(C.copy(m).multiplyScalar(T.y).addScaledVector(v,-_.y).multiplyScalar(X),E.copy(v).multiplyScalar(_.x).addScaledVector(m,-T.x).multiplyScalar(X),c[V].add(C),c[U].add(C),c[z].add(C),h[V].add(E),h[U].add(E),h[z].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:t.count}]);for(let V=0,U=R.length;V<U;++V){const z=R[V],X=z.start,dt=z.count;for(let st=X,at=X+dt;st<at;st+=3)M(t.getX(st+0),t.getX(st+1),t.getX(st+2))}const D=new Z,L=new Z,B=new Z,P=new Z;function I(V){B.fromBufferAttribute(s,V),P.copy(B);const U=c[V];D.copy(U),D.sub(B.multiplyScalar(B.dot(U))).normalize(),L.crossVectors(P,U);const X=L.dot(h[V])<0?-1:1;o.setXYZW(V,D.x,D.y,D.z,X)}for(let V=0,U=R.length;V<U;++V){const z=R[V],X=z.start,dt=z.count;for(let st=X,at=X+dt;st<at;st+=3)I(t.getX(st+0)),I(t.getX(st+1)),I(t.getX(st+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new qn(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let x=0,_=i.count;x<_;x++)i.setXYZ(x,0,0,0);const s=new Z,r=new Z,o=new Z,c=new Z,h=new Z,p=new Z,m=new Z,v=new Z;if(t)for(let x=0,_=t.count;x<_;x+=3){const T=t.getX(x+0),C=t.getX(x+1),E=t.getX(x+2);s.fromBufferAttribute(e,T),r.fromBufferAttribute(e,C),o.fromBufferAttribute(e,E),m.subVectors(o,r),v.subVectors(s,r),m.cross(v),c.fromBufferAttribute(i,T),h.fromBufferAttribute(i,C),p.fromBufferAttribute(i,E),c.add(m),h.add(m),p.add(m),i.setXYZ(T,c.x,c.y,c.z),i.setXYZ(C,h.x,h.y,h.z),i.setXYZ(E,p.x,p.y,p.z)}else for(let x=0,_=e.count;x<_;x+=3)s.fromBufferAttribute(e,x+0),r.fromBufferAttribute(e,x+1),o.fromBufferAttribute(e,x+2),m.subVectors(o,r),v.subVectors(s,r),m.cross(v),i.setXYZ(x+0,m.x,m.y,m.z),i.setXYZ(x+1,m.x,m.y,m.z),i.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)gs.fromBufferAttribute(t,e),gs.normalize(),t.setXYZ(e,gs.x,gs.y,gs.z)}toNonIndexed(){function t(c,h){const p=c.array,m=c.itemSize,v=c.normalized,x=new p.constructor(h.length*m);let _=0,T=0;for(let C=0,E=h.length;C<E;C++){c.isInterleavedBufferAttribute?_=h[C]*c.data.stride+c.offset:_=h[C]*m;for(let M=0;M<m;M++)x[T++]=p[_++]}return new qn(x,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new en,i=this.index.array,s=this.attributes;for(const c in s){const h=s[c],p=t(h,i);e.setAttribute(c,p)}const r=this.morphAttributes;for(const c in r){const h=[],p=r[c];for(let m=0,v=p.length;m<v;m++){const x=p[m],_=t(x,i);h.push(_)}e.morphAttributes[c]=h}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,h=o.length;c<h;c++){const p=o[c];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(t[p]=h[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const p=i[h];t.data.attributes[h]=p.toJSON(t.data)}const s={};let r=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];m.push(_.toJSON(t.data))}m.length>0&&(s[h]=m,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const s=t.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(e))}const r=t.morphAttributes;for(const p in r){const m=[],v=r[p];for(let x=0,_=v.length;x<_;x++)m.push(v[x].clone(e));this.morphAttributes[p]=m}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let p=0,m=o.length;p<m;p++){const v=o[p];this.addGroup(v.start,v.count,v.materialIndex)}const c=t.boundingBox;c!==null&&(this.boundingBox=c.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const KR=new Ve,Lf=new Op,Zy=new Js,QR=new Z,Ky=new Z,Qy=new Z,$y=new Z,wb=new Z,Jy=new Z,$R=new Z,tx=new Z;class Xi extends An{constructor(t=new en,e=new Pu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const c=this.morphTargetInfluences;if(r&&c){Jy.set(0,0,0);for(let h=0,p=r.length;h<p;h++){const m=c[h],v=r[h];m!==0&&(wb.fromBufferAttribute(v,t),o?Jy.addScaledVector(wb,m):Jy.addScaledVector(wb.sub(e),m))}e.add(Jy)}return e}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Zy.copy(i.boundingSphere),Zy.applyMatrix4(r),Lf.copy(t.ray).recast(t.near),!(Zy.containsPoint(Lf.origin)===!1&&(Lf.intersectSphere(Zy,QR)===null||Lf.origin.distanceToSquared(QR)>(t.far-t.near)**2))&&(KR.copy(r).invert(),Lf.copy(t.ray).applyMatrix4(KR),!(i.boundingBox!==null&&Lf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Lf)))}_computeIntersections(t,e,i){let s;const r=this.geometry,o=this.material,c=r.index,h=r.attributes.position,p=r.attributes.uv,m=r.attributes.uv1,v=r.attributes.normal,x=r.groups,_=r.drawRange;if(c!==null)if(Array.isArray(o))for(let T=0,C=x.length;T<C;T++){const E=x[T],M=o[E.materialIndex],R=Math.max(E.start,_.start),D=Math.min(c.count,Math.min(E.start+E.count,_.start+_.count));for(let L=R,B=D;L<B;L+=3){const P=c.getX(L),I=c.getX(L+1),V=c.getX(L+2);s=ex(this,M,t,i,p,m,v,P,I,V),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=E.materialIndex,e.push(s))}}else{const T=Math.max(0,_.start),C=Math.min(c.count,_.start+_.count);for(let E=T,M=C;E<M;E+=3){const R=c.getX(E),D=c.getX(E+1),L=c.getX(E+2);s=ex(this,o,t,i,p,m,v,R,D,L),s&&(s.faceIndex=Math.floor(E/3),e.push(s))}}else if(h!==void 0)if(Array.isArray(o))for(let T=0,C=x.length;T<C;T++){const E=x[T],M=o[E.materialIndex],R=Math.max(E.start,_.start),D=Math.min(h.count,Math.min(E.start+E.count,_.start+_.count));for(let L=R,B=D;L<B;L+=3){const P=L,I=L+1,V=L+2;s=ex(this,M,t,i,p,m,v,P,I,V),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=E.materialIndex,e.push(s))}}else{const T=Math.max(0,_.start),C=Math.min(h.count,_.start+_.count);for(let E=T,M=C;E<M;E+=3){const R=E,D=E+1,L=E+2;s=ex(this,o,t,i,p,m,v,R,D,L),s&&(s.faceIndex=Math.floor(E/3),e.push(s))}}}}function tX(n,t,e,i,s,r,o,c){let h;if(t.side===ya?h=i.intersectTriangle(o,r,s,!0,c):h=i.intersectTriangle(s,r,o,t.side===yc,c),h===null)return null;tx.copy(c),tx.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(tx);return p<e.near||p>e.far?null:{distance:p,point:tx.clone(),object:n}}function ex(n,t,e,i,s,r,o,c,h,p){n.getVertexPosition(c,Ky),n.getVertexPosition(h,Qy),n.getVertexPosition(p,$y);const m=tX(n,t,e,i,Ky,Qy,$y,$R);if(m){const v=new Z;Va.getBarycoord($R,Ky,Qy,$y,v),s&&(m.uv=Va.getInterpolatedAttribute(s,c,h,p,v,new Vt)),r&&(m.uv1=Va.getInterpolatedAttribute(r,c,h,p,v,new Vt)),o&&(m.normal=Va.getInterpolatedAttribute(o,c,h,p,v,new Z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const x={a:c,b:h,c:p,normal:new Z,materialIndex:0};Va.getNormal(Ky,Qy,$y,x.normal),m.face=x,m.barycoord=v}return m}class bh extends en{constructor(t=1,e=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const c=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const h=[],p=[],m=[],v=[];let x=0,_=0;T("z","y","x",-1,-1,i,e,t,o,r,0),T("z","y","x",1,-1,i,e,-t,o,r,1),T("x","z","y",1,1,t,i,e,s,o,2),T("x","z","y",1,-1,t,i,-e,s,o,3),T("x","y","z",1,-1,t,e,i,s,r,4),T("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(h),this.setAttribute("position",new be(p,3)),this.setAttribute("normal",new be(m,3)),this.setAttribute("uv",new be(v,2));function T(C,E,M,R,D,L,B,P,I,V,U){const z=L/I,X=B/V,dt=L/2,st=B/2,at=P/2,mt=I+1,W=V+1;let et=0,Q=0;const vt=new Z;for(let G=0;G<W;G++){const nt=G*X-st;for(let Et=0;Et<mt;Et++){const Ot=Et*z-dt;vt[C]=Ot*R,vt[E]=nt*D,vt[M]=at,p.push(vt.x,vt.y,vt.z),vt[C]=0,vt[E]=0,vt[M]=P>0?1:-1,m.push(vt.x,vt.y,vt.z),v.push(Et/I),v.push(1-G/V),et+=1}}for(let G=0;G<V;G++)for(let nt=0;nt<I;nt++){const Et=x+nt+mt*G,Ot=x+nt+mt*(G+1),it=x+(nt+1)+mt*(G+1),Tt=x+(nt+1)+mt*G;h.push(Et,Ot,Tt),h.push(Ot,it,Tt),Q+=6}c.addGroup(_,Q,U),_+=Q,x+=et}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new bh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function bp(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function ha(n){const t={};for(let e=0;e<n.length;e++){const i=bp(n[e]);for(const s in i)t[s]=i[s]}return t}function eX(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function YP(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:_n.workingColorSpace}const ZP={clone:bp,merge:ha};var nX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ao extends ta{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nX,this.fragmentShader=iX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=bp(t.uniforms),this.uniformsGroups=eX(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?e.uniforms[s]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[s]={type:"m4",value:o.toArray()}:e.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class T1 extends An{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ve,this.projectionMatrix=new Ve,this.projectionMatrixInverse=new Ve,this.coordinateSystem=bo}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const mu=new Z,JR=new Vt,tD=new Vt;class ji extends T1{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=_p*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(hh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return _p*2*Math.atan(Math.tan(hh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){mu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(mu.x,mu.y).multiplyScalar(-t/mu.z),mu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(mu.x,mu.y).multiplyScalar(-t/mu.z)}getViewSize(t,e){return this.getViewBounds(t,JR,tD),e.subVectors(tD,JR)}setViewOffset(t,e,i,s,r,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(hh*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,p=o.fullHeight;r+=o.offsetX*s/h,e-=o.offsetY*i/p,s*=o.width/h,i*=o.height/p}const c=this.filmOffset;c!==0&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Ud=-90,Od=1;class KP extends An{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new ji(Ud,Od,t,e);s.layers=this.layers,this.add(s);const r=new ji(Ud,Od,t,e);r.layers=this.layers,this.add(r);const o=new ji(Ud,Od,t,e);o.layers=this.layers,this.add(o);const c=new ji(Ud,Od,t,e);c.layers=this.layers,this.add(c);const h=new ji(Ud,Od,t,e);h.layers=this.layers,this.add(h);const p=new ji(Ud,Od,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,r,o,c,h]=e;for(const p of e)this.remove(p);if(t===bo)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(t===x0)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,o,c,h,p,m]=this.children,v=t.getRenderTarget(),x=t.getActiveCubeFace(),_=t.getActiveMipmapLevel(),T=t.xr.enabled;t.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,r),t.setRenderTarget(i,1,s),t.render(e,o),t.setRenderTarget(i,2,s),t.render(e,c),t.setRenderTarget(i,3,s),t.render(e,h),t.setRenderTarget(i,4,s),t.render(e,p),i.texture.generateMipmaps=C,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(v,x,_),t.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class X0 extends Ni{constructor(t,e,i,s,r,o,c,h,p,m){t=t!==void 0?t:[],e=e!==void 0?e:xc,super(t,e,i,s,r,o,c,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class QP extends Ml{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new X0(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:$i}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new bh(5,5,5),r=new Ao({name:"CubemapFromEquirect",uniforms:bp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ya,blending:mc});r.uniforms.tEquirect.value=e;const o=new Xi(s,r),c=e.minFilter;return e.minFilter===dl&&(e.minFilter=$i),new KP(1,10,this).update(t,o),e.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,s);t.setRenderTarget(r)}}class lp extends An{constructor(){super(),this.isGroup=!0,this.type="Group"}}const sX={type:"move"};class Yx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,o=null;const c=this._targetRay,h=this._grip,p=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(p&&t.hand){o=!0;for(const C of t.hand.values()){const E=e.getJointPose(C,i),M=this._getHandJoint(p,C);E!==null&&(M.matrix.fromArray(E.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=E.radius),M.visible=E!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],x=m.position.distanceTo(v.position),_=.02,T=.005;p.inputState.pinching&&x>_+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&&x<=_-T&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else h!==null&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1));c!==null&&(s=e.getPose(t.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(sX)))}return c!==null&&(c.visible=s!==null),h!==null&&(h.visible=r!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new lp;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class E1{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new fe(t),this.density=e}clone(){return new E1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class A1{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new fe(t),this.near=e,this.far=i}clone(){return new A1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gA extends An{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ga,this.environmentIntensity=1,this.environmentRotation=new Ga,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class w1{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=y0,this.updateRanges=[],this.version=0,this.uuid=or()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fa=new Z;class yh{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)fa.fromBufferAttribute(this,e),fa.applyMatrix4(t),this.setXYZ(e,fa.x,fa.y,fa.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)fa.fromBufferAttribute(this,e),fa.applyNormalMatrix(t),this.setXYZ(e,fa.x,fa.y,fa.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)fa.fromBufferAttribute(this,e),fa.transformDirection(t),this.setXYZ(e,fa.x,fa.y,fa.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=ma(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Ye(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Ye(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=ma(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=ma(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=ma(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=ma(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Ye(e,this.array),i=Ye(i,this.array),s=Ye(s,this.array),r=Ye(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new qn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new yh(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vA extends ta{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Pd;const lg=new Z,zd=new Z,Bd=new Z,Vd=new Vt,cg=new Vt,$P=new Ve,nx=new Z,ug=new Z,ix=new Z,eD=new Vt,Cb=new Vt,nD=new Vt;class JP extends An{constructor(t=new vA){if(super(),this.isSprite=!0,this.type="Sprite",Pd===void 0){Pd=new en;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new w1(e,5);Pd.setIndex([0,1,2,0,2,3]),Pd.setAttribute("position",new yh(i,3,0,!1)),Pd.setAttribute("uv",new yh(i,2,3,!1))}this.geometry=Pd,this.material=t,this.center=new Vt(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zd.setFromMatrixScale(this.matrixWorld),$P.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Bd.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zd.multiplyScalar(-Bd.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;sx(nx.set(-.5,-.5,0),Bd,o,zd,s,r),sx(ug.set(.5,-.5,0),Bd,o,zd,s,r),sx(ix.set(.5,.5,0),Bd,o,zd,s,r),eD.set(0,0),Cb.set(1,0),nD.set(1,1);let c=t.ray.intersectTriangle(nx,ug,ix,!1,lg);if(c===null&&(sx(ug.set(-.5,.5,0),Bd,o,zd,s,r),Cb.set(0,1),c=t.ray.intersectTriangle(nx,ix,ug,!1,lg),c===null))return;const h=t.ray.origin.distanceTo(lg);h<t.near||h>t.far||e.push({distance:h,point:lg.clone(),uv:Va.getInterpolation(lg,nx,ug,ix,eD,Cb,nD,new Vt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function sx(n,t,e,i,s,r){Vd.subVectors(n,e).addScalar(.5).multiply(i),s!==void 0?(cg.x=r*Vd.x-s*Vd.y,cg.y=s*Vd.x+r*Vd.y):cg.copy(Vd),n.copy(t),n.x+=cg.x,n.y+=cg.y,n.applyMatrix4($P)}const ax=new Z,iD=new Z;class tz extends An{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const r=e[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let r;for(r=0;r<s.length&&!(e<s[r].distance);r++);return s.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){ax.setFromMatrixPosition(this.matrixWorld);const s=t.ray.origin.distanceTo(ax);this.getObjectForDistance(s).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){ax.setFromMatrixPosition(t.matrixWorld),iD.setFromMatrixPosition(this.matrixWorld);const i=ax.distanceTo(iD)/t.zoom;e[0].object.visible=!0;let s,r;for(s=1,r=e.length;s<r;s++){let o=e[s].distance;if(e[s].object.visible&&(o-=o*e[s].hysteresis),i>=o)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const o=i[s];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const sD=new Z,aD=new pn,rD=new pn,aX=new Z,oD=new Ve,rx=new Z,Rb=new Js,lD=new Ve,Db=new Op;class ez extends Xi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=cT,this.bindMatrix=new Ve,this.bindMatrixInverse=new Ve,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new xa),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,rx),this.boundingBox.expandByPoint(rx)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Js),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,rx),this.boundingSphere.expandByPoint(rx)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Rb.copy(this.boundingSphere),Rb.applyMatrix4(s),t.ray.intersectsSphere(Rb)!==!1&&(lD.copy(s).invert(),Db.copy(t.ray).applyMatrix4(lD),!(this.boundingBox!==null&&Db.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,Db)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new pn,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===cT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===RP?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;aD.fromBufferAttribute(s.attributes.skinIndex,t),rD.fromBufferAttribute(s.attributes.skinWeight,t),sD.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const o=rD.getComponent(r);if(o!==0){const c=aD.getComponent(r);oD.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),e.addScaledVector(aX.copy(sD).applyMatrix4(oD),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class yA extends An{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xl extends Ni{constructor(t=null,e=1,i=1,s,r,o,c,h,p=Us,m=Us,v,x){super(null,o,c,h,p,m,s,r,v,x),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cD=new Ve,rX=new Ve;class C1{constructor(t=[],e=[]){this.uuid=or(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Ve)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Ve;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=t.length;r<o;r++){const c=t[r]?t[r].matrixWorld:rX;cD.multiplyMatrices(c,e[r]),cD.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new C1(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new xl(e,t,t,Qs,Fa);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let o=e[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new yA),this.bones.push(o),this.boneInverses.push(new Ve().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++){const o=e[s];t.bones.push(o.uuid);const c=i[s];t.boneInverses.push(c.toArray())}return t}}class Mp extends qn{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Id=new Ve,uD=new Ve,ox=[],fD=new xa,oX=new Ve,fg=new Xi,hg=new Js;class nz extends Xi{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Mp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,oX)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new xa),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Id),fD.copy(t.boundingBox).applyMatrix4(Id),this.boundingBox.union(fD)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Js),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Id),hg.copy(t.boundingSphere).applyMatrix4(Id),this.boundingSphere.union(hg)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,o=t*r+1;for(let c=0;c<i.length;c++)i[c]=s[o+c]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(fg.geometry=this.geometry,fg.material=this.material,fg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hg.copy(this.boundingSphere),hg.applyMatrix4(i),t.ray.intersectsSphere(hg)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,Id),uD.multiplyMatrices(i,Id),fg.matrixWorld=uD,fg.raycast(t,ox);for(let o=0,c=ox.length;o<c;o++){const h=ox[o];h.instanceId=r,h.object=this,e.push(h)}ox.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new Mp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new xl(new Float32Array(s*this.count),s,this.count,y1,Fa));const r=this.morphTexture.source.data.data;let o=0;for(let p=0;p<i.length;p++)o+=i[p];const c=this.geometry.morphTargetsRelative?1:1-o,h=s*t;r[h]=c,r.set(i,h+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Nb=new Z,lX=new Z,cX=new We;class Mu{constructor(t=new Z(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=Nb.subVectors(i,e).cross(lX.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Nb),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||cX.getNormalMatrix(t),s=this.coplanarPoint(Nb).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Uf=new Js,lx=new Z;class q0{constructor(t=new Mu,e=new Mu,i=new Mu,s=new Mu,r=new Mu,o=new Mu){this.planes=[t,e,i,s,r,o]}set(t,e,i,s,r,o){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(i),c[3].copy(s),c[4].copy(r),c[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=bo){const i=this.planes,s=t.elements,r=s[0],o=s[1],c=s[2],h=s[3],p=s[4],m=s[5],v=s[6],x=s[7],_=s[8],T=s[9],C=s[10],E=s[11],M=s[12],R=s[13],D=s[14],L=s[15];if(i[0].setComponents(h-r,x-p,E-_,L-M).normalize(),i[1].setComponents(h+r,x+p,E+_,L+M).normalize(),i[2].setComponents(h+o,x+m,E+T,L+R).normalize(),i[3].setComponents(h-o,x-m,E-T,L-R).normalize(),i[4].setComponents(h-c,x-v,E-C,L-D).normalize(),e===bo)i[5].setComponents(h+c,x+v,E+C,L+D).normalize();else if(e===x0)i[5].setComponents(c,v,C,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Uf.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Uf.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Uf)}intersectsSprite(t){return Uf.center.set(0,0,0),Uf.radius=.7071067811865476,Uf.applyMatrix4(t.matrixWorld),this.intersectsSphere(Uf)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(lx.x=s.normal.x>0?t.max.x:t.min.x,lx.y=s.normal.y>0?t.max.y:t.min.y,lx.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(lx)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Lb(n,t){return n-t}function uX(n,t){return n.z-t.z}function fX(n,t){return t.z-n.z}class hX{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const c=r[this.index];o.push(c),this.index++,c.start=t,c.count=e,c.z=i,c.index=s}reset(){this.list.length=0,this.index=0}}const za=new Ve,dX=new fe(1,1,1),Ub=new q0,cx=new xa,Of=new Js,dg=new Z,hD=new Z,pX=new Z,Ob=new hX,Ws=new Xi,ux=[];function mX(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const s=n.count;for(let r=0;r<s;r++)for(let o=0;o<i;o++)t.setComponent(r+e,o,n.getComponent(r,o))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function Pf(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class iz extends Xi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(t,e,i=e*2,s){super(new en,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new xl(e,t,t,Qs,Fa);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new xl(e,t,t,k0,_c);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new xl(e,t,t,Qs,Fa);i.colorSpace=_n.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in t.attributes){const o=t.getAttribute(r),{array:c,itemSize:h,normalized:p}=o,m=new c.constructor(i*h),v=new qn(m,h,p);e.setAttribute(r,v)}if(t.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new qn(r,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),r=e.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xa);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,za),this.getBoundingBoxAt(r,cx).applyMatrix4(za),t.union(cx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Js);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,za),this.getBoundingSphereAt(r,Of).applyMatrix4(za),t.union(Of)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Lb),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;za.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(dX.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?o.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Lb),h=this._availableGeometryIds.shift(),r[h]=s):(h=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(h,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),o=e.getIndex(),c=this._geometryInfo[t];if(s&&o.count>c.reservedIndexCount||e.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const v=e.getAttribute(m),x=i.getAttribute(m);mX(v,x,h);const _=v.itemSize;for(let T=v.count,C=p;T<C;T++){const E=h+T;for(let M=0;M<_;M++)x.setComponent(E,M,0)}x.needsUpdate=!0,x.addUpdateRange(h*_,p*_)}if(s){const m=c.indexStart,v=c.reservedIndexCount;c.indexCount=e.getIndex().count;for(let x=0;x<o.count;x++)r.setX(m+x,h+o.getX(x));for(let x=o.count,_=v;x<_;x++)r.setX(m+x,h);r.needsUpdate=!0,r.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,e.boundingBox!==null&&(c.boundingBox=e.boundingBox.clone()),c.boundingSphere=null,e.boundingSphere!==null&&(c.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),r=this.geometry;for(let o=0,c=i.length;o<c;o++){const h=s[o],p=i[h];if(p.active!==!1){if(r.index!==null){if(p.indexStart!==e){const{indexStart:m,vertexStart:v,reservedIndexCount:x}=p,_=r.index,T=_.array,C=t-v;for(let E=m;E<m+x;E++)T[E]=T[E]+C;_.array.copyWithin(e,m,m+x),_.addUpdateRange(e,x),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:m,reservedVertexCount:v}=p,x=r.attributes;for(const _ in x){const T=x[_],{array:C,itemSize:E}=T;C.copyWithin(t*E,m*E,(m+v)*E),T.addUpdateRange(t*E,v*E)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=r.index?p.indexStart:p.vertexStart,this._nextIndexStart=r.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const r=new xa,o=i.index,c=i.attributes.position;for(let h=s.start,p=s.start+s.count;h<p;h++){let m=h;o&&(m=o.getX(m)),r.expandByPoint(dg.fromBufferAttribute(c,m))}s.boundingBox=r}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const r=new Js;this.getBoundingBoxAt(t,cx),cx.getCenter(r.center);const o=i.index,c=i.attributes.position;let h=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let v=p;o&&(v=o.getX(v)),dg.fromBufferAttribute(c,v),h=Math.max(h,r.center.distanceToSquared(dg))}r.radius=Math.sqrt(h),s.boundingSphere=r}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(Lb);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),r=new Int32Array(t);Pf(this._multiDrawCounts,s),Pf(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=t;const o=this._indirectTexture,c=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Pf(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Pf(c.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),Pf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new en,this._initializeGeometry(r));const o=this.geometry;r.index&&Pf(r.index.array,o.index.array);for(const c in r.attributes)Pf(r.attributes[c].array,o.attributes[c].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,o=this.geometry;Ws.material=this.material,Ws.geometry.index=o.index,Ws.geometry.attributes=o.attributes,Ws.geometry.boundingBox===null&&(Ws.geometry.boundingBox=new xa),Ws.geometry.boundingSphere===null&&(Ws.geometry.boundingSphere=new Js);for(let c=0,h=i.length;c<h;c++){if(!i[c].visible||!i[c].active)continue;const p=i[c].geometryIndex,m=s[p];Ws.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Ws.matrixWorld).premultiply(r),this.getBoundingBoxAt(p,Ws.geometry.boundingBox),this.getBoundingSphereAt(p,Ws.geometry.boundingSphere),Ws.raycast(t,ux);for(let v=0,x=ux.length;v<x;v++){const _=ux[v];_.object=this,_.batchId=c,e.push(_)}ux.length=0}Ws.material=null,Ws.geometry.index=null,Ws.geometry.attributes={},Ws.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(t,e,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,T=_.image.data;x&&(za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Ub.setFromProjectionMatrix(za,t.coordinateSystem));let C=0;if(this.sortObjects){za.copy(this.matrixWorld).invert(),dg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(za),hD.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(za);for(let R=0,D=h.length;R<D;R++)if(h[R].visible&&h[R].active){const L=h[R].geometryIndex;this.getMatrixAt(R,za),this.getBoundingSphereAt(L,Of).applyMatrix4(za);let B=!1;if(x&&(B=!Ub.intersectsSphere(Of)),!B){const P=v[L],I=pX.subVectors(Of.center,dg).dot(hD);Ob.push(P.start,P.count,I,R)}}const E=Ob.list,M=this.customSort;M===null?E.sort(r.transparent?fX:uX):M.call(this,E,i);for(let R=0,D=E.length;R<D;R++){const L=E[R];p[C]=L.start*c,m[C]=L.count,T[C]=L.index,C++}Ob.reset()}else for(let E=0,M=h.length;E<M;E++)if(h[E].visible&&h[E].active){const R=h[E].geometryIndex;let D=!1;if(x&&(this.getMatrixAt(E,za),this.getBoundingSphereAt(R,Of).applyMatrix4(za),D=!Ub.intersectsSphere(Of)),!D){const L=v[R];p[C]=L.start*c,m[C]=L.count,T[C]=E,C++}}_.needsUpdate=!0,this._multiDrawCount=C,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,r,o){this.onBeforeRender(t,null,s,r,o)}}class _a extends ta{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const q_=new Z,W_=new Z,dD=new Ve,pg=new Op,fx=new Js,Pb=new Z,pD=new Z;class Nu extends An{constructor(t=new en,e=new _a){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)q_.fromBufferAttribute(e,s-1),W_.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=q_.distanceTo(W_);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fx.copy(i.boundingSphere),fx.applyMatrix4(s),fx.radius+=r,t.ray.intersectsSphere(fx)===!1)return;dD.copy(s).invert(),pg.copy(t.ray).applyMatrix4(dD);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,p=this.isLineSegments?2:1,m=i.index,x=i.attributes.position;if(m!==null){const _=Math.max(0,o.start),T=Math.min(m.count,o.start+o.count);for(let C=_,E=T-1;C<E;C+=p){const M=m.getX(C),R=m.getX(C+1),D=hx(this,t,pg,h,M,R,C);D&&e.push(D)}if(this.isLineLoop){const C=m.getX(T-1),E=m.getX(_),M=hx(this,t,pg,h,C,E,T-1);M&&e.push(M)}}else{const _=Math.max(0,o.start),T=Math.min(x.count,o.start+o.count);for(let C=_,E=T-1;C<E;C+=p){const M=hx(this,t,pg,h,C,C+1,C);M&&e.push(M)}if(this.isLineLoop){const C=hx(this,t,pg,h,T-1,_,T-1);C&&e.push(C)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}}function hx(n,t,e,i,s,r,o){const c=n.geometry.attributes.position;if(q_.fromBufferAttribute(c,s),W_.fromBufferAttribute(c,r),e.distanceSqToSegment(q_,W_,Pb,pD)>i)return;Pb.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(Pb);if(!(p<t.near||p>t.far))return{distance:p,point:pD.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const mD=new Z,gD=new Z;class El extends Nu{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)mD.fromBufferAttribute(e,s),gD.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+mD.distanceTo(gD);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sz extends Nu{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class xA extends ta{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const vD=new Ve,hT=new Op,dx=new Js,px=new Z;class az extends An{constructor(t=new en,e=new xA){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),dx.copy(i.boundingSphere),dx.applyMatrix4(s),dx.radius+=r,t.ray.intersectsSphere(dx)===!1)return;vD.copy(s).invert(),hT.copy(t.ray).applyMatrix4(vD);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let T=x,C=_;T<C;T++){const E=p.getX(T);px.fromBufferAttribute(v,E),yD(px,E,h,s,t,e,this)}}else{const x=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let T=x,C=_;T<C;T++)px.fromBufferAttribute(v,T),yD(px,T,h,s,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}}function yD(n,t,e,i,s,r,o){const c=hT.distanceSqToPoint(n);if(c<e){const h=new Z;hT.closestPointToPoint(n,h),h.applyMatrix4(i);const p=s.ray.origin.distanceTo(h);if(p<s.near||p>s.far)return;r.push({distance:p,distanceToRay:Math.sqrt(c),point:h,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class rz extends Ni{constructor(t,e,i,s,r,o,c,h,p){super(t,e,i,s,r,o,c,h,p),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:$i,this.magFilter=r!==void 0?r:$i,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class gX extends rz{constructor(t,e,i,s,r,o,c,h){super({},t,e,i,s,r,o,c,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class vX extends Ni{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Us,this.minFilter=Us,this.generateMipmaps=!1,this.needsUpdate=!0}}class R1 extends Ni{constructor(t,e,i,s,r,o,c,h,p,m,v,x){super(null,o,c,h,p,m,s,r,v,x),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class yX extends R1{constructor(t,e,i,s,r,o){super(t,e,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Nr,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class xX extends R1{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,xc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class _X extends Ni{constructor(t,e,i,s,r,o,c,h,p){super(t,e,i,s,r,o,c,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _A extends Ni{constructor(t,e,i,s,r,o,c,h,p,m=fh){if(m!==fh&&m!==vh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&m===fh&&(i=_c),i===void 0&&m===vh&&(i=gh),super(null,s,r,o,c,h,m,i,p),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=c!==void 0?c:Us,this.minFilter=h!==void 0?h:Us,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class wo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let o;e?o=e:o=t*i[r-1];let c=0,h=r-1,p;for(;c<=h;)if(s=Math.floor(c+(h-c)/2),p=i[s]-o,p<0)c=s+1;else if(p>0)h=s-1;else{h=s;break}if(s=h,i[s]===o)return s/(r-1);const m=i[s],x=i[s+1]-m,_=(o-m)/x;return(s+_)/(r-1)}getTangent(t,e){let s=t-1e-4,r=t+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),c=this.getPoint(r),h=e||(o.isVector2?new Vt:new Z);return h.copy(c).sub(o).normalize(),h}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new Z,s=[],r=[],o=[],c=new Z,h=new Ve;for(let _=0;_<=t;_++){const T=_/t;s[_]=this.getTangentAt(T,new Z)}r[0]=new Z,o[0]=new Z;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),v=Math.abs(s[0].y),x=Math.abs(s[0].z);m<=p&&(p=m,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),x<=p&&i.set(0,0,1),c.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],c),o[0].crossVectors(s[0],r[0]);for(let _=1;_<=t;_++){if(r[_]=r[_-1].clone(),o[_]=o[_-1].clone(),c.crossVectors(s[_-1],s[_]),c.length()>Number.EPSILON){c.normalize();const T=Math.acos(qe(s[_-1].dot(s[_]),-1,1));r[_].applyMatrix4(h.makeRotationAxis(c,T))}o[_].crossVectors(s[_],r[_])}if(e===!0){let _=Math.acos(qe(r[0].dot(r[t]),-1,1));_/=t,s[0].dot(c.crossVectors(r[0],r[t]))>0&&(_=-_);for(let T=1;T<=t;T++)r[T].applyMatrix4(h.makeRotationAxis(s[T],_*T)),o[T].crossVectors(s[T],r[T])}return{tangents:s,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class D1 extends wo{constructor(t=0,e=0,i=1,s=1,r=0,o=Math.PI*2,c=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=c,this.aRotation=h}getPoint(t,e=new Vt){const i=e,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(o?r=0:r=s),this.aClockwise===!0&&!o&&(r===s?r=-s:r=r-s);const c=this.aStartAngle+t*r;let h=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=h-this.aX,_=p-this.aY;h=x*m-_*v+this.aX,p=x*v+_*m+this.aY}return i.set(h,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class oz extends D1{constructor(t,e,i,s,r,o){super(t,e,i,i,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function SA(){let n=0,t=0,e=0,i=0;function s(r,o,c,h){n=r,t=c,e=-3*r+3*o-2*c-h,i=2*r-2*o+c+h}return{initCatmullRom:function(r,o,c,h,p){s(o,c,p*(c-r),p*(h-o))},initNonuniformCatmullRom:function(r,o,c,h,p,m,v){let x=(o-r)/p-(c-r)/(p+m)+(c-o)/m,_=(c-o)/m-(h-o)/(m+v)+(h-c)/v;x*=m,_*=m,s(o,c,x,_)},calc:function(r){const o=r*r,c=o*r;return n+t*r+e*o+i*c}}}const mx=new Z,zb=new SA,Bb=new SA,Vb=new SA;class lz extends wo{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new Z){const i=e,s=this.points,r=s.length,o=(r-(this.closed?0:1))*t;let c=Math.floor(o),h=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:h===0&&c===r-1&&(c=r-2,h=1);let p,m;this.closed||c>0?p=s[(c-1)%r]:(mx.subVectors(s[0],s[1]).add(s[0]),p=mx);const v=s[c%r],x=s[(c+1)%r];if(this.closed||c+2<r?m=s[(c+2)%r]:(mx.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=mx),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),_),C=Math.pow(v.distanceToSquared(x),_),E=Math.pow(x.distanceToSquared(m),_);C<1e-4&&(C=1),T<1e-4&&(T=C),E<1e-4&&(E=C),zb.initNonuniformCatmullRom(p.x,v.x,x.x,m.x,T,C,E),Bb.initNonuniformCatmullRom(p.y,v.y,x.y,m.y,T,C,E),Vb.initNonuniformCatmullRom(p.z,v.z,x.z,m.z,T,C,E)}else this.curveType==="catmullrom"&&(zb.initCatmullRom(p.x,v.x,x.x,m.x,this.tension),Bb.initCatmullRom(p.y,v.y,x.y,m.y,this.tension),Vb.initCatmullRom(p.z,v.z,x.z,m.z,this.tension));return i.set(zb.calc(h),Bb.calc(h),Vb.calc(h)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new Z().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function xD(n,t,e,i,s){const r=(i-t)*.5,o=(s-e)*.5,c=n*n,h=n*c;return(2*e-2*i+r+o)*h+(-3*e+3*i-2*r-o)*c+r*n+e}function SX(n,t){const e=1-n;return e*e*t}function bX(n,t){return 2*(1-n)*n*t}function MX(n,t){return n*n*t}function Yg(n,t,e,i){return SX(n,t)+bX(n,e)+MX(n,i)}function TX(n,t){const e=1-n;return e*e*e*t}function EX(n,t){const e=1-n;return 3*e*e*n*t}function AX(n,t){return 3*(1-n)*n*n*t}function wX(n,t){return n*n*n*t}function Zg(n,t,e,i,s){return TX(n,t)+EX(n,e)+AX(n,i)+wX(n,s)}class bA extends wo{constructor(t=new Vt,e=new Vt,i=new Vt,s=new Vt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new Vt){const i=e,s=this.v0,r=this.v1,o=this.v2,c=this.v3;return i.set(Zg(t,s.x,r.x,o.x,c.x),Zg(t,s.y,r.y,o.y,c.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class cz extends wo{constructor(t=new Z,e=new Z,i=new Z,s=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new Z){const i=e,s=this.v0,r=this.v1,o=this.v2,c=this.v3;return i.set(Zg(t,s.x,r.x,o.x,c.x),Zg(t,s.y,r.y,o.y,c.y),Zg(t,s.z,r.z,o.z,c.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class MA extends wo{constructor(t=new Vt,e=new Vt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Vt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Vt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class uz extends wo{constructor(t=new Z,e=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new Z){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Z){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class TA extends wo{constructor(t=new Vt,e=new Vt,i=new Vt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Vt){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(Yg(t,s.x,r.x,o.x),Yg(t,s.y,r.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class EA extends wo{constructor(t=new Z,e=new Z,i=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Z){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(Yg(t,s.x,r.x,o.x),Yg(t,s.y,r.y,o.y),Yg(t,s.z,r.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class AA extends wo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Vt){const i=e,s=this.points,r=(s.length-1)*t,o=Math.floor(r),c=r-o,h=s[o===0?o:o-1],p=s[o],m=s[o>s.length-2?s.length-1:o+1],v=s[o>s.length-3?s.length-1:o+2];return i.set(xD(c,h.x,p.x,m.x,v.x),xD(c,h.y,p.y,m.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new Vt().fromArray(s))}return this}}var Y_=Object.freeze({__proto__:null,ArcCurve:oz,CatmullRomCurve3:lz,CubicBezierCurve:bA,CubicBezierCurve3:cz,EllipseCurve:D1,LineCurve:MA,LineCurve3:uz,QuadraticBezierCurve:TA,QuadraticBezierCurve3:EA,SplineCurve:AA});class fz extends wo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Y_[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,c=this.curves[r],h=c.getLength(),p=h===0?0:1-o/h;return c.getPointAt(p,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],c=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,h=o.getPoints(c);for(let p=0;p<h.length;p++){const m=h[p];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new Y_[s.type]().fromJSON(s))}return this}}class S0 extends fz{constructor(t){super(),this.type="Path",this.currentPoint=new Vt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new MA(this.currentPoint.clone(),new Vt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new TA(this.currentPoint.clone(),new Vt(t,e),new Vt(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,o){const c=new bA(this.currentPoint.clone(),new Vt(t,e),new Vt(i,s),new Vt(r,o));return this.curves.push(c),this.currentPoint.set(r,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new AA(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,o){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+c,e+h,i,s,r,o),this}absarc(t,e,i,s,r,o){return this.absellipse(t,e,i,i,s,r,o),this}ellipse(t,e,i,s,r,o,c,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+p,e+m,i,s,r,o,c,h),this}absellipse(t,e,i,s,r,o,c,h){const p=new D1(t,e,i,s,r,o,c,h);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class W0 extends en{constructor(t=[new Vt(0,-.5),new Vt(.5,0),new Vt(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=qe(s,0,Math.PI*2);const r=[],o=[],c=[],h=[],p=[],m=1/e,v=new Z,x=new Vt,_=new Z,T=new Z,C=new Z;let E=0,M=0;for(let R=0;R<=t.length-1;R++)switch(R){case 0:E=t[R+1].x-t[R].x,M=t[R+1].y-t[R].y,_.x=M*1,_.y=-E,_.z=M*0,C.copy(_),_.normalize(),h.push(_.x,_.y,_.z);break;case t.length-1:h.push(C.x,C.y,C.z);break;default:E=t[R+1].x-t[R].x,M=t[R+1].y-t[R].y,_.x=M*1,_.y=-E,_.z=M*0,T.copy(_),_.x+=C.x,_.y+=C.y,_.z+=C.z,_.normalize(),h.push(_.x,_.y,_.z),C.copy(T)}for(let R=0;R<=e;R++){const D=i+R*m*s,L=Math.sin(D),B=Math.cos(D);for(let P=0;P<=t.length-1;P++){v.x=t[P].x*L,v.y=t[P].y,v.z=t[P].x*B,o.push(v.x,v.y,v.z),x.x=R/e,x.y=P/(t.length-1),c.push(x.x,x.y);const I=h[3*P+0]*L,V=h[3*P+1],U=h[3*P+0]*B;p.push(I,V,U)}}for(let R=0;R<e;R++)for(let D=0;D<t.length-1;D++){const L=D+R*t.length,B=L,P=L+t.length,I=L+t.length+1,V=L+1;r.push(B,P,V),r.push(I,V,P)}this.setIndex(r),this.setAttribute("position",new be(o,3)),this.setAttribute("uv",new be(c,2)),this.setAttribute("normal",new be(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new W0(t.points,t.segments,t.phiStart,t.phiLength)}}class N1 extends W0{constructor(t=1,e=1,i=4,s=8){const r=new S0;r.absarc(0,-e/2,t,Math.PI*1.5,0),r.absarc(0,e/2,t,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:s}}static fromJSON(t){return new N1(t.radius,t.length,t.capSegments,t.radialSegments)}}class L1 extends en{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const r=[],o=[],c=[],h=[],p=new Z,m=new Vt;o.push(0,0,0),c.push(0,0,1),h.push(.5,.5);for(let v=0,x=3;v<=e;v++,x+=3){const _=i+v/e*s;p.x=t*Math.cos(_),p.y=t*Math.sin(_),o.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(o[x]/t+1)/2,m.y=(o[x+1]/t+1)/2,h.push(m.x,m.y)}for(let v=1;v<=e;v++)r.push(v,v+1,0);this.setIndex(r),this.setAttribute("position",new be(o,3)),this.setAttribute("normal",new be(c,3)),this.setAttribute("uv",new be(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new L1(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Pp extends en{constructor(t=1,e=1,i=1,s=32,r=1,o=!1,c=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:c,thetaLength:h};const p=this;s=Math.floor(s),r=Math.floor(r);const m=[],v=[],x=[],_=[];let T=0;const C=[],E=i/2;let M=0;R(),o===!1&&(t>0&&D(!0),e>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new be(v,3)),this.setAttribute("normal",new be(x,3)),this.setAttribute("uv",new be(_,2));function R(){const L=new Z,B=new Z;let P=0;const I=(e-t)/i;for(let V=0;V<=r;V++){const U=[],z=V/r,X=z*(e-t)+t;for(let dt=0;dt<=s;dt++){const st=dt/s,at=st*h+c,mt=Math.sin(at),W=Math.cos(at);B.x=X*mt,B.y=-z*i+E,B.z=X*W,v.push(B.x,B.y,B.z),L.set(mt,I,W).normalize(),x.push(L.x,L.y,L.z),_.push(st,1-z),U.push(T++)}C.push(U)}for(let V=0;V<s;V++)for(let U=0;U<r;U++){const z=C[U][V],X=C[U+1][V],dt=C[U+1][V+1],st=C[U][V+1];(t>0||U!==0)&&(m.push(z,X,st),P+=3),(e>0||U!==r-1)&&(m.push(X,dt,st),P+=3)}p.addGroup(M,P,0),M+=P}function D(L){const B=T,P=new Vt,I=new Z;let V=0;const U=L===!0?t:e,z=L===!0?1:-1;for(let dt=1;dt<=s;dt++)v.push(0,E*z,0),x.push(0,z,0),_.push(.5,.5),T++;const X=T;for(let dt=0;dt<=s;dt++){const at=dt/s*h+c,mt=Math.cos(at),W=Math.sin(at);I.x=U*W,I.y=E*z,I.z=U*mt,v.push(I.x,I.y,I.z),x.push(0,z,0),P.x=mt*.5+.5,P.y=W*.5*z+.5,_.push(P.x,P.y),T++}for(let dt=0;dt<s;dt++){const st=B+dt,at=X+dt;L===!0?m.push(at,at+1,st):m.push(at+1,at,st),V+=3}p.addGroup(M,V,L===!0?1:2),M+=V}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Pp(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class U1 extends Pp{constructor(t=1,e=1,i=32,s=1,r=!1,o=0,c=Math.PI*2){super(0,t,e,i,s,r,o,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:c}}static fromJSON(t){return new U1(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class zu extends en{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const r=[],o=[];c(s),p(i),m(),this.setAttribute("position",new be(r,3)),this.setAttribute("normal",new be(r.slice(),3)),this.setAttribute("uv",new be(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(R){const D=new Z,L=new Z,B=new Z;for(let P=0;P<e.length;P+=3)_(e[P+0],D),_(e[P+1],L),_(e[P+2],B),h(D,L,B,R)}function h(R,D,L,B){const P=B+1,I=[];for(let V=0;V<=P;V++){I[V]=[];const U=R.clone().lerp(L,V/P),z=D.clone().lerp(L,V/P),X=P-V;for(let dt=0;dt<=X;dt++)dt===0&&V===P?I[V][dt]=U:I[V][dt]=U.clone().lerp(z,dt/X)}for(let V=0;V<P;V++)for(let U=0;U<2*(P-V)-1;U++){const z=Math.floor(U/2);U%2===0?(x(I[V][z+1]),x(I[V+1][z]),x(I[V][z])):(x(I[V][z+1]),x(I[V+1][z+1]),x(I[V+1][z]))}}function p(R){const D=new Z;for(let L=0;L<r.length;L+=3)D.x=r[L+0],D.y=r[L+1],D.z=r[L+2],D.normalize().multiplyScalar(R),r[L+0]=D.x,r[L+1]=D.y,r[L+2]=D.z}function m(){const R=new Z;for(let D=0;D<r.length;D+=3){R.x=r[D+0],R.y=r[D+1],R.z=r[D+2];const L=E(R)/2/Math.PI+.5,B=M(R)/Math.PI+.5;o.push(L,1-B)}T(),v()}function v(){for(let R=0;R<o.length;R+=6){const D=o[R+0],L=o[R+2],B=o[R+4],P=Math.max(D,L,B),I=Math.min(D,L,B);P>.9&&I<.1&&(D<.2&&(o[R+0]+=1),L<.2&&(o[R+2]+=1),B<.2&&(o[R+4]+=1))}}function x(R){r.push(R.x,R.y,R.z)}function _(R,D){const L=R*3;D.x=t[L+0],D.y=t[L+1],D.z=t[L+2]}function T(){const R=new Z,D=new Z,L=new Z,B=new Z,P=new Vt,I=new Vt,V=new Vt;for(let U=0,z=0;U<r.length;U+=9,z+=6){R.set(r[U+0],r[U+1],r[U+2]),D.set(r[U+3],r[U+4],r[U+5]),L.set(r[U+6],r[U+7],r[U+8]),P.set(o[z+0],o[z+1]),I.set(o[z+2],o[z+3]),V.set(o[z+4],o[z+5]),B.copy(R).add(D).add(L).divideScalar(3);const X=E(B);C(P,z+0,R,X),C(I,z+2,D,X),C(V,z+4,L,X)}}function C(R,D,L,B){B<0&&R.x===1&&(o[D]=R.x-1),L.x===0&&L.z===0&&(o[D]=B/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new zu(t.vertices,t.indices,t.radius,t.details)}}class O1 extends zu{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new O1(t.radius,t.detail)}}const gx=new Z,vx=new Z,Ib=new Z,yx=new Va;class hz extends en{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const s=Math.pow(10,4),r=Math.cos(hh*e),o=t.getIndex(),c=t.getAttribute("position"),h=o?o.count:c.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),x={},_=[];for(let T=0;T<h;T+=3){o?(p[0]=o.getX(T),p[1]=o.getX(T+1),p[2]=o.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:C,b:E,c:M}=yx;if(C.fromBufferAttribute(c,p[0]),E.fromBufferAttribute(c,p[1]),M.fromBufferAttribute(c,p[2]),yx.getNormal(Ib),v[0]=`${Math.round(C.x*s)},${Math.round(C.y*s)},${Math.round(C.z*s)}`,v[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,v[2]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const D=(R+1)%3,L=v[R],B=v[D],P=yx[m[R]],I=yx[m[D]],V=`${L}_${B}`,U=`${B}_${L}`;U in x&&x[U]?(Ib.dot(x[U].normal)<=r&&(_.push(P.x,P.y,P.z),_.push(I.x,I.y,I.z)),x[U]=null):V in x||(x[V]={index0:p[R],index1:p[D],normal:Ib.clone()})}}for(const T in x)if(x[T]){const{index0:C,index1:E}=x[T];gx.fromBufferAttribute(c,C),vx.fromBufferAttribute(c,E),_.push(gx.x,gx.y,gx.z),_.push(vx.x,vx.y,vx.z)}this.setAttribute("position",new be(_,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class dh extends S0{constructor(t){super(t),this.uuid=or(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new S0().fromJSON(s))}return this}}const CX={triangulate:function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let r=dz(n,0,s,e,!0);const o=[];if(!r||r.next===r.prev)return o;let c,h,p,m,v,x,_;if(i&&(r=UX(n,t,r,e)),n.length>80*e){c=p=n[0],h=m=n[1];for(let T=e;T<s;T+=e)v=n[T],x=n[T+1],v<c&&(c=v),x<h&&(h=x),v>p&&(p=v),x>m&&(m=x);_=Math.max(p-c,m-h),_=_!==0?32767/_:0}return b0(r,o,e,c,h,_,0),o}};function dz(n,t,e,i,s){let r,o;if(s===jX(n,t,e,i)>0)for(r=t;r<e;r+=i)o=_D(r,n[r],n[r+1],o);else for(r=e-i;r>=t;r-=i)o=_D(r,n[r],n[r+1],o);return o&&P1(o,o.next)&&(T0(o),o=o.next),o}function xh(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(P1(e,e.next)||yi(e.prev,e,e.next)===0)){if(T0(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function b0(n,t,e,i,s,r,o){if(!n)return;!o&&r&&VX(n,i,s,r);let c=n,h,p;for(;n.prev!==n.next;){if(h=n.prev,p=n.next,r?DX(n,i,s,r):RX(n)){t.push(h.i/e|0),t.push(n.i/e|0),t.push(p.i/e|0),T0(n),n=p.next,c=p.next;continue}if(n=p,n===c){o?o===1?(n=NX(xh(n),t,e),b0(n,t,e,i,s,r,2)):o===2&&LX(n,t,e,i,s,r):b0(xh(n),t,e,i,s,r,1);break}}}function RX(n){const t=n.prev,e=n,i=n.next;if(yi(t,e,i)>=0)return!1;const s=t.x,r=e.x,o=i.x,c=t.y,h=e.y,p=i.y,m=s<r?s<o?s:o:r<o?r:o,v=c<h?c<p?c:p:h<p?h:p,x=s>r?s>o?s:o:r>o?r:o,_=c>h?c>p?c:p:h>p?h:p;let T=i.next;for(;T!==t;){if(T.x>=m&&T.x<=x&&T.y>=v&&T.y<=_&&cp(s,c,r,h,o,p,T.x,T.y)&&yi(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function DX(n,t,e,i){const s=n.prev,r=n,o=n.next;if(yi(s,r,o)>=0)return!1;const c=s.x,h=r.x,p=o.x,m=s.y,v=r.y,x=o.y,_=c<h?c<p?c:p:h<p?h:p,T=m<v?m<x?m:x:v<x?v:x,C=c>h?c>p?c:p:h>p?h:p,E=m>v?m>x?m:x:v>x?v:x,M=dT(_,T,t,e,i),R=dT(C,E,t,e,i);let D=n.prevZ,L=n.nextZ;for(;D&&D.z>=M&&L&&L.z<=R;){if(D.x>=_&&D.x<=C&&D.y>=T&&D.y<=E&&D!==s&&D!==o&&cp(c,m,h,v,p,x,D.x,D.y)&&yi(D.prev,D,D.next)>=0||(D=D.prevZ,L.x>=_&&L.x<=C&&L.y>=T&&L.y<=E&&L!==s&&L!==o&&cp(c,m,h,v,p,x,L.x,L.y)&&yi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;D&&D.z>=M;){if(D.x>=_&&D.x<=C&&D.y>=T&&D.y<=E&&D!==s&&D!==o&&cp(c,m,h,v,p,x,D.x,D.y)&&yi(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;L&&L.z<=R;){if(L.x>=_&&L.x<=C&&L.y>=T&&L.y<=E&&L!==s&&L!==o&&cp(c,m,h,v,p,x,L.x,L.y)&&yi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function NX(n,t,e){let i=n;do{const s=i.prev,r=i.next.next;!P1(s,r)&&pz(s,i,i.next,r)&&M0(s,r)&&M0(r,s)&&(t.push(s.i/e|0),t.push(i.i/e|0),t.push(r.i/e|0),T0(i),T0(i.next),i=n=r),i=i.next}while(i!==n);return xh(i)}function LX(n,t,e,i,s,r){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&HX(o,c)){let h=mz(o,c);o=xh(o,o.next),h=xh(h,h.next),b0(o,t,e,i,s,r,0),b0(h,t,e,i,s,r,0);return}c=c.next}o=o.next}while(o!==n)}function UX(n,t,e,i){const s=[];let r,o,c,h,p;for(r=0,o=t.length;r<o;r++)c=t[r]*i,h=r<o-1?t[r+1]*i:n.length,p=dz(n,c,h,i,!1),p===p.next&&(p.steiner=!0),s.push(FX(p));for(s.sort(OX),r=0;r<s.length;r++)e=PX(s[r],e);return e}function OX(n,t){return n.x-t.x}function PX(n,t){const e=zX(n,t);if(!e)return t;const i=mz(e,n);return xh(i,i.next),xh(e,e.next)}function zX(n,t){let e=t,i=-1/0,s;const r=n.x,o=n.y;do{if(o<=e.y&&o>=e.next.y&&e.next.y!==e.y){const x=e.x+(o-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(x<=r&&x>i&&(i=x,s=e.x<e.next.x?e:e.next,x===r))return s}e=e.next}while(e!==t);if(!s)return null;const c=s,h=s.x,p=s.y;let m=1/0,v;e=s;do r>=e.x&&e.x>=h&&r!==e.x&&cp(o<p?r:i,o,h,p,o<p?i:r,o,e.x,e.y)&&(v=Math.abs(o-e.y)/(r-e.x),M0(e,n)&&(v<m||v===m&&(e.x>s.x||e.x===s.x&&BX(s,e)))&&(s=e,m=v)),e=e.next;while(e!==c);return s}function BX(n,t){return yi(n.prev,n,t.prev)<0&&yi(t.next,n,n.next)<0}function VX(n,t,e,i){let s=n;do s.z===0&&(s.z=dT(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,IX(s)}function IX(n){let t,e,i,s,r,o,c,h,p=1;do{for(e=n,n=null,r=null,o=0;e;){for(o++,i=e,c=0,t=0;t<p&&(c++,i=i.nextZ,!!i);t++);for(h=p;c>0||h>0&&i;)c!==0&&(h===0||!i||e.z<=i.z)?(s=e,e=e.nextZ,c--):(s=i,i=i.nextZ,h--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;e=i}r.nextZ=null,p*=2}while(o>1);return n}function dT(n,t,e,i,s){return n=(n-e)*s|0,t=(t-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function FX(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function cp(n,t,e,i,s,r,o,c){return(s-o)*(t-c)>=(n-o)*(r-c)&&(n-o)*(i-c)>=(e-o)*(t-c)&&(e-o)*(r-c)>=(s-o)*(i-c)}function HX(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!GX(n,t)&&(M0(n,t)&&M0(t,n)&&kX(n,t)&&(yi(n.prev,n,t.prev)||yi(n,t.prev,t))||P1(n,t)&&yi(n.prev,n,n.next)>0&&yi(t.prev,t,t.next)>0)}function yi(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function P1(n,t){return n.x===t.x&&n.y===t.y}function pz(n,t,e,i){const s=_x(yi(n,t,e)),r=_x(yi(n,t,i)),o=_x(yi(e,i,n)),c=_x(yi(e,i,t));return!!(s!==r&&o!==c||s===0&&xx(n,e,t)||r===0&&xx(n,i,t)||o===0&&xx(e,n,i)||c===0&&xx(e,t,i))}function xx(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function _x(n){return n>0?1:n<0?-1:0}function GX(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&pz(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function M0(n,t){return yi(n.prev,n,n.next)<0?yi(n,t,n.next)>=0&&yi(n,n.prev,t)>=0:yi(n,t,n.prev)<0||yi(n,n.next,t)<0}function kX(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,r=(n.y+t.y)/2;do e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function mz(n,t){const e=new pT(n.i,n.x,n.y),i=new pT(t.i,t.x,t.y),s=n.next,r=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function _D(n,t,e,i){const s=new pT(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function T0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function pT(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jX(n,t,e,i){let s=0;for(let r=t,o=e-i;r<e;r+=i)s+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return s}class _l{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return i*.5}static isClockWise(t){return _l.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];SD(t),bD(i,t);let o=t.length;e.forEach(SD);for(let h=0;h<e.length;h++)s.push(o),o+=e[h].length,bD(i,e[h]);const c=CX.triangulate(i,s);for(let h=0;h<c.length;h+=3)r.push(c.slice(h,h+3));return r}}function SD(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function bD(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class z1 extends en{constructor(t=new dh([new Vt(.5,.5),new Vt(-.5,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let c=0,h=t.length;c<h;c++){const p=t[c];o(p)}this.setAttribute("position",new be(s,3)),this.setAttribute("uv",new be(r,2)),this.computeVertexNormals();function o(c){const h=[],p=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let x=e.bevelEnabled!==void 0?e.bevelEnabled:!0,_=e.bevelThickness!==void 0?e.bevelThickness:.2,T=e.bevelSize!==void 0?e.bevelSize:_-.1,C=e.bevelOffset!==void 0?e.bevelOffset:0,E=e.bevelSegments!==void 0?e.bevelSegments:3;const M=e.extrudePath,R=e.UVGenerator!==void 0?e.UVGenerator:XX;let D,L=!1,B,P,I,V;M&&(D=M.getSpacedPoints(m),L=!0,x=!1,B=M.computeFrenetFrames(m,!1),P=new Z,I=new Z,V=new Z),x||(E=0,_=0,T=0,C=0);const U=c.extractPoints(p);let z=U.shape;const X=U.holes;if(!_l.isClockWise(z)){z=z.reverse();for(let Pt=0,Rt=X.length;Pt<Rt;Pt++){const Y=X[Pt];_l.isClockWise(Y)&&(X[Pt]=Y.reverse())}}const st=_l.triangulateShape(z,X),at=z;for(let Pt=0,Rt=X.length;Pt<Rt;Pt++){const Y=X[Pt];z=z.concat(Y)}function mt(Pt,Rt,Y){return Rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pt.clone().addScaledVector(Rt,Y)}const W=z.length,et=st.length;function Q(Pt,Rt,Y){let ue,Ht,$t;const Kt=Pt.x-Rt.x,Se=Pt.y-Rt.y,Qt=Y.x-Pt.x,q=Y.y-Pt.y,F=Kt*Kt+Se*Se,yt=Kt*q-Se*Qt;if(Math.abs(yt)>Number.EPSILON){const wt=Math.sqrt(F),Ft=Math.sqrt(Qt*Qt+q*q),Dt=Rt.x-Se/wt,ce=Rt.y+Kt/wt,ee=Y.x-q/Ft,he=Y.y+Qt/Ft,Ze=((ee-Dt)*q-(he-ce)*Qt)/(Kt*q-Se*Qt);ue=Dt+Kt*Ze-Pt.x,Ht=ce+Se*Ze-Pt.y;const Yt=ue*ue+Ht*Ht;if(Yt<=2)return new Vt(ue,Ht);$t=Math.sqrt(Yt/2)}else{let wt=!1;Kt>Number.EPSILON?Qt>Number.EPSILON&&(wt=!0):Kt<-Number.EPSILON?Qt<-Number.EPSILON&&(wt=!0):Math.sign(Se)===Math.sign(q)&&(wt=!0),wt?(ue=-Se,Ht=Kt,$t=Math.sqrt(F)):(ue=Kt,Ht=Se,$t=Math.sqrt(F/2))}return new Vt(ue/$t,Ht/$t)}const vt=[];for(let Pt=0,Rt=at.length,Y=Rt-1,ue=Pt+1;Pt<Rt;Pt++,Y++,ue++)Y===Rt&&(Y=0),ue===Rt&&(ue=0),vt[Pt]=Q(at[Pt],at[Y],at[ue]);const G=[];let nt,Et=vt.concat();for(let Pt=0,Rt=X.length;Pt<Rt;Pt++){const Y=X[Pt];nt=[];for(let ue=0,Ht=Y.length,$t=Ht-1,Kt=ue+1;ue<Ht;ue++,$t++,Kt++)$t===Ht&&($t=0),Kt===Ht&&(Kt=0),nt[ue]=Q(Y[ue],Y[$t],Y[Kt]);G.push(nt),Et=Et.concat(nt)}for(let Pt=0;Pt<E;Pt++){const Rt=Pt/E,Y=_*Math.cos(Rt*Math.PI/2),ue=T*Math.sin(Rt*Math.PI/2)+C;for(let Ht=0,$t=at.length;Ht<$t;Ht++){const Kt=mt(at[Ht],vt[Ht],ue);It(Kt.x,Kt.y,-Y)}for(let Ht=0,$t=X.length;Ht<$t;Ht++){const Kt=X[Ht];nt=G[Ht];for(let Se=0,Qt=Kt.length;Se<Qt;Se++){const q=mt(Kt[Se],nt[Se],ue);It(q.x,q.y,-Y)}}}const Ot=T+C;for(let Pt=0;Pt<W;Pt++){const Rt=x?mt(z[Pt],Et[Pt],Ot):z[Pt];L?(I.copy(B.normals[0]).multiplyScalar(Rt.x),P.copy(B.binormals[0]).multiplyScalar(Rt.y),V.copy(D[0]).add(I).add(P),It(V.x,V.y,V.z)):It(Rt.x,Rt.y,0)}for(let Pt=1;Pt<=m;Pt++)for(let Rt=0;Rt<W;Rt++){const Y=x?mt(z[Rt],Et[Rt],Ot):z[Rt];L?(I.copy(B.normals[Pt]).multiplyScalar(Y.x),P.copy(B.binormals[Pt]).multiplyScalar(Y.y),V.copy(D[Pt]).add(I).add(P),It(V.x,V.y,V.z)):It(Y.x,Y.y,v/m*Pt)}for(let Pt=E-1;Pt>=0;Pt--){const Rt=Pt/E,Y=_*Math.cos(Rt*Math.PI/2),ue=T*Math.sin(Rt*Math.PI/2)+C;for(let Ht=0,$t=at.length;Ht<$t;Ht++){const Kt=mt(at[Ht],vt[Ht],ue);It(Kt.x,Kt.y,v+Y)}for(let Ht=0,$t=X.length;Ht<$t;Ht++){const Kt=X[Ht];nt=G[Ht];for(let Se=0,Qt=Kt.length;Se<Qt;Se++){const q=mt(Kt[Se],nt[Se],ue);L?It(q.x,q.y+D[m-1].y,D[m-1].x+Y):It(q.x,q.y,v+Y)}}}it(),Tt();function it(){const Pt=s.length/3;if(x){let Rt=0,Y=W*Rt;for(let ue=0;ue<et;ue++){const Ht=st[ue];kt(Ht[2]+Y,Ht[1]+Y,Ht[0]+Y)}Rt=m+E*2,Y=W*Rt;for(let ue=0;ue<et;ue++){const Ht=st[ue];kt(Ht[0]+Y,Ht[1]+Y,Ht[2]+Y)}}else{for(let Rt=0;Rt<et;Rt++){const Y=st[Rt];kt(Y[2],Y[1],Y[0])}for(let Rt=0;Rt<et;Rt++){const Y=st[Rt];kt(Y[0]+W*m,Y[1]+W*m,Y[2]+W*m)}}i.addGroup(Pt,s.length/3-Pt,0)}function Tt(){const Pt=s.length/3;let Rt=0;Ut(at,Rt),Rt+=at.length;for(let Y=0,ue=X.length;Y<ue;Y++){const Ht=X[Y];Ut(Ht,Rt),Rt+=Ht.length}i.addGroup(Pt,s.length/3-Pt,1)}function Ut(Pt,Rt){let Y=Pt.length;for(;--Y>=0;){const ue=Y;let Ht=Y-1;Ht<0&&(Ht=Pt.length-1);for(let $t=0,Kt=m+E*2;$t<Kt;$t++){const Se=W*$t,Qt=W*($t+1),q=Rt+ue+Se,F=Rt+Ht+Se,yt=Rt+Ht+Qt,wt=Rt+ue+Qt;ye(q,F,yt,wt)}}}function It(Pt,Rt,Y){h.push(Pt),h.push(Rt),h.push(Y)}function kt(Pt,Rt,Y){qt(Pt),qt(Rt),qt(Y);const ue=s.length/3,Ht=R.generateTopUV(i,s,ue-3,ue-2,ue-1);le(Ht[0]),le(Ht[1]),le(Ht[2])}function ye(Pt,Rt,Y,ue){qt(Pt),qt(Rt),qt(ue),qt(Rt),qt(Y),qt(ue);const Ht=s.length/3,$t=R.generateSideWallUV(i,s,Ht-6,Ht-3,Ht-2,Ht-1);le($t[0]),le($t[1]),le($t[3]),le($t[1]),le($t[2]),le($t[3])}function qt(Pt){s.push(h[Pt*3+0]),s.push(h[Pt*3+1]),s.push(h[Pt*3+2])}function le(Pt){r.push(Pt.x),r.push(Pt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return qX(e,i,t)}static fromJSON(t,e){const i=[];for(let r=0,o=t.shapes.length;r<o;r++){const c=e[t.shapes[r]];i.push(c)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new Y_[s.type]().fromJSON(s)),new z1(i,t.options)}}const XX={generateTopUV:function(n,t,e,i,s){const r=t[e*3],o=t[e*3+1],c=t[i*3],h=t[i*3+1],p=t[s*3],m=t[s*3+1];return[new Vt(r,o),new Vt(c,h),new Vt(p,m)]},generateSideWallUV:function(n,t,e,i,s,r){const o=t[e*3],c=t[e*3+1],h=t[e*3+2],p=t[i*3],m=t[i*3+1],v=t[i*3+2],x=t[s*3],_=t[s*3+1],T=t[s*3+2],C=t[r*3],E=t[r*3+1],M=t[r*3+2];return Math.abs(c-m)<Math.abs(o-p)?[new Vt(o,1-h),new Vt(p,1-v),new Vt(x,1-T),new Vt(C,1-M)]:[new Vt(c,1-h),new Vt(m,1-v),new Vt(_,1-T),new Vt(E,1-M)]}};function qX(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const r=n[i];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class B1 extends zu{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new B1(t.radius,t.detail)}}class Y0 extends zu{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Y0(t.radius,t.detail)}}class zp extends en{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,o=e/2,c=Math.floor(i),h=Math.floor(s),p=c+1,m=h+1,v=t/c,x=e/h,_=[],T=[],C=[],E=[];for(let M=0;M<m;M++){const R=M*x-o;for(let D=0;D<p;D++){const L=D*v-r;T.push(L,-R,0),C.push(0,0,1),E.push(D/c),E.push(1-M/h)}}for(let M=0;M<h;M++)for(let R=0;R<c;R++){const D=R+p*M,L=R+p*(M+1),B=R+1+p*(M+1),P=R+1+p*M;_.push(D,L,P),_.push(L,B,P)}this.setIndex(_),this.setAttribute("position",new be(T,3)),this.setAttribute("normal",new be(C,3)),this.setAttribute("uv",new be(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new zp(t.width,t.height,t.widthSegments,t.heightSegments)}}class V1 extends en{constructor(t=.5,e=1,i=32,s=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const c=[],h=[],p=[],m=[];let v=t;const x=(e-t)/s,_=new Z,T=new Vt;for(let C=0;C<=s;C++){for(let E=0;E<=i;E++){const M=r+E/i*o;_.x=v*Math.cos(M),_.y=v*Math.sin(M),h.push(_.x,_.y,_.z),p.push(0,0,1),T.x=(_.x/e+1)/2,T.y=(_.y/e+1)/2,m.push(T.x,T.y)}v+=x}for(let C=0;C<s;C++){const E=C*(i+1);for(let M=0;M<i;M++){const R=M+E,D=R,L=R+i+1,B=R+i+2,P=R+1;c.push(D,L,P),c.push(L,B,P)}}this.setIndex(c),this.setAttribute("position",new be(h,3)),this.setAttribute("normal",new be(p,3)),this.setAttribute("uv",new be(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new V1(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class I1 extends en{constructor(t=new dh([new Vt(0,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],o=[];let c=0,h=0;if(Array.isArray(t)===!1)p(t);else for(let m=0;m<t.length;m++)p(t[m]),this.addGroup(c,h,m),c+=h,h=0;this.setIndex(i),this.setAttribute("position",new be(s,3)),this.setAttribute("normal",new be(r,3)),this.setAttribute("uv",new be(o,2));function p(m){const v=s.length/3,x=m.extractPoints(e);let _=x.shape;const T=x.holes;_l.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,M=T.length;E<M;E++){const R=T[E];_l.isClockWise(R)===!0&&(T[E]=R.reverse())}const C=_l.triangulateShape(_,T);for(let E=0,M=T.length;E<M;E++){const R=T[E];_=_.concat(R)}for(let E=0,M=_.length;E<M;E++){const R=_[E];s.push(R.x,R.y,0),r.push(0,0,1),o.push(R.x,R.y)}for(let E=0,M=C.length;E<M;E++){const R=C[E],D=R[0]+v,L=R[1]+v,B=R[2]+v;i.push(D,L,B),h+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return WX(e,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++){const o=e[t.shapes[s]];i.push(o)}return new I1(i,t.curveSegments)}}function WX(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const s=n[e];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t}class Z0 extends en{constructor(t=1,e=32,i=16,s=0,r=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:r,thetaStart:o,thetaLength:c},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const h=Math.min(o+c,Math.PI);let p=0;const m=[],v=new Z,x=new Z,_=[],T=[],C=[],E=[];for(let M=0;M<=i;M++){const R=[],D=M/i;let L=0;M===0&&o===0?L=.5/e:M===i&&h===Math.PI&&(L=-.5/e);for(let B=0;B<=e;B++){const P=B/e;v.x=-t*Math.cos(s+P*r)*Math.sin(o+D*c),v.y=t*Math.cos(o+D*c),v.z=t*Math.sin(s+P*r)*Math.sin(o+D*c),T.push(v.x,v.y,v.z),x.copy(v).normalize(),C.push(x.x,x.y,x.z),E.push(P+L,1-D),R.push(p++)}m.push(R)}for(let M=0;M<i;M++)for(let R=0;R<e;R++){const D=m[M][R+1],L=m[M][R],B=m[M+1][R],P=m[M+1][R+1];(M!==0||o>0)&&_.push(D,L,P),(M!==i-1||h<Math.PI)&&_.push(L,B,P)}this.setIndex(_),this.setAttribute("position",new be(T,3)),this.setAttribute("normal",new be(C,3)),this.setAttribute("uv",new be(E,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Z0(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class F1 extends zu{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new F1(t.radius,t.detail)}}class H1 extends en{constructor(t=1,e=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const o=[],c=[],h=[],p=[],m=new Z,v=new Z,x=new Z;for(let _=0;_<=i;_++)for(let T=0;T<=s;T++){const C=T/s*r,E=_/i*Math.PI*2;v.x=(t+e*Math.cos(E))*Math.cos(C),v.y=(t+e*Math.cos(E))*Math.sin(C),v.z=e*Math.sin(E),c.push(v.x,v.y,v.z),m.x=t*Math.cos(C),m.y=t*Math.sin(C),x.subVectors(v,m).normalize(),h.push(x.x,x.y,x.z),p.push(T/s),p.push(_/i)}for(let _=1;_<=i;_++)for(let T=1;T<=s;T++){const C=(s+1)*_+T-1,E=(s+1)*(_-1)+T-1,M=(s+1)*(_-1)+T,R=(s+1)*_+T;o.push(C,E,R),o.push(E,M,R)}this.setIndex(o),this.setAttribute("position",new be(c,3)),this.setAttribute("normal",new be(h,3)),this.setAttribute("uv",new be(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new H1(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class G1 extends en{constructor(t=1,e=.4,i=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:r,q:o},i=Math.floor(i),s=Math.floor(s);const c=[],h=[],p=[],m=[],v=new Z,x=new Z,_=new Z,T=new Z,C=new Z,E=new Z,M=new Z;for(let D=0;D<=i;++D){const L=D/i*r*Math.PI*2;R(L,r,o,t,_),R(L+.01,r,o,t,T),E.subVectors(T,_),M.addVectors(T,_),C.crossVectors(E,M),M.crossVectors(C,E),C.normalize(),M.normalize();for(let B=0;B<=s;++B){const P=B/s*Math.PI*2,I=-e*Math.cos(P),V=e*Math.sin(P);v.x=_.x+(I*M.x+V*C.x),v.y=_.y+(I*M.y+V*C.y),v.z=_.z+(I*M.z+V*C.z),h.push(v.x,v.y,v.z),x.subVectors(v,_).normalize(),p.push(x.x,x.y,x.z),m.push(D/i),m.push(B/s)}}for(let D=1;D<=i;D++)for(let L=1;L<=s;L++){const B=(s+1)*(D-1)+(L-1),P=(s+1)*D+(L-1),I=(s+1)*D+L,V=(s+1)*(D-1)+L;c.push(B,P,V),c.push(P,I,V)}this.setIndex(c),this.setAttribute("position",new be(h,3)),this.setAttribute("normal",new be(p,3)),this.setAttribute("uv",new be(m,2));function R(D,L,B,P,I){const V=Math.cos(D),U=Math.sin(D),z=B/L*D,X=Math.cos(z);I.x=P*(2+X)*.5*V,I.y=P*(2+X)*U*.5,I.z=P*Math.sin(z)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new G1(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class k1 extends en{constructor(t=new EA(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const o=t.computeFrenetFrames(e,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new Z,h=new Z,p=new Vt;let m=new Z;const v=[],x=[],_=[],T=[];C(),this.setIndex(T),this.setAttribute("position",new be(v,3)),this.setAttribute("normal",new be(x,3)),this.setAttribute("uv",new be(_,2));function C(){for(let D=0;D<e;D++)E(D);E(r===!1?e:0),R(),M()}function E(D){m=t.getPointAt(D/e,m);const L=o.normals[D],B=o.binormals[D];for(let P=0;P<=s;P++){const I=P/s*Math.PI*2,V=Math.sin(I),U=-Math.cos(I);h.x=U*L.x+V*B.x,h.y=U*L.y+V*B.y,h.z=U*L.z+V*B.z,h.normalize(),x.push(h.x,h.y,h.z),c.x=m.x+i*h.x,c.y=m.y+i*h.y,c.z=m.z+i*h.z,v.push(c.x,c.y,c.z)}}function M(){for(let D=1;D<=e;D++)for(let L=1;L<=s;L++){const B=(s+1)*(D-1)+(L-1),P=(s+1)*D+(L-1),I=(s+1)*D+L,V=(s+1)*(D-1)+L;T.push(B,P,V),T.push(P,I,V)}}function R(){for(let D=0;D<=e;D++)for(let L=0;L<=s;L++)p.x=D/e,p.y=L/s,_.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new k1(new Y_[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class gz extends en{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new Z,r=new Z;if(t.index!==null){const o=t.attributes.position,c=t.index;let h=t.groups;h.length===0&&(h=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const v=h[p],x=v.start,_=v.count;for(let T=x,C=x+_;T<C;T+=3)for(let E=0;E<3;E++){const M=c.getX(T+E),R=c.getX(T+(E+1)%3);s.fromBufferAttribute(o,M),r.fromBufferAttribute(o,R),MD(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}}else{const o=t.attributes.position;for(let c=0,h=o.count/3;c<h;c++)for(let p=0;p<3;p++){const m=3*c+p,v=3*c+(p+1)%3;s.fromBufferAttribute(o,m),r.fromBufferAttribute(o,v),MD(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new be(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function MD(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var TD=Object.freeze({__proto__:null,BoxGeometry:bh,CapsuleGeometry:N1,CircleGeometry:L1,ConeGeometry:U1,CylinderGeometry:Pp,DodecahedronGeometry:O1,EdgesGeometry:hz,ExtrudeGeometry:z1,IcosahedronGeometry:B1,LatheGeometry:W0,OctahedronGeometry:Y0,PlaneGeometry:zp,PolyhedronGeometry:zu,RingGeometry:V1,ShapeGeometry:I1,SphereGeometry:Z0,TetrahedronGeometry:F1,TorusGeometry:H1,TorusKnotGeometry:G1,TubeGeometry:k1,WireframeGeometry:gz});class vz extends ta{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new fe(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class yz extends Ao{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class wA extends ta{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ou,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ga,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class xz extends wA{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qe(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new fe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class _z extends ta{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new fe(16777215),this.specular=new fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ou,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ga,this.combine=G0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Sz extends ta{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ou,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class bz extends ta{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ou,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class Mz extends ta{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ou,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ga,this.combine=G0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class CA extends ta{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=UP,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class RA extends ta{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class Tz extends ta{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ou,this.normalScale=new Vt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Ez extends _a{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function sh(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function Az(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function wz(n){function t(s,r){return n[s]-n[r]}const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function mT(n,t,e){const i=n.length,s=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const c=e[r]*t;for(let h=0;h!==t;++h)s[o++]=n[c+h]}return s}function DA(n,t,e,i){let s=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[s++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(t.push(r.time),e.push.apply(e,o)),r=n[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(t.push(r.time),o.toArray(e,e.length)),r=n[s++];while(r!==void 0);else do o=r[i],o!==void 0&&(t.push(r.time),e.push(o)),r=n[s++];while(r!==void 0)}function YX(n,t,e,i,s=30){const r=n.clone();r.name=t;const o=[];for(let h=0;h<r.tracks.length;++h){const p=r.tracks[h],m=p.getValueSize(),v=[],x=[];for(let _=0;_<p.times.length;++_){const T=p.times[_]*s;if(!(T<e||T>=i)){v.push(p.times[_]);for(let C=0;C<m;++C)x.push(p.values[_*m+C])}}v.length!==0&&(p.times=sh(v,p.times.constructor),p.values=sh(x,p.values.constructor),o.push(p))}r.tracks=o;let c=1/0;for(let h=0;h<r.tracks.length;++h)c>r.tracks[h].times[0]&&(c=r.tracks[h].times[0]);for(let h=0;h<r.tracks.length;++h)r.tracks[h].shift(-1*c);return r.resetDuration(),r}function ZX(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let o=0;o<s;++o){const c=e.tracks[o],h=c.ValueTypeName;if(h==="bool"||h==="string")continue;const p=n.tracks.find(function(M){return M.name===c.name&&M.ValueTypeName===h});if(p===void 0)continue;let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let x=0;const _=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=_/3);const T=c.times.length-1;let C;if(r<=c.times[0]){const M=m,R=v-m;C=c.values.slice(M,R)}else if(r>=c.times[T]){const M=T*v+m,R=M+v-m;C=c.values.slice(M,R)}else{const M=c.createInterpolant(),R=m,D=v-m;M.evaluate(r),C=M.resultBuffer.slice(R,D)}h==="quaternion"&&new ts().fromArray(C).normalize().conjugate().toArray(C);const E=p.times.length;for(let M=0;M<E;++M){const R=M*_+x;if(h==="quaternion")ts.multiplyQuaternionsFlat(p.values,R,C,0,p.values,R);else{const D=_-x*2;for(let L=0;L<D;++L)p.values[R+L]-=C[L]}}}return n.blendMode=fA,n}const KX={convertArray:sh,isTypedArray:Az,getKeyframeOrder:wz,sortedArray:mT,flattenJSON:DA,subclip:YX,makeClipAdditive:ZX};class K0{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];t:{e:{let o;n:{i:if(!(t<s)){for(let c=i+2;;){if(s===void 0){if(t<r)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(r=s,s=e[++i],t<s)break e}o=e.length;break n}if(!(t>=r)){const c=e[1];t<c&&(i=2,r=c);for(let h=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(s=r,r=e[--i-1],t>=r)break e}o=i,i=0;break n}break t}for(;i<o;){const c=i+o>>>1;t<e[c]?o=c:i=c+1}if(s=e[i],r=e[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let o=0;o!==s;++o)e[o]=i[r+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Cz extends K0{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:eh,endingEnd:eh}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,o=t+1,c=s[r],h=s[o];if(c===void 0)switch(this.getSettings_().endingStart){case nh:r=t,c=2*e-i;break;case g0:r=s.length-2,c=e+s[r]-s[r+1];break;default:r=t,c=i}if(h===void 0)switch(this.getSettings_().endingEnd){case nh:o=t,h=2*i-e;break;case g0:o=1,h=i+s[1]-s[0];break;default:o=t-1,h=e}const p=(i-e)*.5,m=this.valueSize;this._weightPrev=p/(e-c),this._weightNext=p/(h-i),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=t*c,p=h-c,m=this._offsetPrev,v=this._offsetNext,x=this._weightPrev,_=this._weightNext,T=(i-e)/(s-e),C=T*T,E=C*T,M=-x*E+2*x*C-x*T,R=(1+x)*E+(-1.5-2*x)*C+(-.5+x)*T+1,D=(-1-_)*E+(1.5+_)*C+.5*T,L=_*E-_*C;for(let B=0;B!==c;++B)r[B]=M*o[m+B]+R*o[p+B]+D*o[h+B]+L*o[v+B];return r}}class NA extends K0{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=t*c,p=h-c,m=(i-e)/(s-e),v=1-m;for(let x=0;x!==c;++x)r[x]=o[p+x]*v+o[h+x]*m;return r}}class Rz extends K0{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Co{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=sh(e,this.TimeBufferType),this.values=sh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:sh(t.times,Array),values:sh(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new Rz(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new NA(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Cz(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case m0:e=this.InterpolantFactoryMethodDiscrete;break;case X_:e=this.InterpolantFactoryMethodLinear;break;case Wx:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return m0;case this.InterpolantFactoryMethodLinear:return X_;case this.InterpolantFactoryMethodSmooth:return Wx}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<t;)++r;for(;o!==-1&&i[o]>e;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const c=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*c,o*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let c=0;c!==r;c++){const h=i[c];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,h),t=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,h,o),t=!1;break}o=h}if(s!==void 0&&Az(s))for(let c=0,h=s.length;c!==h;++c){const p=s[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Wx,r=t.length-1;let o=1;for(let c=1;c<r;++c){let h=!1;const p=t[c],m=t[c+1];if(p!==m&&(c!==1||p!==t[0]))if(s)h=!0;else{const v=c*i,x=v-i,_=v+i;for(let T=0;T!==i;++T){const C=e[v+T];if(C!==e[x+T]||C!==e[_+T]){h=!0;break}}}if(h){if(c!==o){t[o]=t[c];const v=c*i,x=o*i;for(let _=0;_!==i;++_)e[x+_]=e[v+_]}++o}}if(r>0){t[o]=t[r];for(let c=r*i,h=o*i,p=0;p!==i;++p)e[h+p]=e[c+p];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Co.prototype.TimeBufferType=Float32Array;Co.prototype.ValueBufferType=Float32Array;Co.prototype.DefaultInterpolation=X_;class Mh extends Co{constructor(t,e,i){super(t,e,i)}}Mh.prototype.ValueTypeName="bool";Mh.prototype.ValueBufferType=Array;Mh.prototype.DefaultInterpolation=m0;Mh.prototype.InterpolantFactoryMethodLinear=void 0;Mh.prototype.InterpolantFactoryMethodSmooth=void 0;class LA extends Co{}LA.prototype.ValueTypeName="color";class E0 extends Co{}E0.prototype.ValueTypeName="number";class Dz extends K0{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,h=(i-e)/(s-e);let p=t*c;for(let m=p+c;p!==m;p+=4)ts.slerpFlat(r,0,o,p-c,o,p,h);return r}}class Q0 extends Co{InterpolantFactoryMethodLinear(t){return new Dz(this.times,this.values,this.getValueSize(),t)}}Q0.prototype.ValueTypeName="quaternion";Q0.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends Co{constructor(t,e,i){super(t,e,i)}}Th.prototype.ValueTypeName="string";Th.prototype.ValueBufferType=Array;Th.prototype.DefaultInterpolation=m0;Th.prototype.InterpolantFactoryMethodLinear=void 0;Th.prototype.InterpolantFactoryMethodSmooth=void 0;class A0 extends Co{}A0.prototype.ValueTypeName="vector";class w0{constructor(t="",e=-1,i=[],s=S1){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=or(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let o=0,c=i.length;o!==c;++o)e.push($X(i[o]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,o=i.length;r!==o;++r)e.push(Co.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,o=[];for(let c=0;c<r;c++){let h=[],p=[];h.push((c+r-1)%r,c,(c+1)%r),p.push(0,1,0);const m=wz(h);h=mT(h,1,m),p=mT(p,1,m),!s&&h[0]===0&&(h.push(r),p.push(p[0])),o.push(new E0(".morphTargetInfluences["+e[c].name+"]",h,p).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let c=0,h=t.length;c<h;c++){const p=t[c],m=p.name.match(r);if(m&&m.length>1){const v=m[1];let x=s[v];x||(s[v]=x=[]),x.push(p)}}const o=[];for(const c in s)o.push(this.CreateFromMorphTargetSequence(c,s[c],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,x,_,T,C){if(_.length!==0){const E=[],M=[];DA(_,E,M,T),E.length!==0&&C.push(new v(x,E,M))}},s=[],r=t.name||"default",o=t.fps||30,c=t.blendMode;let h=t.length||-1;const p=t.hierarchy||[];for(let v=0;v<p.length;v++){const x=p[v].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const _={};let T;for(T=0;T<x.length;T++)if(x[T].morphTargets)for(let C=0;C<x[T].morphTargets.length;C++)_[x[T].morphTargets[C]]=-1;for(const C in _){const E=[],M=[];for(let R=0;R!==x[T].morphTargets.length;++R){const D=x[T];E.push(D.time),M.push(D.morphTarget===C?1:0)}s.push(new E0(".morphTargetInfluence["+C+"]",E,M))}h=_.length*o}else{const _=".bones["+e[v].name+"]";i(A0,_+".position",x,"pos",s),i(Q0,_+".quaternion",x,"rot",s),i(A0,_+".scale",x,"scl",s)}}return s.length===0?null:new this(r,h,s,c)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function QX(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return E0;case"vector":case"vector2":case"vector3":case"vector4":return A0;case"color":return LA;case"quaternion":return Q0;case"bool":case"boolean":return Mh;case"string":return Th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function $X(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=QX(n.type);if(n.times===void 0){const e=[],i=[];DA(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const hc={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class UA{constructor(t,e,i){const s=this;let r=!1,o=0,c=0,h;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){c++,r===!1&&s.onStart!==void 0&&s.onStart(m,o,c),r=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,c),o===c&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,x=p.length;v<x;v+=2){const _=p[v],T=p[v+1];if(_.global&&(_.lastIndex=0),_.test(m))return T}return null}}}const up=new UA;let ka=class{constructor(t){this.manager=t!==void 0?t:up,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}};ka.DEFAULT_MATERIAL_NAME="__DEFAULT";const rc={};class JX extends Error{constructor(t,e){super(t),this.response=e}}class Sc extends ka{constructor(t){super(t)}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=hc.get(t);if(r!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(rc[t]!==void 0){rc[t].push({onLoad:e,onProgress:i,onError:s});return}rc[t]=[],rc[t].push({onLoad:e,onProgress:i,onError:s});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,h=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=rc[t],v=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),_=x?parseInt(x):0,T=_!==0;let C=0;const E=new ReadableStream({start(M){R();function R(){v.read().then(({done:D,value:L})=>{if(D)M.close();else{C+=L.byteLength;const B=new ProgressEvent("progress",{lengthComputable:T,loaded:C,total:_});for(let P=0,I=m.length;P<I;P++){const V=m[P];V.onProgress&&V.onProgress(B)}M.enqueue(L),R()}},D=>{M.error(D)})}}});return new Response(E)}else throw new JX(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c===void 0)return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(c),x=v&&v[1]?v[1].toLowerCase():void 0,_=new TextDecoder(x);return p.arrayBuffer().then(T=>_.decode(T))}}}).then(p=>{hc.add(t,p);const m=rc[t];delete rc[t];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onLoad&&_.onLoad(p)}}).catch(p=>{const m=rc[t];if(m===void 0)throw this.manager.itemError(t),p;delete rc[t];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onError&&_.onError(p)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class tq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Sc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(c){try{e(r.parse(JSON.parse(c)))}catch(h){s?s(h):console.error(h),r.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=w0.parse(t[i]);e.push(s)}return e}}class eq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=this,o=[],c=new R1,h=new Sc(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(r.withCredentials);let p=0;function m(v){h.load(t[v],function(x){const _=r.parse(x,!0);o[v]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},p+=1,p===6&&(_.mipmapCount===1&&(c.minFilter=$i),c.image=o,c.format=_.format,c.needsUpdate=!0,e&&e(c))},i,s)}if(Array.isArray(t))for(let v=0,x=t.length;v<x;++v)m(v);else h.load(t,function(v){const x=r.parse(v,!0);if(x.isCubemap){const _=x.mipmaps.length/x.mipmapCount;for(let T=0;T<_;T++){o[T]={mipmaps:[]};for(let C=0;C<x.mipmapCount;C++)o[T].mipmaps.push(x.mipmaps[T*x.mipmapCount+C]),o[T].format=x.format,o[T].width=x.width,o[T].height=x.height}c.image=o}else c.image.width=x.width,c.image.height=x.height,c.mipmaps=x.mipmaps;x.mipmapCount===1&&(c.minFilter=$i),c.format=x.format,c.needsUpdate=!0,e&&e(c)},i,s);return c}}class C0 extends ka{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=hc.get(t);if(o!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const c=_0("img");function h(){m(),hc.add(t,this),e&&e(this),r.manager.itemEnd(t)}function p(v){m(),s&&s(v),r.manager.itemError(t),r.manager.itemEnd(t)}function m(){c.removeEventListener("load",h,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",h,!1),c.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),r.manager.itemStart(t),c.src=t,c}}class nq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=new X0;r.colorSpace=Zs;const o=new C0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function h(p){o.load(t[p],function(m){r.images[p]=m,c++,c===6&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let p=0;p<t.length;++p)h(p);return r}}class iq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new xl,c=new Sc(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(r.withCredentials),c.load(t,function(h){let p;try{p=r.parse(h)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:Nr,o.wrapT=p.wrapT!==void 0?p.wrapT:Nr,o.magFilter=p.magFilter!==void 0?p.magFilter:$i,o.minFilter=p.minFilter!==void 0?p.minFilter:$i,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=dl),p.mipmapCount===1&&(o.minFilter=$i),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,e&&e(o,p)},i,s),o}}class sq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=new Ni,o=new C0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(c){r.image=c,r.needsUpdate=!0,e!==void 0&&e(r)},i,s),r}}class Bu extends An{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new fe(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class Nz extends Bu{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.groundColor=new fe(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const Fb=new Ve,ED=new Z,AD=new Z;class OA{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vt(512,512),this.map=null,this.mapPass=null,this.matrix=new Ve,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new q0,this._frameExtents=new Vt(1,1),this._viewportCount=1,this._viewports=[new pn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;ED.setFromMatrixPosition(t.matrixWorld),e.position.copy(ED),AD.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(AD),e.updateMatrixWorld(),Fb.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Fb),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Fb)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class aq extends OA{constructor(){super(new ji(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=_p*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Lz extends Bu{constructor(t,e,i=0,s=Math.PI/3,r=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new aq}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const wD=new Ve,mg=new Z,Hb=new Z;class rq extends OA{constructor(){super(new ji(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vt(4,2),this._viewportCount=6,this._viewports=[new pn(2,1,1,1),new pn(0,1,1,1),new pn(3,1,1,1),new pn(1,1,1,1),new pn(3,0,1,1),new pn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),mg.setFromMatrixPosition(t.matrixWorld),i.position.copy(mg),Hb.copy(i.position),Hb.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(Hb),i.updateMatrixWorld(),s.makeTranslation(-mg.x,-mg.y,-mg.z),wD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wD)}}class Uz extends Bu{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new rq}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Eh extends T1{constructor(t=-1,e=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,o=i+t,c=s+e,h=s-e;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=p*this.view.offsetX,o=r+p*this.view.width,c-=m*this.view.offsetY,h=c-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,c,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class oq extends OA{constructor(){super(new Eh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Oz extends Bu{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.shadow=new oq}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Pz extends Bu{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class zz extends Bu{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class Bz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Z)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*s),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*s)),e.addScaledVector(o[5],1.092548*(s*r)),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],1.092548*(i*r)),e.addScaledVector(o[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*s),e.addScaledVector(o[2],2*.511664*r),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*s),e.addScaledVector(o[5],2*.429043*s*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],2*.429043*i*r),e.addScaledVector(o[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}class Vz extends Bu{constructor(t=new Bz,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class j1 extends ka{constructor(t){super(t),this.textures={}}load(t,e,i,s){const r=this,o=new Sc(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(c){try{e(r.parse(JSON.parse(c)))}catch(h){s?s(h):console.error(h),r.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(r){return e[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),e[r]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new fe().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const r in t.uniforms){const o=t.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=i(o.value);break;case"c":s.uniforms[r].value=new fe().setHex(o.value);break;case"v2":s.uniforms[r].value=new Vt().fromArray(o.value);break;case"v3":s.uniforms[r].value=new Z().fromArray(o.value);break;case"v4":s.uniforms[r].value=new pn().fromArray(o.value);break;case"m3":s.uniforms[r].value=new We().fromArray(o.value);break;case"m4":s.uniforms[r].value=new Ve().fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const r in t.extensions)s.extensions[r]=t.extensions[r];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let r=t.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Vt().fromArray(r)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Vt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return j1.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:vz,SpriteMaterial:vA,RawShaderMaterial:yz,ShaderMaterial:Ao,PointsMaterial:xA,MeshPhysicalMaterial:xz,MeshStandardMaterial:wA,MeshPhongMaterial:_z,MeshToonMaterial:Sz,MeshNormalMaterial:bz,MeshLambertMaterial:Mz,MeshDepthMaterial:CA,MeshDistanceMaterial:RA,MeshBasicMaterial:Pu,MeshMatcapMaterial:Tz,LineDashedMaterial:Ez,LineBasicMaterial:_a,Material:ta};return new e[t]}}class gT{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Iz extends en{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class Fz extends ka{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Sc(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(c){try{e(r.parse(JSON.parse(c)))}catch(h){s?s(h):console.error(h),r.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(_,T){if(e[T]!==void 0)return e[T];const E=_.interleavedBuffers[T],M=r(_,E.buffer),R=op(E.type,M),D=new w1(R,E.stride);return D.uuid=E.uuid,e[T]=D,D}function r(_,T){if(i[T]!==void 0)return i[T];const E=_.arrayBuffers[T],M=new Uint32Array(E).buffer;return i[T]=M,M}const o=t.isInstancedBufferGeometry?new Iz:new en,c=t.data.index;if(c!==void 0){const _=op(c.type,c.array);o.setIndex(new qn(_,1))}const h=t.data.attributes;for(const _ in h){const T=h[_];let C;if(T.isInterleavedBufferAttribute){const E=s(t.data,T.data);C=new yh(E,T.itemSize,T.offset,T.normalized)}else{const E=op(T.type,T.array),M=T.isInstancedBufferAttribute?Mp:qn;C=new M(E,T.itemSize,T.normalized)}T.name!==void 0&&(C.name=T.name),T.usage!==void 0&&C.setUsage(T.usage),o.setAttribute(_,C)}const p=t.data.morphAttributes;if(p)for(const _ in p){const T=p[_],C=[];for(let E=0,M=T.length;E<M;E++){const R=T[E];let D;if(R.isInterleavedBufferAttribute){const L=s(t.data,R.data);D=new yh(L,R.itemSize,R.offset,R.normalized)}else{const L=op(R.type,R.array);D=new qn(L,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),C.push(D)}o.morphAttributes[_]=C}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let _=0,T=v.length;_!==T;++_){const C=v[_];o.addGroup(C.start,C.count,C.materialIndex)}const x=t.data.boundingSphere;if(x!==void 0){const _=new Z;x.center!==void 0&&_.fromArray(x.center),o.boundingSphere=new Js(_,x.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class lq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=this,o=this.path===""?gT.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const c=new Sc(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(h){let p=null;try{p=JSON.parse(h)}catch(v){s!==void 0&&s(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}r.parse(p,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?gT.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const r=new Sc(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(t,e),c=JSON.parse(o),h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(c)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,s),o=this.parseImages(t.images,function(){e!==void 0&&e(p)}),c=this.parseTextures(t.textures,o),h=this.parseMaterials(t.materials,c),p=this.parseObject(t.object,r,h,c,i),m=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),e!==void 0){let v=!1;for(const x in o)if(o[x].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),r=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,r),c=this.parseMaterials(t.materials,o),h=this.parseObject(t.object,s,c,o,e),p=this.parseSkeletons(t.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const r=new dh().fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),t!==void 0)for(let r=0,o=t.length;r<o;r++){const c=new C1().fromJSON(t[r],s);i[c.uuid]=c}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new Fz;for(let r=0,o=t.length;r<o;r++){let c;const h=t[r];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(h);break;default:h.type in TD?c=TD[h.type].fromJSON(h,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}c.uuid=h.uuid,h.name!==void 0&&(c.name=h.name),h.userData!==void 0&&(c.userData=h.userData),i[h.uuid]=c}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const r=new j1;r.setTextures(e);for(let o=0,c=t.length;o<c;o++){const h=t[o];i[h.uuid]===void 0&&(i[h.uuid]=r.parse(h)),s[h.uuid]=i[h.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],r=w0.parse(s);e[r.uuid]=r}return e}parseImages(t,e){const i=this,s={};let r;function o(h){return i.manager.itemStart(h),r.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function c(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return o(m)}else return h.data?{data:op(h.type,h.data),width:h.width,height:h.height}:null}if(t!==void 0&&t.length>0){const h=new UA(e);r=new C0(h),r.setCrossOrigin(this.crossOrigin);for(let p=0,m=t.length;p<m;p++){const v=t[p],x=v.url;if(Array.isArray(x)){const _=[];for(let T=0,C=x.length;T<C;T++){const E=x[T],M=c(E);M!==null&&(M instanceof HTMLImageElement?_.push(M):_.push(new xl(M.data,M.width,M.height)))}s[v.uuid]=new ih(_)}else{const _=c(v.url);s[v.uuid]=new ih(_)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function r(o){if(typeof o=="string"){const c=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:e.resourcePath+c;return await s.loadAsync(h)}else return o.data?{data:op(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){s=new C0(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,c=t.length;o<c;o++){const h=t[o],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],T=await r(_);T!==null&&(T instanceof HTMLImageElement?m.push(T):m.push(new xl(T.data,T.width,T.height)))}i[h.uuid]=new ih(m)}else{const m=await r(h.url);i[h.uuid]=new ih(m)}}}return i}parseTextures(t,e){function i(r,o){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(t!==void 0)for(let r=0,o=t.length;r<o;r++){const c=t[r];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),e[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const h=e[c.image],p=h.data;let m;Array.isArray(p)?(m=new X0,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new xl:m=new Ni,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,cq)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],CD),m.wrapT=i(c.wrap[1],CD)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,RD)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,RD)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(t,e,i,s,r){let o;function c(x){return e[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),e[x]}function h(x){if(x!==void 0){if(Array.isArray(x)){const _=[];for(let T=0,C=x.length;T<C;T++){const E=x[T];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(i[E])}return _}return i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),i[x]}}function p(x){return s[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),s[x]}let m,v;switch(t.type){case"Scene":o=new gA,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new fe(t.background):o.background=p(t.background)),t.environment!==void 0&&(o.environment=p(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new A1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new E1(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new ji(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Eh(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new Pz(t.color,t.intensity);break;case"DirectionalLight":o=new Oz(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new Uz(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new zz(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Lz(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new Nz(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new Vz().fromJSON(t);break;case"SkinnedMesh":m=c(t.geometry),v=h(t.material),o=new ez(m,v),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":m=c(t.geometry),v=h(t.material),o=new Xi(m,v);break;case"InstancedMesh":m=c(t.geometry),v=h(t.material);const x=t.count,_=t.instanceMatrix,T=t.instanceColor;o=new nz(m,v,x),o.instanceMatrix=new Mp(new Float32Array(_.array),16),T!==void 0&&(o.instanceColor=new Mp(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":m=c(t.geometry),v=h(t.material),o=new iz(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),o.geometry=m,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._visibility=t.visibility,o._active=t.active,o._bounds=t.bounds.map(C=>{const E=new xa;E.min.fromArray(C.boxMin),E.max.fromArray(C.boxMax);const M=new Js;return M.radius=C.sphereRadius,M.center.fromArray(C.sphereCenter),{boxInitialized:C.boxInitialized,box:E,sphereInitialized:C.sphereInitialized,sphere:M}}),o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._geometryCount=t.geometryCount,o._matricesTexture=p(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=p(t.colorsTexture.uuid));break;case"LOD":o=new tz;break;case"Line":o=new Nu(c(t.geometry),h(t.material));break;case"LineLoop":o=new sz(c(t.geometry),h(t.material));break;case"LineSegments":o=new El(c(t.geometry),h(t.material));break;case"PointCloud":case"Points":o=new az(c(t.geometry),h(t.material));break;case"Sprite":o=new JP(h(t.material));break;case"Group":o=new lp;break;case"Bone":o=new yA;break;default:o=new An}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const x=t.children;for(let _=0;_<x.length;_++)o.add(this.parseObject(x[_],e,i,s,r))}if(t.animations!==void 0){const x=t.animations;for(let _=0;_<x.length;_++){const T=x[_];o.animations.push(r[T])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const x=t.levels;for(let _=0;_<x.length;_++){const T=x[_],C=o.getObjectByProperty("uuid",T.object);C!==void 0&&o.addLevel(C,T.distance,T.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new An}})}}const cq={UVMapping:p1,CubeReflectionMapping:xc,CubeRefractionMapping:Ru,EquirectangularReflectionMapping:f0,EquirectangularRefractionMapping:h0,CubeUVReflectionMapping:Lp},CD={RepeatWrapping:d0,ClampToEdgeWrapping:Nr,MirroredRepeatWrapping:p0},RD={NearestFilter:Us,NearestMipmapNearestFilter:eA,NearestMipmapLinearFilter:rp,LinearFilter:$i,LinearMipmapNearestFilter:Hg,LinearMipmapLinearFilter:dl};class uq extends ka{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=hc.get(t);if(o!==void 0){if(r.manager.itemStart(t),o.then){o.then(p=>{e&&e(p),r.manager.itemEnd(t)}).catch(p=>{s&&s(p)});return}return setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const h=fetch(t,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(p){return hc.add(t,p),e&&e(p),r.manager.itemEnd(t),p}).catch(function(p){s&&s(p),hc.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)});hc.add(t,h),r.manager.itemStart(t)}}let Sx;class PA{static getContext(){return Sx===void 0&&(Sx=new(window.AudioContext||window.webkitAudioContext)),Sx}static setContext(t){Sx=t}}class fq extends ka{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Sc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(h){try{const p=h.slice(0);PA.getContext().decodeAudioData(p,function(v){e(v)}).catch(c)}catch(p){c(p)}},i,s);function c(h){s?s(h):console.error(h),r.manager.itemError(t)}}}const DD=new Ve,ND=new Ve,zf=new Ve;class hq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ji,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ji,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,zf.copy(t.projectionMatrix);const s=e.eyeSep/2,r=s*e.near/e.focus,o=e.near*Math.tan(hh*e.fov*.5)/e.zoom;let c,h;ND.elements[12]=-s,DD.elements[12]=s,c=-o*e.aspect+r,h=o*e.aspect+r,zf.elements[0]=2*e.near/(h-c),zf.elements[8]=(h+c)/(h-c),this.cameraL.projectionMatrix.copy(zf),c=-o*e.aspect-r,h=o*e.aspect-r,zf.elements[0]=2*e.near/(h-c),zf.elements[8]=(h+c)/(h-c),this.cameraR.projectionMatrix.copy(zf)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(ND),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(DD)}}class Hz extends ji{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class zA{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=LD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=LD();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function LD(){return performance.now()}const Bf=new Z,UD=new ts,dq=new Z,Vf=new Z;class pq extends An{constructor(){super(),this.type="AudioListener",this.context=PA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bf,UD,dq),Vf.set(0,0,-1).applyQuaternion(UD),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Bf.x,s),e.positionY.linearRampToValueAtTime(Bf.y,s),e.positionZ.linearRampToValueAtTime(Bf.z,s),e.forwardX.linearRampToValueAtTime(Vf.x,s),e.forwardY.linearRampToValueAtTime(Vf.y,s),e.forwardZ.linearRampToValueAtTime(Vf.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(Bf.x,Bf.y,Bf.z),e.setOrientation(Vf.x,Vf.y,Vf.z,i.x,i.y,i.z)}}class Gz extends An{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const If=new Z,OD=new ts,mq=new Z,Ff=new Z;class gq extends Gz{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(If,OD,mq),Ff.set(0,0,1).applyQuaternion(OD);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(If.x,i),e.positionY.linearRampToValueAtTime(If.y,i),e.positionZ.linearRampToValueAtTime(If.z,i),e.orientationX.linearRampToValueAtTime(Ff.x,i),e.orientationY.linearRampToValueAtTime(Ff.y,i),e.orientationZ.linearRampToValueAtTime(Ff.z,i)}else e.setPosition(If.x,If.y,If.z),e.setOrientation(Ff.x,Ff.y,Ff.z)}}class vq{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class kz{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,r,o;switch(e){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==s;++c)i[r+c]=i[c];o=e}else{o+=e;const c=e/o;this._mixBufferRegion(i,r,0,c,s)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const h=e*this._origIndex;this._mixBufferRegion(i,s,h,1-r,e)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let h=e,p=e+e;h!==p;++h)if(i[h]!==i[h+e]){c.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let r=i,o=s;r!==o;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)t[e+o]=t[i+o]}_slerp(t,e,i,s){ts.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const o=this._workIndex*r;ts.multiplyQuaternionsFlat(t,o,t,e,t,i),ts.slerpFlat(t,e,t,e,t,o,s)}_lerp(t,e,i,s,r){const o=1-s;for(let c=0;c!==r;++c){const h=e+c;t[h]=t[h]*o+t[i+c]*s}}_lerpAdditive(t,e,i,s,r){for(let o=0;o!==r;++o){const c=e+o;t[c]=t[c]+t[i+o]*s}}}const BA="\\[\\]\\.:\\/",yq=new RegExp("["+BA+"]","g"),VA="[^"+BA+"]",xq="[^"+BA.replace("\\.","")+"]",_q=/((?:WC+[\/:])*)/.source.replace("WC",VA),Sq=/(WCOD+)?/.source.replace("WCOD",xq),bq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",VA),Mq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",VA),Tq=new RegExp("^"+_q+Sq+bq+Mq+"$"),Eq=["material","materials","bones","map"];class Aq{constructor(t,e,i){const s=i||Tn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Tn{constructor(t,e,i){this.path=e,this.parsedPath=i||Tn.parseTrackName(e),this.node=Tn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Tn.Composite(t,e,i):new Tn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(yq,"")}static parseTrackName(t){const e=Tq.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);Eq.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(r){for(let o=0;o<r.length;o++){const c=r[o];if(c.name===e||c.uuid===e)return c;const h=i(c.children);if(h)return h}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let r=e.propertyIndex;if(t||(t=Tn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===p){p=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(p!==void 0){if(t[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const o=t[s];if(o===void 0){const p=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",t);return}let c=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?c=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[r]!==void 0&&(r=t.morphTargetDictionary[r])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=Aq;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class wq{constructor(){this.isAnimationObjectGroup=!0,this.uuid=or(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let c,h=t.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const x=arguments[m],_=x.uuid;let T=e[_];if(T===void 0){T=h++,e[_]=T,t.push(x);for(let C=0,E=o;C!==E;++C)r[C].push(new Tn(x,i[C],s[C]))}else if(T<p){c=t[T];const C=--p,E=t[C];e[E.uuid]=T,t[T]=E,e[_]=C,t[C]=x;for(let M=0,R=o;M!==R;++M){const D=r[M],L=D[C];let B=D[T];D[T]=L,B===void 0&&(B=new Tn(x,i[M],s[M])),D[C]=B}}else t[T]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const h=arguments[o],p=h.uuid,m=e[p];if(m!==void 0&&m>=r){const v=r++,x=t[v];e[x.uuid]=m,t[m]=x,e[p]=v,t[v]=h;for(let _=0,T=s;_!==T;++_){const C=i[_],E=C[v],M=C[m];C[m]=E,C[v]=M}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,o=t.length;for(let c=0,h=arguments.length;c!==h;++c){const p=arguments[c],m=p.uuid,v=e[m];if(v!==void 0)if(delete e[m],v<r){const x=--r,_=t[x],T=--o,C=t[T];e[_.uuid]=v,t[v]=_,e[C.uuid]=x,t[x]=C,t.pop();for(let E=0,M=s;E!==M;++E){const R=i[E],D=R[x],L=R[T];R[v]=D,R[x]=L,R.pop()}}else{const x=--o,_=t[x];x>0&&(e[_.uuid]=v),t[v]=_,t.pop();for(let T=0,C=s;T!==C;++T){const E=i[T];E[v]=E[x],E.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const r=this._bindings;if(s!==void 0)return r[s];const o=this._paths,c=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,v=new Array(p);s=r.length,i[t]=s,o.push(t),c.push(e),r.push(v);for(let x=m,_=h.length;x!==_;++x){const T=h[x];v[x]=new Tn(T,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,r=this._parsedPaths,o=this._bindings,c=o.length-1,h=o[c],p=t[c];e[p]=i,o[i]=h,o.pop(),r[i]=r[c],r.pop(),s[i]=s[c],s.pop()}}}class jz{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,o=r.length,c=new Array(o),h={endingStart:eh,endingEnd:eh};for(let p=0;p!==o;++p){const m=r[p].createInterpolant(null);c[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=NP,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,o=r/s,c=s/r;t.warp(1,o,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const h=c.parameterPositions,p=c.sampleValues;return h[0]=r,h[1]=r+i,p[0]=t/o,p[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const r=this._startTime;if(r!==null){const h=(t-r)*i;h<0||i===0?e=0:(this._startTime=null,e=i*h)}e*=this._updateTimeScale(t);const o=this._updateTime(e),c=this._updateWeight(t);if(c>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case fA:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(o),p[m].accumulateAdditive(c);break;case S1:default:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(o),p[m].accumulate(s,c)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const o=i===LP;if(t===0)return r===-1?s:o&&(r&1)===1?e-s:s;if(i===DP){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(r===-1&&(t>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=e||s<0){const c=Math.floor(s/e);s-=e*c,r+=Math.abs(c);const h=this.repetitions-r;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const p=t<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(o&&(r&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=nh,s.endingEnd=nh):(t?s.endingStart=this.zeroSlopeAtStart?nh:eh:s.endingStart=g0,e?s.endingEnd=this.zeroSlopeAtEnd?nh:eh:s.endingEnd=g0)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,h=o.sampleValues;return c[0]=r,h[0]=e,c[1]=r+t,h[1]=i,this}}const Cq=new Float32Array(1);class Rq extends Tl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,o=t._propertyBindings,c=t._interpolants,h=i.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let v=0;v!==r;++v){const x=s[v],_=x.name;let T=m[_];if(T!==void 0)++T.referenceCount,o[v]=T;else{if(T=o[v],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,h,_));continue}const C=e&&e._propertyBindings[v].binding.parsedPath;T=new kz(Tn.create(i,_,C),x.ValueTypeName,x.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,h,_),o[v]=T}c[v].resultBuffer=T.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let o=r[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const c=o.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=s.length,s.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,c=o[r],h=c.knownActions,p=h[h.length-1],m=t._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),t._byClipCacheIndex=null;const v=c.actionByRoot,x=(t._localRoot||this._root).uuid;delete v[x],h.length===0&&delete o[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[e];o===void 0&&(o={},s[e]=o),o[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,c=o[s],h=e[e.length-1],p=t._cacheIndex;h._cacheIndex=p,e[p]=h,e.pop(),delete c[r],Object.keys(c).length===0&&delete o[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new NA(new Float32Array(2),new Float32Array(2),1,Cq),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let o=typeof t=="string"?w0.findByName(s,t):t;const c=o!==null?o.uuid:t,h=this._actionsByClip[c];let p=null;if(i===void 0&&(o!==null?i=o.blendMode:i=S1),h!==void 0){const v=h.actionByRoot[r];if(v!==void 0&&v.blendMode===i)return v;p=h.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new jz(this,o,e,i);return this._bindAction(m,p),this._addInactiveAction(m,c,r),m}existingAction(t,e){const i=e||this._root,s=i.uuid,r=typeof t=="string"?w0.findByName(i,t):t,o=r?r.uuid:t,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let p=0;p!==i;++p)e[p]._update(s,t,r,o);const c=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)c[p].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const o=r.knownActions;for(let c=0,h=o.length;c!==h;++c){const p=o[c];this._deactivateAction(p);const m=p._cacheIndex,v=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,e[m]=v,e.pop(),this._removeInactiveBindingsForAction(p)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,h=c[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,r=s[e];if(r!==void 0)for(const o in r){const c=r[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Dq extends b1{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new M1(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Nq extends b1{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new j0(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class IA{constructor(t){this.value=t}clone(){return new IA(this.value.clone===void 0?this.value:this.value.clone())}}let Lq=0;class Uq extends Tl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Lq++}),this.name="",this.usage=y0,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const r=Array.isArray(e[i])?e[i]:[e[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Oq extends w1{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class Pq{constructor(t,e,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const PD=new Ve;class Xz{constructor(t,e,i=0,s=1/0){this.ray=new Op(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new Sp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return PD.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(PD),this}intersectObject(t,e=!0,i=[]){return vT(t,this,i,e),i.sort(zD),i}intersectObjects(t,e=!0,i=[]){for(let s=0,r=t.length;s<r;s++)vT(t[s],this,i,e);return i.sort(zD),i}}function zD(n,t){return n.distance-t.distance}function vT(n,t,e,i){let s=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const r=n.children;for(let o=0,c=r.length;o<c;o++)vT(r[o],t,e,!0)}}class qz{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=qe(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(qe(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zq{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class FA{constructor(t,e,i,s){FA.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const r=this.elements;return r[0]=t,r[2]=e,r[1]=i,r[3]=s,this}}const BD=new Vt;class Bq{constructor(t=new Vt(1/0,1/0),e=new Vt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=BD.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,BD).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const VD=new Z,bx=new Z;class Vq{constructor(t=new Z,e=new Z){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){VD.subVectors(t,this.start),bx.subVectors(this.end,this.start);const i=bx.dot(bx);let r=bx.dot(VD)/i;return e&&(r=qe(r,0,1)),r}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ID=new Z;class Iq extends An{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new en,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,h=32;o<h;o++,c++){const p=o/h*Math.PI*2,m=c/h*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new be(s,3));const r=new _a({fog:!1,toneMapped:!1});this.cone=new El(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),ID.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ID),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gu=new Z,Mx=new Ve,Gb=new Ve;class Fq extends El{constructor(t){const e=Wz(t),i=new en,s=[],r=[],o=new fe(0,0,1),c=new fe(0,1,0);for(let p=0;p<e.length;p++){const m=e[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(c.r,c.g,c.b))}i.setAttribute("position",new be(s,3)),i.setAttribute("color",new be(r,3));const h=new _a({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");Gb.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<e.length;r++){const c=e[r];c.parent&&c.parent.isBone&&(Mx.multiplyMatrices(Gb,c.matrixWorld),gu.setFromMatrixPosition(Mx),s.setXYZ(o,gu.x,gu.y,gu.z),Mx.multiplyMatrices(Gb,c.parent.matrixWorld),gu.setFromMatrixPosition(Mx),s.setXYZ(o+1,gu.x,gu.y,gu.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wz(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,Wz(n.children[e]));return t}class Hq extends Xi{constructor(t,e,i){const s=new Z0(e,4,2),r=new Pu({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Gq=new Z,FD=new fe,HD=new fe;class kq extends An{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new Y0(e);s.rotateY(Math.PI*.5),this.material=new Pu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(r.count*3);s.setAttribute("color",new qn(o,3)),this.add(new Xi(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");FD.copy(this.light.color),HD.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const r=i<s/2?FD:HD;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(Gq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class jq extends El{constructor(t=10,e=10,i=4473924,s=8947848){i=new fe(i),s=new fe(s);const r=e/2,o=t/e,c=t/2,h=[],p=[];for(let x=0,_=0,T=-c;x<=e;x++,T+=o){h.push(-c,0,T,c,0,T),h.push(T,0,-c,T,0,c);const C=x===r?i:s;C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3}const m=new en;m.setAttribute("position",new be(h,3)),m.setAttribute("color",new be(p,3));const v=new _a({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xq extends El{constructor(t=10,e=16,i=8,s=64,r=4473924,o=8947848){r=new fe(r),o=new fe(o);const c=[],h=[];if(e>1)for(let v=0;v<e;v++){const x=v/e*(Math.PI*2),_=Math.sin(x)*t,T=Math.cos(x)*t;c.push(0,0,0),c.push(_,0,T);const C=v&1?r:o;h.push(C.r,C.g,C.b),h.push(C.r,C.g,C.b)}for(let v=0;v<i;v++){const x=v&1?r:o,_=t-t/i*v;for(let T=0;T<s;T++){let C=T/s*(Math.PI*2),E=Math.sin(C)*_,M=Math.cos(C)*_;c.push(E,0,M),h.push(x.r,x.g,x.b),C=(T+1)/s*(Math.PI*2),E=Math.sin(C)*_,M=Math.cos(C)*_,c.push(E,0,M),h.push(x.r,x.g,x.b)}}const p=new en;p.setAttribute("position",new be(c,3)),p.setAttribute("color",new be(h,3));const m=new _a({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const GD=new Z,Tx=new Z,kD=new Z;class qq extends An{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new en;s.setAttribute("position",new be([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new _a({fog:!1,toneMapped:!1});this.lightPlane=new Nu(s,r),this.add(this.lightPlane),s=new en,s.setAttribute("position",new be([0,0,0,0,0,1],3)),this.targetLine=new Nu(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),GD.setFromMatrixPosition(this.light.matrixWorld),Tx.setFromMatrixPosition(this.light.target.matrixWorld),kD.subVectors(Tx,GD),this.lightPlane.lookAt(Tx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Tx),this.targetLine.scale.z=kD.length()}}const Ex=new Z,Ci=new T1;class Wq extends El{constructor(t){const e=new en,i=new _a({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(T,C){h(T),h(C)}function h(T){s.push(0,0,0),r.push(0,0,0),o[T]===void 0&&(o[T]=[]),o[T].push(s.length/3-1)}e.setAttribute("position",new be(s,3)),e.setAttribute("color",new be(r,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new fe(16755200),m=new fe(16711680),v=new fe(43775),x=new fe(16777215),_=new fe(3355443);this.setColors(p,m,v,x,_)}setColors(t,e,i,s,r){const c=this.geometry.getAttribute("color");c.setXYZ(0,t.r,t.g,t.b),c.setXYZ(1,t.r,t.g,t.b),c.setXYZ(2,t.r,t.g,t.b),c.setXYZ(3,t.r,t.g,t.b),c.setXYZ(4,t.r,t.g,t.b),c.setXYZ(5,t.r,t.g,t.b),c.setXYZ(6,t.r,t.g,t.b),c.setXYZ(7,t.r,t.g,t.b),c.setXYZ(8,t.r,t.g,t.b),c.setXYZ(9,t.r,t.g,t.b),c.setXYZ(10,t.r,t.g,t.b),c.setXYZ(11,t.r,t.g,t.b),c.setXYZ(12,t.r,t.g,t.b),c.setXYZ(13,t.r,t.g,t.b),c.setXYZ(14,t.r,t.g,t.b),c.setXYZ(15,t.r,t.g,t.b),c.setXYZ(16,t.r,t.g,t.b),c.setXYZ(17,t.r,t.g,t.b),c.setXYZ(18,t.r,t.g,t.b),c.setXYZ(19,t.r,t.g,t.b),c.setXYZ(20,t.r,t.g,t.b),c.setXYZ(21,t.r,t.g,t.b),c.setXYZ(22,t.r,t.g,t.b),c.setXYZ(23,t.r,t.g,t.b),c.setXYZ(24,e.r,e.g,e.b),c.setXYZ(25,e.r,e.g,e.b),c.setXYZ(26,e.r,e.g,e.b),c.setXYZ(27,e.r,e.g,e.b),c.setXYZ(28,e.r,e.g,e.b),c.setXYZ(29,e.r,e.g,e.b),c.setXYZ(30,e.r,e.g,e.b),c.setXYZ(31,e.r,e.g,e.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,s.r,s.g,s.b),c.setXYZ(39,s.r,s.g,s.b),c.setXYZ(40,r.r,r.g,r.b),c.setXYZ(41,r.r,r.g,r.b),c.setXYZ(42,r.r,r.g,r.b),c.setXYZ(43,r.r,r.g,r.b),c.setXYZ(44,r.r,r.g,r.b),c.setXYZ(45,r.r,r.g,r.b),c.setXYZ(46,r.r,r.g,r.b),c.setXYZ(47,r.r,r.g,r.b),c.setXYZ(48,r.r,r.g,r.b),c.setXYZ(49,r.r,r.g,r.b),c.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;Ci.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===bo?-1:0;Pi("c",e,t,Ci,0,0,r),Pi("t",e,t,Ci,0,0,1),Pi("n1",e,t,Ci,-1,-1,r),Pi("n2",e,t,Ci,i,-1,r),Pi("n3",e,t,Ci,-1,s,r),Pi("n4",e,t,Ci,i,s,r),Pi("f1",e,t,Ci,-1,-1,1),Pi("f2",e,t,Ci,i,-1,1),Pi("f3",e,t,Ci,-1,s,1),Pi("f4",e,t,Ci,i,s,1),Pi("u1",e,t,Ci,i*.7,s*1.1,r),Pi("u2",e,t,Ci,-1*.7,s*1.1,r),Pi("u3",e,t,Ci,0,s*2,r),Pi("cf1",e,t,Ci,-1,0,1),Pi("cf2",e,t,Ci,i,0,1),Pi("cf3",e,t,Ci,0,-1,1),Pi("cf4",e,t,Ci,0,s,1),Pi("cn1",e,t,Ci,-1,0,r),Pi("cn2",e,t,Ci,i,0,r),Pi("cn3",e,t,Ci,0,-1,r),Pi("cn4",e,t,Ci,0,s,r),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pi(n,t,e,i,s,r,o){Ex.set(s,r,o).unproject(i);const c=t[n];if(c!==void 0){const h=e.getAttribute("position");for(let p=0,m=c.length;p<m;p++)h.setXYZ(c[p],Ex.x,Ex.y,Ex.z)}}const Ax=new xa;class Yq extends El{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new en;r.setIndex(new qn(i,1)),r.setAttribute("position",new qn(s,3)),super(r,new _a({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ax.setFromObject(this.object),Ax.isEmpty())return;const e=Ax.min,i=Ax.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zq extends El{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new en;r.setIndex(new qn(i,1)),r.setAttribute("position",new be(s,3)),super(r,new _a({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kq extends Nu{constructor(t,e=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new en;o.setAttribute("position",new be(r,3)),o.computeBoundingSphere(),super(o,new _a({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new en;h.setAttribute("position",new be(c,3)),h.computeBoundingSphere(),this.add(new Xi(h,new Pu({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const jD=new Z;let wx,kb;class Qq extends An{constructor(t=new Z(0,0,1),e=new Z(0,0,0),i=1,s=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",wx===void 0&&(wx=new en,wx.setAttribute("position",new be([0,0,0,0,1,0],3)),kb=new Pp(0,.5,1,5,1),kb.translate(0,-.5,0)),this.position.copy(e),this.line=new Nu(wx,new _a({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xi(kb,new Pu({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{jD.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(jD,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $q extends El{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new en;s.setAttribute("position",new be(e,3)),s.setAttribute("color",new be(i,3));const r=new _a({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(t,e,i){const s=new fe,r=this.geometry.attributes.color.array;return s.set(t),s.toArray(r,0),s.toArray(r,3),s.set(e),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jq{constructor(){this.type="ShapePath",this.color=new fe,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new S0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,r,o){return this.currentPath.bezierCurveTo(t,e,i,s,r,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(M){const R=[];for(let D=0,L=M.length;D<L;D++){const B=M[D],P=new dh;P.curves=B.curves,R.push(P)}return R}function i(M,R){const D=R.length;let L=!1;for(let B=D-1,P=0;P<D;B=P++){let I=R[B],V=R[P],U=V.x-I.x,z=V.y-I.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(I=R[P],U=-U,V=R[B],z=-z),M.y<I.y||M.y>V.y)continue;if(M.y===I.y){if(M.x===I.x)return!0}else{const X=z*(M.x-I.x)-U*(M.y-I.y);if(X===0)return!0;if(X<0)continue;L=!L}}else{if(M.y!==I.y)continue;if(V.x<=M.x&&M.x<=I.x||I.x<=M.x&&M.x<=V.x)return!0}}return L}const s=_l.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,c,h;const p=[];if(r.length===1)return c=r[0],h=new dh,h.curves=c.curves,p.push(h),p;let m=!s(r[0].getPoints());m=t?!m:m;const v=[],x=[];let _=[],T=0,C;x[T]=void 0,_[T]=[];for(let M=0,R=r.length;M<R;M++)c=r[M],C=c.getPoints(),o=s(C),o=t?!o:o,o?(!m&&x[T]&&T++,x[T]={s:new dh,p:C},x[T].s.curves=c.curves,m&&T++,_[T]=[]):_[T].push({h:c,p:C[0]});if(!x[0])return e(r);if(x.length>1){let M=!1,R=0;for(let D=0,L=x.length;D<L;D++)v[D]=[];for(let D=0,L=x.length;D<L;D++){const B=_[D];for(let P=0;P<B.length;P++){const I=B[P];let V=!0;for(let U=0;U<x.length;U++)i(I.p,x[U].p)&&(D!==U&&R++,V?(V=!1,v[U].push(I)):M=!0);V&&v[D].push(I)}}R>0&&M===!1&&(_=v)}let E;for(let M=0,R=x.length;M<R;M++){h=x[M].s,p.push(h),E=_[M];for(let D=0,L=E.length;D<L;D++)h.holes.push(E[D].h)}return p}}class tW extends Tl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function eW(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function nW(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function iW(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function yT(n,t,e,i){const s=sW(i);switch(e){case aA:return n*t;case oA:return n*t;case lA:return n*t*2;case y1:return n*t/s.components*s.byteLength;case k0:return n*t/s.components*s.byteLength;case cA:return n*t*2/s.components*s.byteLength;case x1:return n*t*2/s.components*s.byteLength;case rA:return n*t*3/s.components*s.byteLength;case Qs:return n*t*4/s.components*s.byteLength;case _1:return n*t*4/s.components*s.byteLength;case Gg:case kg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case jg:case Xg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case __:case b_:return Math.max(n,16)*Math.max(t,8)/4;case x_:case S_:return Math.max(n,8)*Math.max(t,8)/2;case M_:case T_:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case E_:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case A_:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case w_:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case C_:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case R_:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case D_:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case N_:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case L_:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case U_:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case O_:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case P_:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case z_:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case B_:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case V_:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case I_:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case qg:case F_:case H_:return Math.ceil(n/4)*Math.ceil(t/4)*16;case uA:case G_:return Math.ceil(n/4)*Math.ceil(t/4)*8;case k_:case j_:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function sW(n){switch(n){case Eo:case nA:return{byteLength:1,components:1};case xp:case iA:case Up:return{byteLength:2,components:1};case g1:case v1:return{byteLength:2,components:4};case _c:case m1:case Fa:return{byteLength:4,components:1};case sA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const aW={contain:eW,cover:nW,fill:iW,getByteLength:yT};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:h1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=h1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Yz(){let n=null,t=!1,e=null,i=null;function s(r,o){e(r,o),i=n.requestAnimationFrame(s)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){n=r}}}function rW(n){const t=new WeakMap;function e(c,h){const p=c.array,m=c.usage,v=p.byteLength,x=n.createBuffer();n.bindBuffer(h,x),n.bufferData(h,p,m),c.onUploadCallback();let _;if(p instanceof Float32Array)_=n.FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=n.SHORT;else if(p instanceof Uint32Array)_=n.UNSIGNED_INT;else if(p instanceof Int32Array)_=n.INT;else if(p instanceof Int8Array)_=n.BYTE;else if(p instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:v}}function i(c,h,p){const m=h.array,v=h.updateRanges;if(n.bindBuffer(p,c),v.length===0)n.bufferSubData(p,0,m);else{v.sort((_,T)=>_.start-T.start);let x=0;for(let _=1;_<v.length;_++){const T=v[x],C=v[_];C.start<=T.start+T.count+1?T.count=Math.max(T.count,C.start+C.count-T.start):(++x,v[x]=C)}v.length=x+1;for(let _=0,T=v.length;_<T;_++){const C=v[_];n.bufferSubData(p,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),t.get(c)}function r(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=t.get(c);h&&(n.deleteBuffer(h.buffer),t.delete(c))}function o(c,h){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=t.get(c);(!m||m.version<c.version)&&t.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=t.get(c);if(p===void 0)t.set(c,e(c,h));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,c,h),p.version=c.version}}return{get:s,remove:r,update:o}}var oW=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lW=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,uW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fW=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mW=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,gW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,vW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,_W=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,SW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,MW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,TW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,EW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,AW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,CW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,RW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,DW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,NW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,LW=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,UW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,OW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,PW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,zW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,BW="gl_FragColor = linearToOutputTexel( gl_FragColor );",VW=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,IW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,FW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,XW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,WW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,YW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ZW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,KW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,QW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$W=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,JW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,eY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,nY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,iY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,aY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,oY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,cY=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,uY=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fY=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hY=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,dY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,pY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xY=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,_Y=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,SY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,bY=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,MY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,TY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,EY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,AY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,CY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,DY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,NY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,LY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,UY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,OY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,PY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,zY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,VY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,IY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,FY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,kY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,XY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qY=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,WY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,YY=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ZY=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,KY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,QY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$Y=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,JY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,eZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,aZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,oZ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cZ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fZ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,dZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,pZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,gZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vZ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yZ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xZ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_Z=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,SZ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bZ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MZ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TZ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,EZ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AZ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wZ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,CZ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RZ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DZ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NZ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LZ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UZ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OZ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,PZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zZ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BZ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,VZ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,IZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tn={alphahash_fragment:oW,alphahash_pars_fragment:lW,alphamap_fragment:cW,alphamap_pars_fragment:uW,alphatest_fragment:fW,alphatest_pars_fragment:hW,aomap_fragment:dW,aomap_pars_fragment:pW,batching_pars_vertex:mW,batching_vertex:gW,begin_vertex:vW,beginnormal_vertex:yW,bsdfs:xW,iridescence_fragment:_W,bumpmap_pars_fragment:SW,clipping_planes_fragment:bW,clipping_planes_pars_fragment:MW,clipping_planes_pars_vertex:TW,clipping_planes_vertex:EW,color_fragment:AW,color_pars_fragment:wW,color_pars_vertex:CW,color_vertex:RW,common:DW,cube_uv_reflection_fragment:NW,defaultnormal_vertex:LW,displacementmap_pars_vertex:UW,displacementmap_vertex:OW,emissivemap_fragment:PW,emissivemap_pars_fragment:zW,colorspace_fragment:BW,colorspace_pars_fragment:VW,envmap_fragment:IW,envmap_common_pars_fragment:FW,envmap_pars_fragment:HW,envmap_pars_vertex:GW,envmap_physical_pars_fragment:JW,envmap_vertex:kW,fog_vertex:jW,fog_pars_vertex:XW,fog_fragment:qW,fog_pars_fragment:WW,gradientmap_pars_fragment:YW,lightmap_pars_fragment:ZW,lights_lambert_fragment:KW,lights_lambert_pars_fragment:QW,lights_pars_begin:$W,lights_toon_fragment:tY,lights_toon_pars_fragment:eY,lights_phong_fragment:nY,lights_phong_pars_fragment:iY,lights_physical_fragment:sY,lights_physical_pars_fragment:aY,lights_fragment_begin:rY,lights_fragment_maps:oY,lights_fragment_end:lY,logdepthbuf_fragment:cY,logdepthbuf_pars_fragment:uY,logdepthbuf_pars_vertex:fY,logdepthbuf_vertex:hY,map_fragment:dY,map_pars_fragment:pY,map_particle_fragment:mY,map_particle_pars_fragment:gY,metalnessmap_fragment:vY,metalnessmap_pars_fragment:yY,morphinstance_vertex:xY,morphcolor_vertex:_Y,morphnormal_vertex:SY,morphtarget_pars_vertex:bY,morphtarget_vertex:MY,normal_fragment_begin:TY,normal_fragment_maps:EY,normal_pars_fragment:AY,normal_pars_vertex:wY,normal_vertex:CY,normalmap_pars_fragment:RY,clearcoat_normal_fragment_begin:DY,clearcoat_normal_fragment_maps:NY,clearcoat_pars_fragment:LY,iridescence_pars_fragment:UY,opaque_fragment:OY,packing:PY,premultiplied_alpha_fragment:zY,project_vertex:BY,dithering_fragment:VY,dithering_pars_fragment:IY,roughnessmap_fragment:FY,roughnessmap_pars_fragment:HY,shadowmap_pars_fragment:GY,shadowmap_pars_vertex:kY,shadowmap_vertex:jY,shadowmask_pars_fragment:XY,skinbase_vertex:qY,skinning_pars_vertex:WY,skinning_vertex:YY,skinnormal_vertex:ZY,specularmap_fragment:KY,specularmap_pars_fragment:QY,tonemapping_fragment:$Y,tonemapping_pars_fragment:JY,transmission_fragment:tZ,transmission_pars_fragment:eZ,uv_pars_fragment:nZ,uv_pars_vertex:iZ,uv_vertex:sZ,worldpos_vertex:aZ,background_vert:rZ,background_frag:oZ,backgroundCube_vert:lZ,backgroundCube_frag:cZ,cube_vert:uZ,cube_frag:fZ,depth_vert:hZ,depth_frag:dZ,distanceRGBA_vert:pZ,distanceRGBA_frag:mZ,equirect_vert:gZ,equirect_frag:vZ,linedashed_vert:yZ,linedashed_frag:xZ,meshbasic_vert:_Z,meshbasic_frag:SZ,meshlambert_vert:bZ,meshlambert_frag:MZ,meshmatcap_vert:TZ,meshmatcap_frag:EZ,meshnormal_vert:AZ,meshnormal_frag:wZ,meshphong_vert:CZ,meshphong_frag:RZ,meshphysical_vert:DZ,meshphysical_frag:NZ,meshtoon_vert:LZ,meshtoon_frag:UZ,points_vert:OZ,points_frag:PZ,shadow_vert:zZ,shadow_frag:BZ,sprite_vert:VZ,sprite_frag:IZ},oe={common:{diffuse:{value:new fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new We},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new We}},envmap:{envMap:{value:null},envMapRotation:{value:new We},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new We}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new We}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new We},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new We},normalScale:{value:new Vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new We},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new We}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new We}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new We}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0},uvTransform:{value:new We}},sprite:{diffuse:{value:new fe(16777215)},opacity:{value:1},center:{value:new Vt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new We},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0}}},xo={basic:{uniforms:ha([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.fog]),vertexShader:tn.meshbasic_vert,fragmentShader:tn.meshbasic_frag},lambert:{uniforms:ha([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new fe(0)}}]),vertexShader:tn.meshlambert_vert,fragmentShader:tn.meshlambert_frag},phong:{uniforms:ha([oe.common,oe.specularmap,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,oe.lights,{emissive:{value:new fe(0)},specular:{value:new fe(1118481)},shininess:{value:30}}]),vertexShader:tn.meshphong_vert,fragmentShader:tn.meshphong_frag},standard:{uniforms:ha([oe.common,oe.envmap,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.roughnessmap,oe.metalnessmap,oe.fog,oe.lights,{emissive:{value:new fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tn.meshphysical_vert,fragmentShader:tn.meshphysical_frag},toon:{uniforms:ha([oe.common,oe.aomap,oe.lightmap,oe.emissivemap,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.gradientmap,oe.fog,oe.lights,{emissive:{value:new fe(0)}}]),vertexShader:tn.meshtoon_vert,fragmentShader:tn.meshtoon_frag},matcap:{uniforms:ha([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,oe.fog,{matcap:{value:null}}]),vertexShader:tn.meshmatcap_vert,fragmentShader:tn.meshmatcap_frag},points:{uniforms:ha([oe.points,oe.fog]),vertexShader:tn.points_vert,fragmentShader:tn.points_frag},dashed:{uniforms:ha([oe.common,oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tn.linedashed_vert,fragmentShader:tn.linedashed_frag},depth:{uniforms:ha([oe.common,oe.displacementmap]),vertexShader:tn.depth_vert,fragmentShader:tn.depth_frag},normal:{uniforms:ha([oe.common,oe.bumpmap,oe.normalmap,oe.displacementmap,{opacity:{value:1}}]),vertexShader:tn.meshnormal_vert,fragmentShader:tn.meshnormal_frag},sprite:{uniforms:ha([oe.sprite,oe.fog]),vertexShader:tn.sprite_vert,fragmentShader:tn.sprite_frag},background:{uniforms:{uvTransform:{value:new We},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tn.background_vert,fragmentShader:tn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new We}},vertexShader:tn.backgroundCube_vert,fragmentShader:tn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tn.cube_vert,fragmentShader:tn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tn.equirect_vert,fragmentShader:tn.equirect_frag},distanceRGBA:{uniforms:ha([oe.common,oe.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tn.distanceRGBA_vert,fragmentShader:tn.distanceRGBA_frag},shadow:{uniforms:ha([oe.lights,oe.fog,{color:{value:new fe(0)},opacity:{value:1}}]),vertexShader:tn.shadow_vert,fragmentShader:tn.shadow_frag}};xo.physical={uniforms:ha([xo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new We},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new We},clearcoatNormalScale:{value:new Vt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new We},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new We},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new We},sheen:{value:0},sheenColor:{value:new fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new We},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new We},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new We},transmissionSamplerSize:{value:new Vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new We},attenuationDistance:{value:0},attenuationColor:{value:new fe(0)},specularColor:{value:new fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new We},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new We},anisotropyVector:{value:new Vt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new We}}]),vertexShader:tn.meshphysical_vert,fragmentShader:tn.meshphysical_frag};const Cx={r:0,b:0,g:0},Hf=new Ga,FZ=new Ve;function HZ(n,t,e,i,s,r,o){const c=new fe(0);let h=r===!0?0:1,p,m,v=null,x=0,_=null;function T(D){let L=D.isScene===!0?D.background:null;return L&&L.isTexture&&(L=(D.backgroundBlurriness>0?e:t).get(L)),L}function C(D){let L=!1;const B=T(D);B===null?M(c,h):B&&B.isColor&&(M(B,1),L=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(D,L){const B=T(L);B&&(B.isCubeTexture||B.mapping===Lp)?(m===void 0&&(m=new Xi(new bh(1,1,1),new Ao({name:"BackgroundCubeMaterial",uniforms:bp(xo.backgroundCube.uniforms),vertexShader:xo.backgroundCube.vertexShader,fragmentShader:xo.backgroundCube.fragmentShader,side:ya,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,I,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Hf.copy(L.backgroundRotation),Hf.x*=-1,Hf.y*=-1,Hf.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Hf.y*=-1,Hf.z*=-1),m.material.uniforms.envMap.value=B,m.material.uniforms.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(FZ.makeRotationFromEuler(Hf)),m.material.toneMapped=_n.getTransfer(B.colorSpace)!==Fn,(v!==B||x!==B.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,v=B,x=B.version,_=n.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):B&&B.isTexture&&(p===void 0&&(p=new Xi(new zp(2,2),new Ao({name:"BackgroundMaterial",uniforms:bp(xo.background.uniforms),vertexShader:xo.background.vertexShader,fragmentShader:xo.background.fragmentShader,side:yc,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=B,p.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,p.material.toneMapped=_n.getTransfer(B.colorSpace)!==Fn,B.matrixAutoUpdate===!0&&B.updateMatrix(),p.material.uniforms.uvTransform.value.copy(B.matrix),(v!==B||x!==B.version||_!==n.toneMapping)&&(p.material.needsUpdate=!0,v=B,x=B.version,_=n.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function M(D,L){D.getRGB(Cx,YP(n)),i.buffers.color.setClear(Cx.r,Cx.g,Cx.b,L,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(D,L=1){c.set(D),h=L,M(c,h)},getClearAlpha:function(){return h},setClearAlpha:function(D){h=D,M(c,h)},render:C,addToRenderList:E,dispose:R}}function GZ(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=x(null);let r=s,o=!1;function c(z,X,dt,st,at){let mt=!1;const W=v(st,dt,X);r!==W&&(r=W,p(r.object)),mt=_(z,st,dt,at),mt&&T(z,st,dt,at),at!==null&&t.update(at,n.ELEMENT_ARRAY_BUFFER),(mt||o)&&(o=!1,L(z,X,dt,st),at!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(at).buffer))}function h(){return n.createVertexArray()}function p(z){return n.bindVertexArray(z)}function m(z){return n.deleteVertexArray(z)}function v(z,X,dt){const st=dt.wireframe===!0;let at=i[z.id];at===void 0&&(at={},i[z.id]=at);let mt=at[X.id];mt===void 0&&(mt={},at[X.id]=mt);let W=mt[st];return W===void 0&&(W=x(h()),mt[st]=W),W}function x(z){const X=[],dt=[],st=[];for(let at=0;at<e;at++)X[at]=0,dt[at]=0,st[at]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:dt,attributeDivisors:st,object:z,attributes:{},index:null}}function _(z,X,dt,st){const at=r.attributes,mt=X.attributes;let W=0;const et=dt.getAttributes();for(const Q in et)if(et[Q].location>=0){const G=at[Q];let nt=mt[Q];if(nt===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(nt=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(nt=z.instanceColor)),G===void 0||G.attribute!==nt||nt&&G.data!==nt.data)return!0;W++}return r.attributesNum!==W||r.index!==st}function T(z,X,dt,st){const at={},mt=X.attributes;let W=0;const et=dt.getAttributes();for(const Q in et)if(et[Q].location>=0){let G=mt[Q];G===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(G=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(G=z.instanceColor));const nt={};nt.attribute=G,G&&G.data&&(nt.data=G.data),at[Q]=nt,W++}r.attributes=at,r.attributesNum=W,r.index=st}function C(){const z=r.newAttributes;for(let X=0,dt=z.length;X<dt;X++)z[X]=0}function E(z){M(z,0)}function M(z,X){const dt=r.newAttributes,st=r.enabledAttributes,at=r.attributeDivisors;dt[z]=1,st[z]===0&&(n.enableVertexAttribArray(z),st[z]=1),at[z]!==X&&(n.vertexAttribDivisor(z,X),at[z]=X)}function R(){const z=r.newAttributes,X=r.enabledAttributes;for(let dt=0,st=X.length;dt<st;dt++)X[dt]!==z[dt]&&(n.disableVertexAttribArray(dt),X[dt]=0)}function D(z,X,dt,st,at,mt,W){W===!0?n.vertexAttribIPointer(z,X,dt,at,mt):n.vertexAttribPointer(z,X,dt,st,at,mt)}function L(z,X,dt,st){C();const at=st.attributes,mt=dt.getAttributes(),W=X.defaultAttributeValues;for(const et in mt){const Q=mt[et];if(Q.location>=0){let vt=at[et];if(vt===void 0&&(et==="instanceMatrix"&&z.instanceMatrix&&(vt=z.instanceMatrix),et==="instanceColor"&&z.instanceColor&&(vt=z.instanceColor)),vt!==void 0){const G=vt.normalized,nt=vt.itemSize,Et=t.get(vt);if(Et===void 0)continue;const Ot=Et.buffer,it=Et.type,Tt=Et.bytesPerElement,Ut=it===n.INT||it===n.UNSIGNED_INT||vt.gpuType===m1;if(vt.isInterleavedBufferAttribute){const It=vt.data,kt=It.stride,ye=vt.offset;if(It.isInstancedInterleavedBuffer){for(let qt=0;qt<Q.locationSize;qt++)M(Q.location+qt,It.meshPerAttribute);z.isInstancedMesh!==!0&&st._maxInstanceCount===void 0&&(st._maxInstanceCount=It.meshPerAttribute*It.count)}else for(let qt=0;qt<Q.locationSize;qt++)E(Q.location+qt);n.bindBuffer(n.ARRAY_BUFFER,Ot);for(let qt=0;qt<Q.locationSize;qt++)D(Q.location+qt,nt/Q.locationSize,it,G,kt*Tt,(ye+nt/Q.locationSize*qt)*Tt,Ut)}else{if(vt.isInstancedBufferAttribute){for(let It=0;It<Q.locationSize;It++)M(Q.location+It,vt.meshPerAttribute);z.isInstancedMesh!==!0&&st._maxInstanceCount===void 0&&(st._maxInstanceCount=vt.meshPerAttribute*vt.count)}else for(let It=0;It<Q.locationSize;It++)E(Q.location+It);n.bindBuffer(n.ARRAY_BUFFER,Ot);for(let It=0;It<Q.locationSize;It++)D(Q.location+It,nt/Q.locationSize,it,G,nt*Tt,nt/Q.locationSize*It*Tt,Ut)}}else if(W!==void 0){const G=W[et];if(G!==void 0)switch(G.length){case 2:n.vertexAttrib2fv(Q.location,G);break;case 3:n.vertexAttrib3fv(Q.location,G);break;case 4:n.vertexAttrib4fv(Q.location,G);break;default:n.vertexAttrib1fv(Q.location,G)}}}}R()}function B(){V();for(const z in i){const X=i[z];for(const dt in X){const st=X[dt];for(const at in st)m(st[at].object),delete st[at];delete X[dt]}delete i[z]}}function P(z){if(i[z.id]===void 0)return;const X=i[z.id];for(const dt in X){const st=X[dt];for(const at in st)m(st[at].object),delete st[at];delete X[dt]}delete i[z.id]}function I(z){for(const X in i){const dt=i[X];if(dt[z.id]===void 0)continue;const st=dt[z.id];for(const at in st)m(st[at].object),delete st[at];delete dt[z.id]}}function V(){U(),o=!0,r!==s&&(r=s,p(r.object))}function U(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:c,reset:V,resetDefaultState:U,dispose:B,releaseStatesOfGeometry:P,releaseStatesOfProgram:I,initAttributes:C,enableAttribute:E,disableUnusedAttributes:R}}function kZ(n,t,e){let i;function s(p){i=p}function r(p,m){n.drawArrays(i,p,m),e.update(m,i,1)}function o(p,m,v){v!==0&&(n.drawArraysInstanced(i,p,m,v),e.update(m,i,v))}function c(p,m,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,v);let _=0;for(let T=0;T<v;T++)_+=m[T];e.update(_,i,1)}function h(p,m,v,x){if(v===0)return;const _=t.get("WEBGL_multi_draw");if(_===null)for(let T=0;T<p.length;T++)o(p[T],m[T],x[T]);else{_.multiDrawArraysInstancedWEBGL(i,p,0,m,0,x,0,v);let T=0;for(let C=0;C<v;C++)T+=m[C]*x[C];e.update(T,i,1)}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=h}function jZ(n,t,e,i){let s;function r(){if(s!==void 0)return s;if(t.has("EXT_texture_filter_anisotropic")===!0){const I=t.get("EXT_texture_filter_anisotropic");s=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(I){return!(I!==Qs&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(I){const V=I===Up&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(I!==Eo&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Fa&&!V)}function h(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=e.precision!==void 0?e.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=e.logarithmicDepthBuffer===!0,x=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),B=T>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:v,reverseDepthBuffer:x,maxTextures:_,maxVertexTextures:T,maxTextureSize:C,maxCubemapSize:E,maxAttributes:M,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:L,vertexTextures:B,maxSamples:P}}function XZ(n){const t=this;let e=null,i=0,s=!1,r=!1;const o=new Mu,c=new We,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,x){const _=v.length!==0||x||i!==0||s;return s=x,i=v.length,_},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(v,x){e=m(v,x,0)},this.setState=function(v,x,_){const T=v.clippingPlanes,C=v.clipIntersection,E=v.clipShadows,M=n.get(v);if(!s||T===null||T.length===0||r&&!E)r?m(null):p();else{const R=r?0:i,D=R*4;let L=M.clippingState||null;h.value=L,L=m(T,x,D,_);for(let B=0;B!==D;++B)L[B]=e[B];M.clippingState=L,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=R}};function p(){h.value!==e&&(h.value=e,h.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(v,x,_,T){const C=v!==null?v.length:0;let E=null;if(C!==0){if(E=h.value,T!==!0||E===null){const M=_+C*4,R=x.matrixWorldInverse;c.getNormalMatrix(R),(E===null||E.length<M)&&(E=new Float32Array(M));for(let D=0,L=_;D!==C;++D,L+=4)o.copy(v[D]).applyMatrix4(R,c),o.normal.toArray(E,L),E[L+3]=o.constant}h.value=E,h.needsUpdate=!0}return t.numPlanes=C,t.numIntersection=0,E}}function qZ(n){let t=new WeakMap;function e(o,c){return c===f0?o.mapping=xc:c===h0&&(o.mapping=Ru),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===f0||c===h0)if(t.has(o)){const h=t.get(o).texture;return e(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const p=new QP(h.height);return p.fromEquirectangularTexture(n,o),t.set(o,p),o.addEventListener("dispose",s),e(p.texture,o.mapping)}else return null}}return o}function s(o){const c=o.target;c.removeEventListener("dispose",s);const h=t.get(c);h!==void 0&&(t.delete(c),h.dispose())}function r(){t=new WeakMap}return{get:i,dispose:r}}const fp=4,XD=[.125,.215,.35,.446,.526,.582],Qf=20,jb=new Eh,qD=new fe;let Xb=null,qb=0,Wb=0,Yb=!1;const Zf=(1+Math.sqrt(5))/2,Fd=1/Zf,WD=[new Z(-Zf,Fd,0),new Z(Zf,Fd,0),new Z(-Fd,0,Zf),new Z(Fd,0,Zf),new Z(0,Zf,-Fd),new Z(0,Zf,Fd),new Z(-1,1,-1),new Z(1,1,-1),new Z(-1,1,1),new Z(1,1,1)];class xT{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){Xb=this._renderer.getRenderTarget(),qb=this._renderer.getActiveCubeFace(),Wb=this._renderer.getActiveMipmapLevel(),Yb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=KD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ZD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Xb,qb,Wb),this._renderer.xr.enabled=Yb,t.scissorTest=!1,Rx(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===xc||t.mapping===Ru?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Xb=this._renderer.getRenderTarget(),qb=this._renderer.getActiveCubeFace(),Wb=this._renderer.getActiveMipmapLevel(),Yb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:$i,minFilter:$i,generateMipmaps:!1,type:Up,format:Qs,colorSpace:Du,depthBuffer:!1},s=YD(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=YD(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=WZ(r)),this._blurMaterial=YZ(r,t,e)}return s}_compileMaterial(t){const e=new Xi(this._lodPlanes[0],t);this._renderer.compile(e,jb)}_sceneToCubeUV(t,e,i,s){const c=new ji(90,1,e,i),h=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,x=m.toneMapping;m.getClearColor(qD),m.toneMapping=yl,m.autoClear=!1;const _=new Pu({name:"PMREM.Background",side:ya,depthWrite:!1,depthTest:!1}),T=new Xi(new bh,_);let C=!1;const E=t.background;E?E.isColor&&(_.color.copy(E),t.background=null,C=!0):(_.color.copy(qD),C=!0);for(let M=0;M<6;M++){const R=M%3;R===0?(c.up.set(0,h[M],0),c.lookAt(p[M],0,0)):R===1?(c.up.set(0,0,h[M]),c.lookAt(0,p[M],0)):(c.up.set(0,h[M],0),c.lookAt(0,0,p[M]));const D=this._cubeSize;Rx(s,R*D,M>2?D:0,D,D),m.setRenderTarget(s),C&&m.render(T,c),m.render(t,c)}T.geometry.dispose(),T.material.dispose(),m.toneMapping=x,m.autoClear=v,t.background=E}_textureToCubeUV(t,e){const i=this._renderer,s=t.mapping===xc||t.mapping===Ru;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=KD()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ZD());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new Xi(this._lodPlanes[0],r),c=r.uniforms;c.envMap.value=t;const h=this._cubeSize;Rx(e,0,0,3*h,2*h),i.setRenderTarget(e),i.render(o,jb)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),c=WD[(s-r-1)%WD.length];this._blur(t,r-1,r,o,c)}e.autoClear=i}_blur(t,e,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,s,"latitudinal",r),this._halfBlur(o,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,o,c){const h=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Xi(this._lodPlanes[s],p),x=p.uniforms,_=this._sizeLods[i]-1,T=isFinite(r)?Math.PI/(2*_):2*Math.PI/(2*Qf-1),C=r/T,E=isFinite(r)?1+Math.floor(m*C):Qf;E>Qf&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Qf}`);const M=[];let R=0;for(let I=0;I<Qf;++I){const V=I/C,U=Math.exp(-V*V/2);M.push(U),I===0?R+=U:I<E&&(R+=2*U)}for(let I=0;I<M.length;I++)M[I]=M[I]/R;x.envMap.value=t.texture,x.samples.value=E,x.weights.value=M,x.latitudinal.value=o==="latitudinal",c&&(x.poleAxis.value=c);const{_lodMax:D}=this;x.dTheta.value=T,x.mipInt.value=D-i;const L=this._sizeLods[s],B=3*L*(s>D-fp?s-D+fp:0),P=4*(this._cubeSize-L);Rx(e,B,P,3*L,2*L),h.setRenderTarget(e),h.render(v,jb)}}function WZ(n){const t=[],e=[],i=[];let s=n;const r=n-fp+1+XD.length;for(let o=0;o<r;o++){const c=Math.pow(2,s);e.push(c);let h=1/c;o>n-fp?h=XD[o-n+fp-1]:o===0&&(h=0),i.push(h);const p=1/(c-2),m=-p,v=1+p,x=[m,m,v,m,v,v,m,m,v,v,m,v],_=6,T=6,C=3,E=2,M=1,R=new Float32Array(C*T*_),D=new Float32Array(E*T*_),L=new Float32Array(M*T*_);for(let P=0;P<_;P++){const I=P%3*2/3-1,V=P>2?0:-1,U=[I,V,0,I+2/3,V,0,I+2/3,V+1,0,I,V,0,I+2/3,V+1,0,I,V+1,0];R.set(U,C*T*P),D.set(x,E*T*P);const z=[P,P,P,P,P,P];L.set(z,M*T*P)}const B=new en;B.setAttribute("position",new qn(R,C)),B.setAttribute("uv",new qn(D,E)),B.setAttribute("faceIndex",new qn(L,M)),t.push(B),s>fp&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function YD(n,t,e){const i=new Ml(n,t,e);return i.texture.mapping=Lp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Rx(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function YZ(n,t,e){const i=new Float32Array(Qf),s=new Z(0,1,0);return new Ao({name:"SphericalGaussianBlur",defines:{n:Qf,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:HA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:mc,depthTest:!1,depthWrite:!1})}function ZD(){return new Ao({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:HA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:mc,depthTest:!1,depthWrite:!1})}function KD(){return new Ao({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:mc,depthTest:!1,depthWrite:!1})}function HA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ZZ(n){let t=new WeakMap,e=null;function i(c){if(c&&c.isTexture){const h=c.mapping,p=h===f0||h===h0,m=h===xc||h===Ru;if(p||m){let v=t.get(c);const x=v!==void 0?v.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==x)return e===null&&(e=new xT(n)),v=p?e.fromEquirectangular(c,v):e.fromCubemap(c,v),v.texture.pmremVersion=c.pmremVersion,t.set(c,v),v.texture;if(v!==void 0)return v.texture;{const _=c.image;return p&&_&&_.height>0||m&&_&&s(_)?(e===null&&(e=new xT(n)),v=p?e.fromEquirectangular(c):e.fromCubemap(c),v.texture.pmremVersion=c.pmremVersion,t.set(c,v),c.addEventListener("dispose",r),v.texture):null}}}return c}function s(c){let h=0;const p=6;for(let m=0;m<p;m++)c[m]!==void 0&&h++;return h===p}function r(c){const h=c.target;h.removeEventListener("dispose",r);const p=t.get(h);p!==void 0&&(t.delete(h),p.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function KZ(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const s=e(i);return s===null&&Wd("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function QZ(n,t,e,i){const s={},r=new WeakMap;function o(v){const x=v.target;x.index!==null&&t.remove(x.index);for(const T in x.attributes)t.remove(x.attributes[T]);x.removeEventListener("dispose",o),delete s[x.id];const _=r.get(x);_&&(t.remove(_),r.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,e.memory.geometries--}function c(v,x){return s[x.id]===!0||(x.addEventListener("dispose",o),s[x.id]=!0,e.memory.geometries++),x}function h(v){const x=v.attributes;for(const _ in x)t.update(x[_],n.ARRAY_BUFFER)}function p(v){const x=[],_=v.index,T=v.attributes.position;let C=0;if(_!==null){const R=_.array;C=_.version;for(let D=0,L=R.length;D<L;D+=3){const B=R[D+0],P=R[D+1],I=R[D+2];x.push(B,P,P,I,I,B)}}else if(T!==void 0){const R=T.array;C=T.version;for(let D=0,L=R.length/3-1;D<L;D+=3){const B=D+0,P=D+1,I=D+2;x.push(B,P,P,I,I,B)}}else return;const E=new(jP(x)?mA:pA)(x,1);E.version=C;const M=r.get(v);M&&t.remove(M),r.set(v,E)}function m(v){const x=r.get(v);if(x){const _=v.index;_!==null&&x.version<_.version&&p(v)}else p(v);return r.get(v)}return{get:c,update:h,getWireframeAttribute:m}}function $Z(n,t,e){let i;function s(x){i=x}let r,o;function c(x){r=x.type,o=x.bytesPerElement}function h(x,_){n.drawElements(i,_,r,x*o),e.update(_,i,1)}function p(x,_,T){T!==0&&(n.drawElementsInstanced(i,_,r,x*o,T),e.update(_,i,T))}function m(x,_,T){if(T===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,r,x,0,T);let E=0;for(let M=0;M<T;M++)E+=_[M];e.update(E,i,1)}function v(x,_,T,C){if(T===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let M=0;M<x.length;M++)p(x[M]/o,_[M],C[M]);else{E.multiDrawElementsInstancedWEBGL(i,_,0,r,x,0,C,0,T);let M=0;for(let R=0;R<T;R++)M+=_[R]*C[R];e.update(M,i,1)}}this.setMode=s,this.setIndex=c,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function JZ(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,c){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=c*(r/3);break;case n.LINES:e.lines+=c*(r/2);break;case n.LINE_STRIP:e.lines+=c*(r-1);break;case n.LINE_LOOP:e.lines+=c*r;break;case n.POINTS:e.points+=c*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:s,update:i}}function tK(n,t,e){const i=new WeakMap,s=new pn;function r(o,c,h){const p=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=m!==void 0?m.length:0;let x=i.get(c);if(x===void 0||x.count!==v){let U=function(){I.dispose(),i.delete(c),c.removeEventListener("dispose",U)};x!==void 0&&x.texture.dispose();const _=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,C=c.morphAttributes.color!==void 0,E=c.morphAttributes.position||[],M=c.morphAttributes.normal||[],R=c.morphAttributes.color||[];let D=0;_===!0&&(D=1),T===!0&&(D=2),C===!0&&(D=3);let L=c.attributes.position.count*D,B=1;L>t.maxTextureSize&&(B=Math.ceil(L/t.maxTextureSize),L=t.maxTextureSize);const P=new Float32Array(L*B*4*v),I=new j0(P,L,B,v);I.type=Fa,I.needsUpdate=!0;const V=D*4;for(let z=0;z<v;z++){const X=E[z],dt=M[z],st=R[z],at=L*B*4*z;for(let mt=0;mt<X.count;mt++){const W=mt*V;_===!0&&(s.fromBufferAttribute(X,mt),P[at+W+0]=s.x,P[at+W+1]=s.y,P[at+W+2]=s.z,P[at+W+3]=0),T===!0&&(s.fromBufferAttribute(dt,mt),P[at+W+4]=s.x,P[at+W+5]=s.y,P[at+W+6]=s.z,P[at+W+7]=0),C===!0&&(s.fromBufferAttribute(st,mt),P[at+W+8]=s.x,P[at+W+9]=s.y,P[at+W+10]=s.z,P[at+W+11]=st.itemSize===4?s.w:1)}}x={count:v,texture:I,size:new Vt(L,B)},i.set(c,x),c.addEventListener("dispose",U)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",o.morphTexture,e);else{let _=0;for(let C=0;C<p.length;C++)_+=p[C];const T=c.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",T),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,e),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:r}}function eK(n,t,e,i){let s=new WeakMap;function r(h){const p=i.render.frame,m=h.geometry,v=t.get(h,m);if(s.get(v)!==p&&(t.update(v),s.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",c)===!1&&h.addEventListener("dispose",c),s.get(h)!==p&&(e.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&e.update(h.instanceColor,n.ARRAY_BUFFER),s.set(h,p))),h.isSkinnedMesh){const x=h.skeleton;s.get(x)!==p&&(x.update(),s.set(x,p))}return v}function o(){s=new WeakMap}function c(h){const p=h.target;p.removeEventListener("dispose",c),e.remove(p.instanceMatrix),p.instanceColor!==null&&e.remove(p.instanceColor)}return{update:r,dispose:o}}const Zz=new Ni,QD=new _A(1,1),Kz=new j0,Qz=new M1,$z=new X0,$D=[],JD=[],t3=new Float32Array(16),e3=new Float32Array(9),n3=new Float32Array(4);function Bp(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let r=$D[s];if(r===void 0&&(r=new Float32Array(s),$D[s]=r),t!==0){i.toArray(r,0);for(let o=1,c=0;o!==t;++o)c+=e,n[o].toArray(r,c)}return r}function es(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function ns(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function X1(n,t){let e=JD[t];e===void 0&&(e=new Int32Array(t),JD[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function nK(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function iK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(es(e,t))return;n.uniform2fv(this.addr,t),ns(e,t)}}function sK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(es(e,t))return;n.uniform3fv(this.addr,t),ns(e,t)}}function aK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(es(e,t))return;n.uniform4fv(this.addr,t),ns(e,t)}}function rK(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(es(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),ns(e,t)}else{if(es(e,i))return;n3.set(i),n.uniformMatrix2fv(this.addr,!1,n3),ns(e,i)}}function oK(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(es(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),ns(e,t)}else{if(es(e,i))return;e3.set(i),n.uniformMatrix3fv(this.addr,!1,e3),ns(e,i)}}function lK(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(es(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),ns(e,t)}else{if(es(e,i))return;t3.set(i),n.uniformMatrix4fv(this.addr,!1,t3),ns(e,i)}}function cK(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function uK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(es(e,t))return;n.uniform2iv(this.addr,t),ns(e,t)}}function fK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(es(e,t))return;n.uniform3iv(this.addr,t),ns(e,t)}}function hK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(es(e,t))return;n.uniform4iv(this.addr,t),ns(e,t)}}function dK(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function pK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(es(e,t))return;n.uniform2uiv(this.addr,t),ns(e,t)}}function mK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(es(e,t))return;n.uniform3uiv(this.addr,t),ns(e,t)}}function gK(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(es(e,t))return;n.uniform4uiv(this.addr,t),ns(e,t)}}function vK(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let r;this.type===n.SAMPLER_2D_SHADOW?(QD.compareFunction=hA,r=QD):r=Zz,e.setTexture2D(t||r,s)}function yK(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||Qz,s)}function xK(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||$z,s)}function _K(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||Kz,s)}function SK(n){switch(n){case 5126:return nK;case 35664:return iK;case 35665:return sK;case 35666:return aK;case 35674:return rK;case 35675:return oK;case 35676:return lK;case 5124:case 35670:return cK;case 35667:case 35671:return uK;case 35668:case 35672:return fK;case 35669:case 35673:return hK;case 5125:return dK;case 36294:return pK;case 36295:return mK;case 36296:return gK;case 35678:case 36198:case 36298:case 36306:case 35682:return vK;case 35679:case 36299:case 36307:return yK;case 35680:case 36300:case 36308:case 36293:return xK;case 36289:case 36303:case 36311:case 36292:return _K}}function bK(n,t){n.uniform1fv(this.addr,t)}function MK(n,t){const e=Bp(t,this.size,2);n.uniform2fv(this.addr,e)}function TK(n,t){const e=Bp(t,this.size,3);n.uniform3fv(this.addr,e)}function EK(n,t){const e=Bp(t,this.size,4);n.uniform4fv(this.addr,e)}function AK(n,t){const e=Bp(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function wK(n,t){const e=Bp(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function CK(n,t){const e=Bp(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function RK(n,t){n.uniform1iv(this.addr,t)}function DK(n,t){n.uniform2iv(this.addr,t)}function NK(n,t){n.uniform3iv(this.addr,t)}function LK(n,t){n.uniform4iv(this.addr,t)}function UK(n,t){n.uniform1uiv(this.addr,t)}function OK(n,t){n.uniform2uiv(this.addr,t)}function PK(n,t){n.uniform3uiv(this.addr,t)}function zK(n,t){n.uniform4uiv(this.addr,t)}function BK(n,t,e){const i=this.cache,s=t.length,r=X1(e,s);es(i,r)||(n.uniform1iv(this.addr,r),ns(i,r));for(let o=0;o!==s;++o)e.setTexture2D(t[o]||Zz,r[o])}function VK(n,t,e){const i=this.cache,s=t.length,r=X1(e,s);es(i,r)||(n.uniform1iv(this.addr,r),ns(i,r));for(let o=0;o!==s;++o)e.setTexture3D(t[o]||Qz,r[o])}function IK(n,t,e){const i=this.cache,s=t.length,r=X1(e,s);es(i,r)||(n.uniform1iv(this.addr,r),ns(i,r));for(let o=0;o!==s;++o)e.setTextureCube(t[o]||$z,r[o])}function FK(n,t,e){const i=this.cache,s=t.length,r=X1(e,s);es(i,r)||(n.uniform1iv(this.addr,r),ns(i,r));for(let o=0;o!==s;++o)e.setTexture2DArray(t[o]||Kz,r[o])}function HK(n){switch(n){case 5126:return bK;case 35664:return MK;case 35665:return TK;case 35666:return EK;case 35674:return AK;case 35675:return wK;case 35676:return CK;case 5124:case 35670:return RK;case 35667:case 35671:return DK;case 35668:case 35672:return NK;case 35669:case 35673:return LK;case 5125:return UK;case 36294:return OK;case 36295:return PK;case 36296:return zK;case 35678:case 36198:case 36298:case 36306:case 35682:return BK;case 35679:case 36299:case 36307:return VK;case 35680:case 36300:case 36308:case 36293:return IK;case 36289:case 36303:case 36311:case 36292:return FK}}class GK{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=SK(e.type)}}class kK{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=HK(e.type)}}class jK{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const c=s[r];c.setValue(t,e[c.id],i)}}}const Zb=/(\w+)(\])?(\[|\.)?/g;function i3(n,t){n.seq.push(t),n.map[t.id]=t}function XK(n,t,e){const i=n.name,s=i.length;for(Zb.lastIndex=0;;){const r=Zb.exec(i),o=Zb.lastIndex;let c=r[1];const h=r[2]==="]",p=r[3];if(h&&(c=c|0),p===void 0||p==="["&&o+2===s){i3(e,p===void 0?new GK(c,n,t):new kK(c,n,t));break}else{let v=e.map[c];v===void 0&&(v=new jK(c),i3(e,v)),e=v}}}class Zx{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=t.getActiveUniform(e,s),o=t.getUniformLocation(e,r.name);XK(r,o,this)}}setValue(t,e,i,s){const r=this.map[e];r!==void 0&&r.setValue(t,i,s)}setOptional(t,e,i){const s=e[i];s!==void 0&&this.setValue(t,i,s)}static upload(t,e,i,s){for(let r=0,o=e.length;r!==o;++r){const c=e[r],h=i[c.id];h.needsUpdate!==!1&&c.setValue(t,h.value,s)}}static seqWithValue(t,e){const i=[];for(let s=0,r=t.length;s!==r;++s){const o=t[s];o.id in e&&i.push(o)}return i}}function s3(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const qK=37297;let WK=0;function YK(n,t){const e=n.split(`
`),i=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let o=s;o<r;o++){const c=o+1;i.push(`${c===t?">":" "} ${c}: ${e[o]}`)}return i.join(`
`)}const a3=new We;function ZK(n){_n._getMatrix(a3,_n.workingColorSpace,n);const t=`mat3( ${a3.elements.map(e=>e.toFixed(4))} )`;switch(_n.getTransfer(n)){case v0:return[t,"LinearTransferOETF"];case Fn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function r3(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),s=n.getShaderInfoLog(t).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return e.toUpperCase()+`

`+s+`

`+YK(n.getShaderSource(t),o)}else return s}function KK(n,t){const e=ZK(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function QK(n,t){let e;switch(t){case MP:e="Linear";break;case TP:e="Reinhard";break;case EP:e="Cineon";break;case tA:e="ACESFilmic";break;case wP:e="AgX";break;case CP:e="Neutral";break;case AP:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const Dx=new Z;function $K(){_n.getLuminanceCoefficients(Dx);const n=Dx.x.toFixed(4),t=Dx.y.toFixed(4),e=Dx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function JK(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cg).join(`
`)}function tQ(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function eQ(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(t,s),o=r.name;let c=1;r.type===n.FLOAT_MAT2&&(c=2),r.type===n.FLOAT_MAT3&&(c=3),r.type===n.FLOAT_MAT4&&(c=4),e[o]={type:r.type,location:n.getAttribLocation(t,o),locationSize:c}}return e}function Cg(n){return n!==""}function o3(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function l3(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const nQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function _T(n){return n.replace(nQ,sQ)}const iQ=new Map;function sQ(n,t){let e=tn[t];if(e===void 0){const i=iQ.get(t);if(i!==void 0)e=tn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return _T(e)}const aQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function c3(n){return n.replace(aQ,rQ)}function rQ(n,t,e,i){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function u3(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function oQ(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===d1?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===Fg?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===yo&&(t="SHADOWMAP_TYPE_VSM"),t}function lQ(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case xc:case Ru:t="ENVMAP_TYPE_CUBE";break;case Lp:t="ENVMAP_TYPE_CUBE_UV";break}return t}function cQ(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ru:t="ENVMAP_MODE_REFRACTION";break}return t}function uQ(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case G0:t="ENVMAP_BLENDING_MULTIPLY";break;case SP:t="ENVMAP_BLENDING_MIX";break;case bP:t="ENVMAP_BLENDING_ADD";break}return t}function fQ(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function hQ(n,t,e,i){const s=n.getContext(),r=e.defines;let o=e.vertexShader,c=e.fragmentShader;const h=oQ(e),p=lQ(e),m=cQ(e),v=uQ(e),x=fQ(e),_=JK(e),T=tQ(r),C=s.createProgram();let E,M,R=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(E=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(Cg).join(`
`),E.length>0&&(E+=`
`),M=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T].filter(Cg).join(`
`),M.length>0&&(M+=`
`)):(E=[u3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cg).join(`
`),M=[u3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,T,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+p:"",e.envMap?"#define "+m:"",e.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==yl?"#define TONE_MAPPING":"",e.toneMapping!==yl?tn.tonemapping_pars_fragment:"",e.toneMapping!==yl?QK("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",tn.colorspace_pars_fragment,KK("linearToOutputTexel",e.outputColorSpace),$K(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Cg).join(`
`)),o=_T(o),o=o3(o,e),o=l3(o,e),c=_T(c),c=o3(c,e),c=l3(c,e),o=c3(o),c=c3(c),e.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,M=["#define varying in",e.glslVersion===fT?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===fT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=R+E+o,L=R+M+c,B=s3(s,s.VERTEX_SHADER,D),P=s3(s,s.FRAGMENT_SHADER,L);s.attachShader(C,B),s.attachShader(C,P),e.index0AttributeName!==void 0?s.bindAttribLocation(C,0,e.index0AttributeName):e.morphTargets===!0&&s.bindAttribLocation(C,0,"position"),s.linkProgram(C);function I(X){if(n.debug.checkShaderErrors){const dt=s.getProgramInfoLog(C).trim(),st=s.getShaderInfoLog(B).trim(),at=s.getShaderInfoLog(P).trim();let mt=!0,W=!0;if(s.getProgramParameter(C,s.LINK_STATUS)===!1)if(mt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,C,B,P);else{const et=r3(s,B,"vertex"),Q=r3(s,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(C,s.VALIDATE_STATUS)+`

Material Name: `+X.name+`
Material Type: `+X.type+`

Program Info Log: `+dt+`
`+et+`
`+Q)}else dt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",dt):(st===""||at==="")&&(W=!1);W&&(X.diagnostics={runnable:mt,programLog:dt,vertexShader:{log:st,prefix:E},fragmentShader:{log:at,prefix:M}})}s.deleteShader(B),s.deleteShader(P),V=new Zx(s,C),U=eQ(s,C)}let V;this.getUniforms=function(){return V===void 0&&I(this),V};let U;this.getAttributes=function(){return U===void 0&&I(this),U};let z=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=s.getProgramParameter(C,qK)),z},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(C),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=WK++,this.cacheKey=t,this.usedTimes=1,this.program=C,this.vertexShader=B,this.fragmentShader=P,this}let dQ=0;class pQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,s=this._getShaderStage(e),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new mQ(t),e.set(t,i)),i}}class mQ{constructor(t){this.id=dQ++,this.code=t,this.usedTimes=0}}function gQ(n,t,e,i,s,r,o){const c=new Sp,h=new pQ,p=new Set,m=[],v=s.logarithmicDepthBuffer,x=s.vertexTextures;let _=s.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(U){return p.add(U),U===0?"uv":`uv${U}`}function E(U,z,X,dt,st){const at=dt.fog,mt=st.geometry,W=U.isMeshStandardMaterial?dt.environment:null,et=(U.isMeshStandardMaterial?e:t).get(U.envMap||W),Q=et&&et.mapping===Lp?et.image.height:null,vt=T[U.type];U.precision!==null&&(_=s.getMaxPrecision(U.precision),_!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",_,"instead."));const G=mt.morphAttributes.position||mt.morphAttributes.normal||mt.morphAttributes.color,nt=G!==void 0?G.length:0;let Et=0;mt.morphAttributes.position!==void 0&&(Et=1),mt.morphAttributes.normal!==void 0&&(Et=2),mt.morphAttributes.color!==void 0&&(Et=3);let Ot,it,Tt,Ut;if(vt){const dn=xo[vt];Ot=dn.vertexShader,it=dn.fragmentShader}else Ot=U.vertexShader,it=U.fragmentShader,h.update(U),Tt=h.getVertexShaderID(U),Ut=h.getFragmentShaderID(U);const It=n.getRenderTarget(),kt=n.state.buffers.depth.getReversed(),ye=st.isInstancedMesh===!0,qt=st.isBatchedMesh===!0,le=!!U.map,Pt=!!U.matcap,Rt=!!et,Y=!!U.aoMap,ue=!!U.lightMap,Ht=!!U.bumpMap,$t=!!U.normalMap,Kt=!!U.displacementMap,Se=!!U.emissiveMap,Qt=!!U.metalnessMap,q=!!U.roughnessMap,F=U.anisotropy>0,yt=U.clearcoat>0,wt=U.dispersion>0,Ft=U.iridescence>0,Dt=U.sheen>0,ce=U.transmission>0,ee=F&&!!U.anisotropyMap,he=yt&&!!U.clearcoatMap,Ze=yt&&!!U.clearcoatNormalMap,Yt=yt&&!!U.clearcoatRoughnessMap,pe=Ft&&!!U.iridescenceMap,xe=Ft&&!!U.iridescenceThicknessMap,ve=Dt&&!!U.sheenColorMap,de=Dt&&!!U.sheenRoughnessMap,He=!!U.specularMap,Me=!!U.specularColorMap,Sn=!!U.specularIntensityMap,lt=ce&&!!U.transmissionMap,ie=ce&&!!U.thicknessMap,At=!!U.gradientMap,zt=!!U.alphaMap,te=U.alphaTest>0,ne=!!U.alphaHash,Le=!!U.extensions;let Bn=yl;U.toneMapped&&(It===null||It.isXRRenderTarget===!0)&&(Bn=n.toneMapping);const ti={shaderID:vt,shaderType:U.type,shaderName:U.name,vertexShader:Ot,fragmentShader:it,defines:U.defines,customVertexShaderID:Tt,customFragmentShaderID:Ut,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:_,batching:qt,batchingColor:qt&&st._colorsTexture!==null,instancing:ye,instancingColor:ye&&st.instanceColor!==null,instancingMorph:ye&&st.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:It===null?n.outputColorSpace:It.isXRRenderTarget===!0?It.texture.colorSpace:Du,alphaToCoverage:!!U.alphaToCoverage,map:le,matcap:Pt,envMap:Rt,envMapMode:Rt&&et.mapping,envMapCubeUVHeight:Q,aoMap:Y,lightMap:ue,bumpMap:Ht,normalMap:$t,displacementMap:x&&Kt,emissiveMap:Se,normalMapObjectSpace:$t&&U.normalMapType===PP,normalMapTangentSpace:$t&&U.normalMapType===Ou,metalnessMap:Qt,roughnessMap:q,anisotropy:F,anisotropyMap:ee,clearcoat:yt,clearcoatMap:he,clearcoatNormalMap:Ze,clearcoatRoughnessMap:Yt,dispersion:wt,iridescence:Ft,iridescenceMap:pe,iridescenceThicknessMap:xe,sheen:Dt,sheenColorMap:ve,sheenRoughnessMap:de,specularMap:He,specularColorMap:Me,specularIntensityMap:Sn,transmission:ce,transmissionMap:lt,thicknessMap:ie,gradientMap:At,opaque:U.transparent===!1&&U.blending===uh&&U.alphaToCoverage===!1,alphaMap:zt,alphaTest:te,alphaHash:ne,combine:U.combine,mapUv:le&&C(U.map.channel),aoMapUv:Y&&C(U.aoMap.channel),lightMapUv:ue&&C(U.lightMap.channel),bumpMapUv:Ht&&C(U.bumpMap.channel),normalMapUv:$t&&C(U.normalMap.channel),displacementMapUv:Kt&&C(U.displacementMap.channel),emissiveMapUv:Se&&C(U.emissiveMap.channel),metalnessMapUv:Qt&&C(U.metalnessMap.channel),roughnessMapUv:q&&C(U.roughnessMap.channel),anisotropyMapUv:ee&&C(U.anisotropyMap.channel),clearcoatMapUv:he&&C(U.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&C(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Yt&&C(U.clearcoatRoughnessMap.channel),iridescenceMapUv:pe&&C(U.iridescenceMap.channel),iridescenceThicknessMapUv:xe&&C(U.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&C(U.sheenColorMap.channel),sheenRoughnessMapUv:de&&C(U.sheenRoughnessMap.channel),specularMapUv:He&&C(U.specularMap.channel),specularColorMapUv:Me&&C(U.specularColorMap.channel),specularIntensityMapUv:Sn&&C(U.specularIntensityMap.channel),transmissionMapUv:lt&&C(U.transmissionMap.channel),thicknessMapUv:ie&&C(U.thicknessMap.channel),alphaMapUv:zt&&C(U.alphaMap.channel),vertexTangents:!!mt.attributes.tangent&&($t||F),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!mt.attributes.color&&mt.attributes.color.itemSize===4,pointsUvs:st.isPoints===!0&&!!mt.attributes.uv&&(le||zt),fog:!!at,useFog:U.fog===!0,fogExp2:!!at&&at.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:kt,skinning:st.isSkinnedMesh===!0,morphTargets:mt.morphAttributes.position!==void 0,morphNormals:mt.morphAttributes.normal!==void 0,morphColors:mt.morphAttributes.color!==void 0,morphTargetsCount:nt,morphTextureStride:Et,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&X.length>0,shadowMapType:n.shadowMap.type,toneMapping:Bn,decodeVideoTexture:le&&U.map.isVideoTexture===!0&&_n.getTransfer(U.map.colorSpace)===Fn,decodeVideoTextureEmissive:Se&&U.emissiveMap.isVideoTexture===!0&&_n.getTransfer(U.emissiveMap.colorSpace)===Fn,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===_o,flipSided:U.side===ya,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Le&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Le&&U.extensions.multiDraw===!0||qt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return ti.vertexUv1s=p.has(1),ti.vertexUv2s=p.has(2),ti.vertexUv3s=p.has(3),p.clear(),ti}function M(U){const z=[];if(U.shaderID?z.push(U.shaderID):(z.push(U.customVertexShaderID),z.push(U.customFragmentShaderID)),U.defines!==void 0)for(const X in U.defines)z.push(X),z.push(U.defines[X]);return U.isRawShaderMaterial===!1&&(R(z,U),D(z,U),z.push(n.outputColorSpace)),z.push(U.customProgramCacheKey),z.join()}function R(U,z){U.push(z.precision),U.push(z.outputColorSpace),U.push(z.envMapMode),U.push(z.envMapCubeUVHeight),U.push(z.mapUv),U.push(z.alphaMapUv),U.push(z.lightMapUv),U.push(z.aoMapUv),U.push(z.bumpMapUv),U.push(z.normalMapUv),U.push(z.displacementMapUv),U.push(z.emissiveMapUv),U.push(z.metalnessMapUv),U.push(z.roughnessMapUv),U.push(z.anisotropyMapUv),U.push(z.clearcoatMapUv),U.push(z.clearcoatNormalMapUv),U.push(z.clearcoatRoughnessMapUv),U.push(z.iridescenceMapUv),U.push(z.iridescenceThicknessMapUv),U.push(z.sheenColorMapUv),U.push(z.sheenRoughnessMapUv),U.push(z.specularMapUv),U.push(z.specularColorMapUv),U.push(z.specularIntensityMapUv),U.push(z.transmissionMapUv),U.push(z.thicknessMapUv),U.push(z.combine),U.push(z.fogExp2),U.push(z.sizeAttenuation),U.push(z.morphTargetsCount),U.push(z.morphAttributeCount),U.push(z.numDirLights),U.push(z.numPointLights),U.push(z.numSpotLights),U.push(z.numSpotLightMaps),U.push(z.numHemiLights),U.push(z.numRectAreaLights),U.push(z.numDirLightShadows),U.push(z.numPointLightShadows),U.push(z.numSpotLightShadows),U.push(z.numSpotLightShadowsWithMaps),U.push(z.numLightProbes),U.push(z.shadowMapType),U.push(z.toneMapping),U.push(z.numClippingPlanes),U.push(z.numClipIntersection),U.push(z.depthPacking)}function D(U,z){c.disableAll(),z.supportsVertexTextures&&c.enable(0),z.instancing&&c.enable(1),z.instancingColor&&c.enable(2),z.instancingMorph&&c.enable(3),z.matcap&&c.enable(4),z.envMap&&c.enable(5),z.normalMapObjectSpace&&c.enable(6),z.normalMapTangentSpace&&c.enable(7),z.clearcoat&&c.enable(8),z.iridescence&&c.enable(9),z.alphaTest&&c.enable(10),z.vertexColors&&c.enable(11),z.vertexAlphas&&c.enable(12),z.vertexUv1s&&c.enable(13),z.vertexUv2s&&c.enable(14),z.vertexUv3s&&c.enable(15),z.vertexTangents&&c.enable(16),z.anisotropy&&c.enable(17),z.alphaHash&&c.enable(18),z.batching&&c.enable(19),z.dispersion&&c.enable(20),z.batchingColor&&c.enable(21),U.push(c.mask),c.disableAll(),z.fog&&c.enable(0),z.useFog&&c.enable(1),z.flatShading&&c.enable(2),z.logarithmicDepthBuffer&&c.enable(3),z.reverseDepthBuffer&&c.enable(4),z.skinning&&c.enable(5),z.morphTargets&&c.enable(6),z.morphNormals&&c.enable(7),z.morphColors&&c.enable(8),z.premultipliedAlpha&&c.enable(9),z.shadowMapEnabled&&c.enable(10),z.doubleSided&&c.enable(11),z.flipSided&&c.enable(12),z.useDepthPacking&&c.enable(13),z.dithering&&c.enable(14),z.transmission&&c.enable(15),z.sheen&&c.enable(16),z.opaque&&c.enable(17),z.pointsUvs&&c.enable(18),z.decodeVideoTexture&&c.enable(19),z.decodeVideoTextureEmissive&&c.enable(20),z.alphaToCoverage&&c.enable(21),U.push(c.mask)}function L(U){const z=T[U.type];let X;if(z){const dt=xo[z];X=ZP.clone(dt.uniforms)}else X=U.uniforms;return X}function B(U,z){let X;for(let dt=0,st=m.length;dt<st;dt++){const at=m[dt];if(at.cacheKey===z){X=at,++X.usedTimes;break}}return X===void 0&&(X=new hQ(n,z,U,r),m.push(X)),X}function P(U){if(--U.usedTimes===0){const z=m.indexOf(U);m[z]=m[m.length-1],m.pop(),U.destroy()}}function I(U){h.remove(U)}function V(){h.dispose()}return{getParameters:E,getProgramCacheKey:M,getUniforms:L,acquireProgram:B,releaseProgram:P,releaseShaderCache:I,programs:m,dispose:V}}function vQ(){let n=new WeakMap;function t(o){return n.has(o)}function e(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function s(o,c,h){n.get(o)[c]=h}function r(){n=new WeakMap}return{has:t,get:e,remove:i,update:s,dispose:r}}function yQ(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function f3(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function h3(){const n=[];let t=0;const e=[],i=[],s=[];function r(){t=0,e.length=0,i.length=0,s.length=0}function o(v,x,_,T,C,E){let M=n[t];return M===void 0?(M={id:v.id,object:v,geometry:x,material:_,groupOrder:T,renderOrder:v.renderOrder,z:C,group:E},n[t]=M):(M.id=v.id,M.object=v,M.geometry=x,M.material=_,M.groupOrder=T,M.renderOrder=v.renderOrder,M.z=C,M.group=E),t++,M}function c(v,x,_,T,C,E){const M=o(v,x,_,T,C,E);_.transmission>0?i.push(M):_.transparent===!0?s.push(M):e.push(M)}function h(v,x,_,T,C,E){const M=o(v,x,_,T,C,E);_.transmission>0?i.unshift(M):_.transparent===!0?s.unshift(M):e.unshift(M)}function p(v,x){e.length>1&&e.sort(v||yQ),i.length>1&&i.sort(x||f3),s.length>1&&s.sort(x||f3)}function m(){for(let v=t,x=n.length;v<x;v++){const _=n[v];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:e,transmissive:i,transparent:s,init:r,push:c,unshift:h,finish:m,sort:p}}function xQ(){let n=new WeakMap;function t(i,s){const r=n.get(i);let o;return r===void 0?(o=new h3,n.set(i,[o])):s>=r.length?(o=new h3,r.push(o)):o=r[s],o}function e(){n=new WeakMap}return{get:t,dispose:e}}function _Q(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new Z,color:new fe};break;case"SpotLight":e={position:new Z,direction:new Z,color:new fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new Z,color:new fe,distance:0,decay:0};break;case"HemisphereLight":e={direction:new Z,skyColor:new fe,groundColor:new fe};break;case"RectAreaLight":e={color:new fe,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[t.id]=e,e}}}function SQ(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let bQ=0;function MQ(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function TQ(n){const t=new _Q,e=SQ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new Z);const s=new Z,r=new Ve,o=new Ve;function c(p){let m=0,v=0,x=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let _=0,T=0,C=0,E=0,M=0,R=0,D=0,L=0,B=0,P=0,I=0;p.sort(MQ);for(let U=0,z=p.length;U<z;U++){const X=p[U],dt=X.color,st=X.intensity,at=X.distance,mt=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)m+=dt.r*st,v+=dt.g*st,x+=dt.b*st;else if(X.isLightProbe){for(let W=0;W<9;W++)i.probe[W].addScaledVector(X.sh.coefficients[W],st);I++}else if(X.isDirectionalLight){const W=t.get(X);if(W.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const et=X.shadow,Q=e.get(X);Q.shadowIntensity=et.intensity,Q.shadowBias=et.bias,Q.shadowNormalBias=et.normalBias,Q.shadowRadius=et.radius,Q.shadowMapSize=et.mapSize,i.directionalShadow[_]=Q,i.directionalShadowMap[_]=mt,i.directionalShadowMatrix[_]=X.shadow.matrix,R++}i.directional[_]=W,_++}else if(X.isSpotLight){const W=t.get(X);W.position.setFromMatrixPosition(X.matrixWorld),W.color.copy(dt).multiplyScalar(st),W.distance=at,W.coneCos=Math.cos(X.angle),W.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),W.decay=X.decay,i.spot[C]=W;const et=X.shadow;if(X.map&&(i.spotLightMap[B]=X.map,B++,et.updateMatrices(X),X.castShadow&&P++),i.spotLightMatrix[C]=et.matrix,X.castShadow){const Q=e.get(X);Q.shadowIntensity=et.intensity,Q.shadowBias=et.bias,Q.shadowNormalBias=et.normalBias,Q.shadowRadius=et.radius,Q.shadowMapSize=et.mapSize,i.spotShadow[C]=Q,i.spotShadowMap[C]=mt,L++}C++}else if(X.isRectAreaLight){const W=t.get(X);W.color.copy(dt).multiplyScalar(st),W.halfWidth.set(X.width*.5,0,0),W.halfHeight.set(0,X.height*.5,0),i.rectArea[E]=W,E++}else if(X.isPointLight){const W=t.get(X);if(W.color.copy(X.color).multiplyScalar(X.intensity),W.distance=X.distance,W.decay=X.decay,X.castShadow){const et=X.shadow,Q=e.get(X);Q.shadowIntensity=et.intensity,Q.shadowBias=et.bias,Q.shadowNormalBias=et.normalBias,Q.shadowRadius=et.radius,Q.shadowMapSize=et.mapSize,Q.shadowCameraNear=et.camera.near,Q.shadowCameraFar=et.camera.far,i.pointShadow[T]=Q,i.pointShadowMap[T]=mt,i.pointShadowMatrix[T]=X.shadow.matrix,D++}i.point[T]=W,T++}else if(X.isHemisphereLight){const W=t.get(X);W.skyColor.copy(X.color).multiplyScalar(st),W.groundColor.copy(X.groundColor).multiplyScalar(st),i.hemi[M]=W,M++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=oe.LTC_FLOAT_1,i.rectAreaLTC2=oe.LTC_FLOAT_2):(i.rectAreaLTC1=oe.LTC_HALF_1,i.rectAreaLTC2=oe.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const V=i.hash;(V.directionalLength!==_||V.pointLength!==T||V.spotLength!==C||V.rectAreaLength!==E||V.hemiLength!==M||V.numDirectionalShadows!==R||V.numPointShadows!==D||V.numSpotShadows!==L||V.numSpotMaps!==B||V.numLightProbes!==I)&&(i.directional.length=_,i.spot.length=C,i.rectArea.length=E,i.point.length=T,i.hemi.length=M,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=L+B-P,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=I,V.directionalLength=_,V.pointLength=T,V.spotLength=C,V.rectAreaLength=E,V.hemiLength=M,V.numDirectionalShadows=R,V.numPointShadows=D,V.numSpotShadows=L,V.numSpotMaps=B,V.numLightProbes=I,i.version=bQ++)}function h(p,m){let v=0,x=0,_=0,T=0,C=0;const E=m.matrixWorldInverse;for(let M=0,R=p.length;M<R;M++){const D=p[M];if(D.isDirectionalLight){const L=i.directional[v];L.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(E),v++}else if(D.isSpotLight){const L=i.spot[_];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),L.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(E),_++}else if(D.isRectAreaLight){const L=i.rectArea[T];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),o.identity(),r.copy(D.matrixWorld),r.premultiply(E),o.extractRotation(r),L.halfWidth.set(D.width*.5,0,0),L.halfHeight.set(0,D.height*.5,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),T++}else if(D.isPointLight){const L=i.point[x];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(E),x++}else if(D.isHemisphereLight){const L=i.hemi[C];L.direction.setFromMatrixPosition(D.matrixWorld),L.direction.transformDirection(E),C++}}}return{setup:c,setupView:h,state:i}}function d3(n){const t=new TQ(n),e=[],i=[];function s(m){p.camera=m,e.length=0,i.length=0}function r(m){e.push(m)}function o(m){i.push(m)}function c(){t.setup(e)}function h(m){t.setupView(e,m)}const p={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:c,setupLightsView:h,pushLight:r,pushShadow:o}}function EQ(n){let t=new WeakMap;function e(s,r=0){const o=t.get(s);let c;return o===void 0?(c=new d3(n),t.set(s,[c])):r>=o.length?(c=new d3(n),o.push(c)):c=o[r],c}function i(){t=new WeakMap}return{get:e,dispose:i}}const AQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function CQ(n,t,e){let i=new q0;const s=new Vt,r=new Vt,o=new pn,c=new CA({depthPacking:OP}),h=new RA,p={},m=e.maxTextureSize,v={[yc]:ya,[ya]:yc,[_o]:_o},x=new Ao({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vt},radius:{value:4}},vertexShader:AQ,fragmentShader:wQ}),_=x.clone();_.defines.HORIZONTAL_PASS=1;const T=new en;T.setAttribute("position",new qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Xi(T,x),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d1;let M=this.type;this.render=function(P,I,V){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||P.length===0)return;const U=n.getRenderTarget(),z=n.getActiveCubeFace(),X=n.getActiveMipmapLevel(),dt=n.state;dt.setBlending(mc),dt.buffers.color.setClear(1,1,1,1),dt.buffers.depth.setTest(!0),dt.setScissorTest(!1);const st=M!==yo&&this.type===yo,at=M===yo&&this.type!==yo;for(let mt=0,W=P.length;mt<W;mt++){const et=P[mt],Q=et.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",et,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;s.copy(Q.mapSize);const vt=Q.getFrameExtents();if(s.multiply(vt),r.copy(Q.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/vt.x),s.x=r.x*vt.x,Q.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/vt.y),s.y=r.y*vt.y,Q.mapSize.y=r.y)),Q.map===null||st===!0||at===!0){const nt=this.type!==yo?{minFilter:Us,magFilter:Us}:{};Q.map!==null&&Q.map.dispose(),Q.map=new Ml(s.x,s.y,nt),Q.map.texture.name=et.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const G=Q.getViewportCount();for(let nt=0;nt<G;nt++){const Et=Q.getViewport(nt);o.set(r.x*Et.x,r.y*Et.y,r.x*Et.z,r.y*Et.w),dt.viewport(o),Q.updateMatrices(et,nt),i=Q.getFrustum(),L(I,V,Q.camera,et,this.type)}Q.isPointLightShadow!==!0&&this.type===yo&&R(Q,V),Q.needsUpdate=!1}M=this.type,E.needsUpdate=!1,n.setRenderTarget(U,z,X)};function R(P,I){const V=t.update(C);x.defines.VSM_SAMPLES!==P.blurSamples&&(x.defines.VSM_SAMPLES=P.blurSamples,_.defines.VSM_SAMPLES=P.blurSamples,x.needsUpdate=!0,_.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Ml(s.x,s.y)),x.uniforms.shadow_pass.value=P.map.texture,x.uniforms.resolution.value=P.mapSize,x.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(I,null,V,x,C,null),_.uniforms.shadow_pass.value=P.mapPass.texture,_.uniforms.resolution.value=P.mapSize,_.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(I,null,V,_,C,null)}function D(P,I,V,U){let z=null;const X=V.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(X!==void 0)z=X;else if(z=V.isPointLight===!0?h:c,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const dt=z.uuid,st=I.uuid;let at=p[dt];at===void 0&&(at={},p[dt]=at);let mt=at[st];mt===void 0&&(mt=z.clone(),at[st]=mt,I.addEventListener("dispose",B)),z=mt}if(z.visible=I.visible,z.wireframe=I.wireframe,U===yo?z.side=I.shadowSide!==null?I.shadowSide:I.side:z.side=I.shadowSide!==null?I.shadowSide:v[I.side],z.alphaMap=I.alphaMap,z.alphaTest=I.alphaTest,z.map=I.map,z.clipShadows=I.clipShadows,z.clippingPlanes=I.clippingPlanes,z.clipIntersection=I.clipIntersection,z.displacementMap=I.displacementMap,z.displacementScale=I.displacementScale,z.displacementBias=I.displacementBias,z.wireframeLinewidth=I.wireframeLinewidth,z.linewidth=I.linewidth,V.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const dt=n.properties.get(z);dt.light=V}return z}function L(P,I,V,U,z){if(P.visible===!1)return;if(P.layers.test(I.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&z===yo)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,P.matrixWorld);const st=t.update(P),at=P.material;if(Array.isArray(at)){const mt=st.groups;for(let W=0,et=mt.length;W<et;W++){const Q=mt[W],vt=at[Q.materialIndex];if(vt&&vt.visible){const G=D(P,vt,U,z);P.onBeforeShadow(n,P,I,V,st,G,Q),n.renderBufferDirect(V,null,st,G,P,Q),P.onAfterShadow(n,P,I,V,st,G,Q)}}}else if(at.visible){const mt=D(P,at,U,z);P.onBeforeShadow(n,P,I,V,st,mt,null),n.renderBufferDirect(V,null,st,mt,P,null),P.onAfterShadow(n,P,I,V,st,mt,null)}}const dt=P.children;for(let st=0,at=dt.length;st<at;st++)L(dt[st],I,V,U,z)}function B(P){P.target.removeEventListener("dispose",B);for(const V in p){const U=p[V],z=P.target.uuid;z in U&&(U[z].dispose(),delete U[z])}}}const RQ={[h_]:d_,[p_]:v_,[m_]:y_,[mh]:g_,[d_]:h_,[v_]:p_,[y_]:m_,[g_]:mh};function DQ(n,t){function e(){let lt=!1;const ie=new pn;let At=null;const zt=new pn(0,0,0,0);return{setMask:function(te){At!==te&&!lt&&(n.colorMask(te,te,te,te),At=te)},setLocked:function(te){lt=te},setClear:function(te,ne,Le,Bn,ti){ti===!0&&(te*=Bn,ne*=Bn,Le*=Bn),ie.set(te,ne,Le,Bn),zt.equals(ie)===!1&&(n.clearColor(te,ne,Le,Bn),zt.copy(ie))},reset:function(){lt=!1,At=null,zt.set(-1,0,0,0)}}}function i(){let lt=!1,ie=!1,At=null,zt=null,te=null;return{setReversed:function(ne){if(ie!==ne){const Le=t.get("EXT_clip_control");ie?Le.clipControlEXT(Le.LOWER_LEFT_EXT,Le.ZERO_TO_ONE_EXT):Le.clipControlEXT(Le.LOWER_LEFT_EXT,Le.NEGATIVE_ONE_TO_ONE_EXT);const Bn=te;te=null,this.setClear(Bn)}ie=ne},getReversed:function(){return ie},setTest:function(ne){ne?It(n.DEPTH_TEST):kt(n.DEPTH_TEST)},setMask:function(ne){At!==ne&&!lt&&(n.depthMask(ne),At=ne)},setFunc:function(ne){if(ie&&(ne=RQ[ne]),zt!==ne){switch(ne){case h_:n.depthFunc(n.NEVER);break;case d_:n.depthFunc(n.ALWAYS);break;case p_:n.depthFunc(n.LESS);break;case mh:n.depthFunc(n.LEQUAL);break;case m_:n.depthFunc(n.EQUAL);break;case g_:n.depthFunc(n.GEQUAL);break;case v_:n.depthFunc(n.GREATER);break;case y_:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}zt=ne}},setLocked:function(ne){lt=ne},setClear:function(ne){te!==ne&&(ie&&(ne=1-ne),n.clearDepth(ne),te=ne)},reset:function(){lt=!1,At=null,zt=null,te=null,ie=!1}}}function s(){let lt=!1,ie=null,At=null,zt=null,te=null,ne=null,Le=null,Bn=null,ti=null;return{setTest:function(dn){lt||(dn?It(n.STENCIL_TEST):kt(n.STENCIL_TEST))},setMask:function(dn){ie!==dn&&!lt&&(n.stencilMask(dn),ie=dn)},setFunc:function(dn,is,ss){(At!==dn||zt!==is||te!==ss)&&(n.stencilFunc(dn,is,ss),At=dn,zt=is,te=ss)},setOp:function(dn,is,ss){(ne!==dn||Le!==is||Bn!==ss)&&(n.stencilOp(dn,is,ss),ne=dn,Le=is,Bn=ss)},setLocked:function(dn){lt=dn},setClear:function(dn){ti!==dn&&(n.clearStencil(dn),ti=dn)},reset:function(){lt=!1,ie=null,At=null,zt=null,te=null,ne=null,Le=null,Bn=null,ti=null}}}const r=new e,o=new i,c=new s,h=new WeakMap,p=new WeakMap;let m={},v={},x=new WeakMap,_=[],T=null,C=!1,E=null,M=null,R=null,D=null,L=null,B=null,P=null,I=new fe(0,0,0),V=0,U=!1,z=null,X=null,dt=null,st=null,at=null;const mt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,et=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(et=parseFloat(/^WebGL (\d)/.exec(Q)[1]),W=et>=1):Q.indexOf("OpenGL ES")!==-1&&(et=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),W=et>=2);let vt=null,G={};const nt=n.getParameter(n.SCISSOR_BOX),Et=n.getParameter(n.VIEWPORT),Ot=new pn().fromArray(nt),it=new pn().fromArray(Et);function Tt(lt,ie,At,zt){const te=new Uint8Array(4),ne=n.createTexture();n.bindTexture(lt,ne),n.texParameteri(lt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(lt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Le=0;Le<At;Le++)lt===n.TEXTURE_3D||lt===n.TEXTURE_2D_ARRAY?n.texImage3D(ie,0,n.RGBA,1,1,zt,0,n.RGBA,n.UNSIGNED_BYTE,te):n.texImage2D(ie+Le,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,te);return ne}const Ut={};Ut[n.TEXTURE_2D]=Tt(n.TEXTURE_2D,n.TEXTURE_2D,1),Ut[n.TEXTURE_CUBE_MAP]=Tt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ut[n.TEXTURE_2D_ARRAY]=Tt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ut[n.TEXTURE_3D]=Tt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),c.setClear(0),It(n.DEPTH_TEST),o.setFunc(mh),Ht(!1),$t(aT),It(n.CULL_FACE),Y(mc);function It(lt){m[lt]!==!0&&(n.enable(lt),m[lt]=!0)}function kt(lt){m[lt]!==!1&&(n.disable(lt),m[lt]=!1)}function ye(lt,ie){return v[lt]!==ie?(n.bindFramebuffer(lt,ie),v[lt]=ie,lt===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=ie),lt===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=ie),!0):!1}function qt(lt,ie){let At=_,zt=!1;if(lt){At=x.get(ie),At===void 0&&(At=[],x.set(ie,At));const te=lt.textures;if(At.length!==te.length||At[0]!==n.COLOR_ATTACHMENT0){for(let ne=0,Le=te.length;ne<Le;ne++)At[ne]=n.COLOR_ATTACHMENT0+ne;At.length=te.length,zt=!0}}else At[0]!==n.BACK&&(At[0]=n.BACK,zt=!0);zt&&n.drawBuffers(At)}function le(lt){return T!==lt?(n.useProgram(lt),T=lt,!0):!1}const Pt={[Tu]:n.FUNC_ADD,[sP]:n.FUNC_SUBTRACT,[aP]:n.FUNC_REVERSE_SUBTRACT};Pt[rP]=n.MIN,Pt[oP]=n.MAX;const Rt={[lP]:n.ZERO,[cP]:n.ONE,[uP]:n.SRC_COLOR,[u_]:n.SRC_ALPHA,[gP]:n.SRC_ALPHA_SATURATE,[pP]:n.DST_COLOR,[hP]:n.DST_ALPHA,[fP]:n.ONE_MINUS_SRC_COLOR,[f_]:n.ONE_MINUS_SRC_ALPHA,[mP]:n.ONE_MINUS_DST_COLOR,[dP]:n.ONE_MINUS_DST_ALPHA,[vP]:n.CONSTANT_COLOR,[yP]:n.ONE_MINUS_CONSTANT_COLOR,[xP]:n.CONSTANT_ALPHA,[_P]:n.ONE_MINUS_CONSTANT_ALPHA};function Y(lt,ie,At,zt,te,ne,Le,Bn,ti,dn){if(lt===mc){C===!0&&(kt(n.BLEND),C=!1);return}if(C===!1&&(It(n.BLEND),C=!0),lt!==iP){if(lt!==E||dn!==U){if((M!==Tu||L!==Tu)&&(n.blendEquation(n.FUNC_ADD),M=Tu,L=Tu),dn)switch(lt){case uh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case rT:n.blendFunc(n.ONE,n.ONE);break;case oT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case lT:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",lt);break}else switch(lt){case uh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case rT:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case oT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case lT:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",lt);break}R=null,D=null,B=null,P=null,I.set(0,0,0),V=0,E=lt,U=dn}return}te=te||ie,ne=ne||At,Le=Le||zt,(ie!==M||te!==L)&&(n.blendEquationSeparate(Pt[ie],Pt[te]),M=ie,L=te),(At!==R||zt!==D||ne!==B||Le!==P)&&(n.blendFuncSeparate(Rt[At],Rt[zt],Rt[ne],Rt[Le]),R=At,D=zt,B=ne,P=Le),(Bn.equals(I)===!1||ti!==V)&&(n.blendColor(Bn.r,Bn.g,Bn.b,ti),I.copy(Bn),V=ti),E=lt,U=!1}function ue(lt,ie){lt.side===_o?kt(n.CULL_FACE):It(n.CULL_FACE);let At=lt.side===ya;ie&&(At=!At),Ht(At),lt.blending===uh&&lt.transparent===!1?Y(mc):Y(lt.blending,lt.blendEquation,lt.blendSrc,lt.blendDst,lt.blendEquationAlpha,lt.blendSrcAlpha,lt.blendDstAlpha,lt.blendColor,lt.blendAlpha,lt.premultipliedAlpha),o.setFunc(lt.depthFunc),o.setTest(lt.depthTest),o.setMask(lt.depthWrite),r.setMask(lt.colorWrite);const zt=lt.stencilWrite;c.setTest(zt),zt&&(c.setMask(lt.stencilWriteMask),c.setFunc(lt.stencilFunc,lt.stencilRef,lt.stencilFuncMask),c.setOp(lt.stencilFail,lt.stencilZFail,lt.stencilZPass)),Se(lt.polygonOffset,lt.polygonOffsetFactor,lt.polygonOffsetUnits),lt.alphaToCoverage===!0?It(n.SAMPLE_ALPHA_TO_COVERAGE):kt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ht(lt){z!==lt&&(lt?n.frontFace(n.CW):n.frontFace(n.CCW),z=lt)}function $t(lt){lt!==tP?(It(n.CULL_FACE),lt!==X&&(lt===aT?n.cullFace(n.BACK):lt===eP?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):kt(n.CULL_FACE),X=lt}function Kt(lt){lt!==dt&&(W&&n.lineWidth(lt),dt=lt)}function Se(lt,ie,At){lt?(It(n.POLYGON_OFFSET_FILL),(st!==ie||at!==At)&&(n.polygonOffset(ie,At),st=ie,at=At)):kt(n.POLYGON_OFFSET_FILL)}function Qt(lt){lt?It(n.SCISSOR_TEST):kt(n.SCISSOR_TEST)}function q(lt){lt===void 0&&(lt=n.TEXTURE0+mt-1),vt!==lt&&(n.activeTexture(lt),vt=lt)}function F(lt,ie,At){At===void 0&&(vt===null?At=n.TEXTURE0+mt-1:At=vt);let zt=G[At];zt===void 0&&(zt={type:void 0,texture:void 0},G[At]=zt),(zt.type!==lt||zt.texture!==ie)&&(vt!==At&&(n.activeTexture(At),vt=At),n.bindTexture(lt,ie||Ut[lt]),zt.type=lt,zt.texture=ie)}function yt(){const lt=G[vt];lt!==void 0&&lt.type!==void 0&&(n.bindTexture(lt.type,null),lt.type=void 0,lt.texture=void 0)}function wt(){try{n.compressedTexImage2D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Ft(){try{n.compressedTexImage3D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Dt(){try{n.texSubImage2D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ce(){try{n.texSubImage3D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ee(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function he(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Ze(){try{n.texStorage2D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function Yt(){try{n.texStorage3D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function pe(){try{n.texImage2D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function xe(){try{n.texImage3D.apply(n,arguments)}catch(lt){console.error("THREE.WebGLState:",lt)}}function ve(lt){Ot.equals(lt)===!1&&(n.scissor(lt.x,lt.y,lt.z,lt.w),Ot.copy(lt))}function de(lt){it.equals(lt)===!1&&(n.viewport(lt.x,lt.y,lt.z,lt.w),it.copy(lt))}function He(lt,ie){let At=p.get(ie);At===void 0&&(At=new WeakMap,p.set(ie,At));let zt=At.get(lt);zt===void 0&&(zt=n.getUniformBlockIndex(ie,lt.name),At.set(lt,zt))}function Me(lt,ie){const zt=p.get(ie).get(lt);h.get(ie)!==zt&&(n.uniformBlockBinding(ie,zt,lt.__bindingPointIndex),h.set(ie,zt))}function Sn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},vt=null,G={},v={},x=new WeakMap,_=[],T=null,C=!1,E=null,M=null,R=null,D=null,L=null,B=null,P=null,I=new fe(0,0,0),V=0,U=!1,z=null,X=null,dt=null,st=null,at=null,Ot.set(0,0,n.canvas.width,n.canvas.height),it.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),c.reset()}return{buffers:{color:r,depth:o,stencil:c},enable:It,disable:kt,bindFramebuffer:ye,drawBuffers:qt,useProgram:le,setBlending:Y,setMaterial:ue,setFlipSided:Ht,setCullFace:$t,setLineWidth:Kt,setPolygonOffset:Se,setScissorTest:Qt,activeTexture:q,bindTexture:F,unbindTexture:yt,compressedTexImage2D:wt,compressedTexImage3D:Ft,texImage2D:pe,texImage3D:xe,updateUBOMapping:He,uniformBlockBinding:Me,texStorage2D:Ze,texStorage3D:Yt,texSubImage2D:Dt,texSubImage3D:ce,compressedTexSubImage2D:ee,compressedTexSubImage3D:he,scissor:ve,viewport:de,reset:Sn}}function NQ(n,t,e,i,s,r,o){const c=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Vt,m=new WeakMap;let v;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(q,F){return _?new OffscreenCanvas(q,F):_0("canvas")}function C(q,F,yt){let wt=1;const Ft=Qt(q);if((Ft.width>yt||Ft.height>yt)&&(wt=yt/Math.max(Ft.width,Ft.height)),wt<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const Dt=Math.floor(wt*Ft.width),ce=Math.floor(wt*Ft.height);v===void 0&&(v=T(Dt,ce));const ee=F?T(Dt,ce):v;return ee.width=Dt,ee.height=ce,ee.getContext("2d").drawImage(q,0,0,Dt,ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ft.width+"x"+Ft.height+") to ("+Dt+"x"+ce+")."),ee}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ft.width+"x"+Ft.height+")."),q;return q}function E(q){return q.generateMipmaps}function M(q){n.generateMipmap(q)}function R(q){return q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:q.isWebGL3DRenderTarget?n.TEXTURE_3D:q.isWebGLArrayRenderTarget||q.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(q,F,yt,wt,Ft=!1){if(q!==null){if(n[q]!==void 0)return n[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Dt=F;if(F===n.RED&&(yt===n.FLOAT&&(Dt=n.R32F),yt===n.HALF_FLOAT&&(Dt=n.R16F),yt===n.UNSIGNED_BYTE&&(Dt=n.R8)),F===n.RED_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.R8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.R16UI),yt===n.UNSIGNED_INT&&(Dt=n.R32UI),yt===n.BYTE&&(Dt=n.R8I),yt===n.SHORT&&(Dt=n.R16I),yt===n.INT&&(Dt=n.R32I)),F===n.RG&&(yt===n.FLOAT&&(Dt=n.RG32F),yt===n.HALF_FLOAT&&(Dt=n.RG16F),yt===n.UNSIGNED_BYTE&&(Dt=n.RG8)),F===n.RG_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.RG8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.RG16UI),yt===n.UNSIGNED_INT&&(Dt=n.RG32UI),yt===n.BYTE&&(Dt=n.RG8I),yt===n.SHORT&&(Dt=n.RG16I),yt===n.INT&&(Dt=n.RG32I)),F===n.RGB_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.RGB8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.RGB16UI),yt===n.UNSIGNED_INT&&(Dt=n.RGB32UI),yt===n.BYTE&&(Dt=n.RGB8I),yt===n.SHORT&&(Dt=n.RGB16I),yt===n.INT&&(Dt=n.RGB32I)),F===n.RGBA_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.RGBA8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.RGBA16UI),yt===n.UNSIGNED_INT&&(Dt=n.RGBA32UI),yt===n.BYTE&&(Dt=n.RGBA8I),yt===n.SHORT&&(Dt=n.RGBA16I),yt===n.INT&&(Dt=n.RGBA32I)),F===n.RGB&&yt===n.UNSIGNED_INT_5_9_9_9_REV&&(Dt=n.RGB9_E5),F===n.RGBA){const ce=Ft?v0:_n.getTransfer(wt);yt===n.FLOAT&&(Dt=n.RGBA32F),yt===n.HALF_FLOAT&&(Dt=n.RGBA16F),yt===n.UNSIGNED_BYTE&&(Dt=ce===Fn?n.SRGB8_ALPHA8:n.RGBA8),yt===n.UNSIGNED_SHORT_4_4_4_4&&(Dt=n.RGBA4),yt===n.UNSIGNED_SHORT_5_5_5_1&&(Dt=n.RGB5_A1)}return(Dt===n.R16F||Dt===n.R32F||Dt===n.RG16F||Dt===n.RG32F||Dt===n.RGBA16F||Dt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Dt}function L(q,F){let yt;return q?F===null||F===_c||F===gh?yt=n.DEPTH24_STENCIL8:F===Fa?yt=n.DEPTH32F_STENCIL8:F===xp&&(yt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===_c||F===gh?yt=n.DEPTH_COMPONENT24:F===Fa?yt=n.DEPTH_COMPONENT32F:F===xp&&(yt=n.DEPTH_COMPONENT16),yt}function B(q,F){return E(q)===!0||q.isFramebufferTexture&&q.minFilter!==Us&&q.minFilter!==$i?Math.log2(Math.max(F.width,F.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?F.mipmaps.length:1}function P(q){const F=q.target;F.removeEventListener("dispose",P),V(F),F.isVideoTexture&&m.delete(F)}function I(q){const F=q.target;F.removeEventListener("dispose",I),z(F)}function V(q){const F=i.get(q);if(F.__webglInit===void 0)return;const yt=q.source,wt=x.get(yt);if(wt){const Ft=wt[F.__cacheKey];Ft.usedTimes--,Ft.usedTimes===0&&U(q),Object.keys(wt).length===0&&x.delete(yt)}i.remove(q)}function U(q){const F=i.get(q);n.deleteTexture(F.__webglTexture);const yt=q.source,wt=x.get(yt);delete wt[F.__cacheKey],o.memory.textures--}function z(q){const F=i.get(q);if(q.depthTexture&&(q.depthTexture.dispose(),i.remove(q.depthTexture)),q.isWebGLCubeRenderTarget)for(let wt=0;wt<6;wt++){if(Array.isArray(F.__webglFramebuffer[wt]))for(let Ft=0;Ft<F.__webglFramebuffer[wt].length;Ft++)n.deleteFramebuffer(F.__webglFramebuffer[wt][Ft]);else n.deleteFramebuffer(F.__webglFramebuffer[wt]);F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[wt])}else{if(Array.isArray(F.__webglFramebuffer))for(let wt=0;wt<F.__webglFramebuffer.length;wt++)n.deleteFramebuffer(F.__webglFramebuffer[wt]);else n.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let wt=0;wt<F.__webglColorRenderbuffer.length;wt++)F.__webglColorRenderbuffer[wt]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[wt]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const yt=q.textures;for(let wt=0,Ft=yt.length;wt<Ft;wt++){const Dt=i.get(yt[wt]);Dt.__webglTexture&&(n.deleteTexture(Dt.__webglTexture),o.memory.textures--),i.remove(yt[wt])}i.remove(q)}let X=0;function dt(){X=0}function st(){const q=X;return q>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+s.maxTextures),X+=1,q}function at(q){const F=[];return F.push(q.wrapS),F.push(q.wrapT),F.push(q.wrapR||0),F.push(q.magFilter),F.push(q.minFilter),F.push(q.anisotropy),F.push(q.internalFormat),F.push(q.format),F.push(q.type),F.push(q.generateMipmaps),F.push(q.premultiplyAlpha),F.push(q.flipY),F.push(q.unpackAlignment),F.push(q.colorSpace),F.join()}function mt(q,F){const yt=i.get(q);if(q.isVideoTexture&&Kt(q),q.isRenderTargetTexture===!1&&q.version>0&&yt.__version!==q.version){const wt=q.image;if(wt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(wt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{it(yt,q,F);return}}e.bindTexture(n.TEXTURE_2D,yt.__webglTexture,n.TEXTURE0+F)}function W(q,F){const yt=i.get(q);if(q.version>0&&yt.__version!==q.version){it(yt,q,F);return}e.bindTexture(n.TEXTURE_2D_ARRAY,yt.__webglTexture,n.TEXTURE0+F)}function et(q,F){const yt=i.get(q);if(q.version>0&&yt.__version!==q.version){it(yt,q,F);return}e.bindTexture(n.TEXTURE_3D,yt.__webglTexture,n.TEXTURE0+F)}function Q(q,F){const yt=i.get(q);if(q.version>0&&yt.__version!==q.version){Tt(yt,q,F);return}e.bindTexture(n.TEXTURE_CUBE_MAP,yt.__webglTexture,n.TEXTURE0+F)}const vt={[d0]:n.REPEAT,[Nr]:n.CLAMP_TO_EDGE,[p0]:n.MIRRORED_REPEAT},G={[Us]:n.NEAREST,[eA]:n.NEAREST_MIPMAP_NEAREST,[rp]:n.NEAREST_MIPMAP_LINEAR,[$i]:n.LINEAR,[Hg]:n.LINEAR_MIPMAP_NEAREST,[dl]:n.LINEAR_MIPMAP_LINEAR},nt={[zP]:n.NEVER,[GP]:n.ALWAYS,[BP]:n.LESS,[hA]:n.LEQUAL,[VP]:n.EQUAL,[HP]:n.GEQUAL,[IP]:n.GREATER,[FP]:n.NOTEQUAL};function Et(q,F){if(F.type===Fa&&t.has("OES_texture_float_linear")===!1&&(F.magFilter===$i||F.magFilter===Hg||F.magFilter===rp||F.magFilter===dl||F.minFilter===$i||F.minFilter===Hg||F.minFilter===rp||F.minFilter===dl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(q,n.TEXTURE_WRAP_S,vt[F.wrapS]),n.texParameteri(q,n.TEXTURE_WRAP_T,vt[F.wrapT]),(q===n.TEXTURE_3D||q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(q,n.TEXTURE_WRAP_R,vt[F.wrapR]),n.texParameteri(q,n.TEXTURE_MAG_FILTER,G[F.magFilter]),n.texParameteri(q,n.TEXTURE_MIN_FILTER,G[F.minFilter]),F.compareFunction&&(n.texParameteri(q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(q,n.TEXTURE_COMPARE_FUNC,nt[F.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===Us||F.minFilter!==rp&&F.minFilter!==dl||F.type===Fa&&t.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){const yt=t.get("EXT_texture_filter_anisotropic");n.texParameterf(q,yt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,s.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function Ot(q,F){let yt=!1;q.__webglInit===void 0&&(q.__webglInit=!0,F.addEventListener("dispose",P));const wt=F.source;let Ft=x.get(wt);Ft===void 0&&(Ft={},x.set(wt,Ft));const Dt=at(F);if(Dt!==q.__cacheKey){Ft[Dt]===void 0&&(Ft[Dt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,yt=!0),Ft[Dt].usedTimes++;const ce=Ft[q.__cacheKey];ce!==void 0&&(Ft[q.__cacheKey].usedTimes--,ce.usedTimes===0&&U(F)),q.__cacheKey=Dt,q.__webglTexture=Ft[Dt].texture}return yt}function it(q,F,yt){let wt=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(wt=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(wt=n.TEXTURE_3D);const Ft=Ot(q,F),Dt=F.source;e.bindTexture(wt,q.__webglTexture,n.TEXTURE0+yt);const ce=i.get(Dt);if(Dt.version!==ce.__version||Ft===!0){e.activeTexture(n.TEXTURE0+yt);const ee=_n.getPrimaries(_n.workingColorSpace),he=F.colorSpace===uc?null:_n.getPrimaries(F.colorSpace),Ze=F.colorSpace===uc||ee===he?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);let Yt=C(F.image,!1,s.maxTextureSize);Yt=Se(F,Yt);const pe=r.convert(F.format,F.colorSpace),xe=r.convert(F.type);let ve=D(F.internalFormat,pe,xe,F.colorSpace,F.isVideoTexture);Et(wt,F);let de;const He=F.mipmaps,Me=F.isVideoTexture!==!0,Sn=ce.__version===void 0||Ft===!0,lt=Dt.dataReady,ie=B(F,Yt);if(F.isDepthTexture)ve=L(F.format===vh,F.type),Sn&&(Me?e.texStorage2D(n.TEXTURE_2D,1,ve,Yt.width,Yt.height):e.texImage2D(n.TEXTURE_2D,0,ve,Yt.width,Yt.height,0,pe,xe,null));else if(F.isDataTexture)if(He.length>0){Me&&Sn&&e.texStorage2D(n.TEXTURE_2D,ie,ve,He[0].width,He[0].height);for(let At=0,zt=He.length;At<zt;At++)de=He[At],Me?lt&&e.texSubImage2D(n.TEXTURE_2D,At,0,0,de.width,de.height,pe,xe,de.data):e.texImage2D(n.TEXTURE_2D,At,ve,de.width,de.height,0,pe,xe,de.data);F.generateMipmaps=!1}else Me?(Sn&&e.texStorage2D(n.TEXTURE_2D,ie,ve,Yt.width,Yt.height),lt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,Yt.width,Yt.height,pe,xe,Yt.data)):e.texImage2D(n.TEXTURE_2D,0,ve,Yt.width,Yt.height,0,pe,xe,Yt.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Me&&Sn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ie,ve,He[0].width,He[0].height,Yt.depth);for(let At=0,zt=He.length;At<zt;At++)if(de=He[At],F.format!==Qs)if(pe!==null)if(Me){if(lt)if(F.layerUpdates.size>0){const te=yT(de.width,de.height,F.format,F.type);for(const ne of F.layerUpdates){const Le=de.data.subarray(ne*te/de.data.BYTES_PER_ELEMENT,(ne+1)*te/de.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,At,0,0,ne,de.width,de.height,1,pe,Le)}F.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,At,0,0,0,de.width,de.height,Yt.depth,pe,de.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,At,ve,de.width,de.height,Yt.depth,0,de.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?lt&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,At,0,0,0,de.width,de.height,Yt.depth,pe,xe,de.data):e.texImage3D(n.TEXTURE_2D_ARRAY,At,ve,de.width,de.height,Yt.depth,0,pe,xe,de.data)}else{Me&&Sn&&e.texStorage2D(n.TEXTURE_2D,ie,ve,He[0].width,He[0].height);for(let At=0,zt=He.length;At<zt;At++)de=He[At],F.format!==Qs?pe!==null?Me?lt&&e.compressedTexSubImage2D(n.TEXTURE_2D,At,0,0,de.width,de.height,pe,de.data):e.compressedTexImage2D(n.TEXTURE_2D,At,ve,de.width,de.height,0,de.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?lt&&e.texSubImage2D(n.TEXTURE_2D,At,0,0,de.width,de.height,pe,xe,de.data):e.texImage2D(n.TEXTURE_2D,At,ve,de.width,de.height,0,pe,xe,de.data)}else if(F.isDataArrayTexture)if(Me){if(Sn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ie,ve,Yt.width,Yt.height,Yt.depth),lt)if(F.layerUpdates.size>0){const At=yT(Yt.width,Yt.height,F.format,F.type);for(const zt of F.layerUpdates){const te=Yt.data.subarray(zt*At/Yt.data.BYTES_PER_ELEMENT,(zt+1)*At/Yt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,zt,Yt.width,Yt.height,1,pe,xe,te)}F.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Yt.width,Yt.height,Yt.depth,pe,xe,Yt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,Yt.width,Yt.height,Yt.depth,0,pe,xe,Yt.data);else if(F.isData3DTexture)Me?(Sn&&e.texStorage3D(n.TEXTURE_3D,ie,ve,Yt.width,Yt.height,Yt.depth),lt&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Yt.width,Yt.height,Yt.depth,pe,xe,Yt.data)):e.texImage3D(n.TEXTURE_3D,0,ve,Yt.width,Yt.height,Yt.depth,0,pe,xe,Yt.data);else if(F.isFramebufferTexture){if(Sn)if(Me)e.texStorage2D(n.TEXTURE_2D,ie,ve,Yt.width,Yt.height);else{let At=Yt.width,zt=Yt.height;for(let te=0;te<ie;te++)e.texImage2D(n.TEXTURE_2D,te,ve,At,zt,0,pe,xe,null),At>>=1,zt>>=1}}else if(He.length>0){if(Me&&Sn){const At=Qt(He[0]);e.texStorage2D(n.TEXTURE_2D,ie,ve,At.width,At.height)}for(let At=0,zt=He.length;At<zt;At++)de=He[At],Me?lt&&e.texSubImage2D(n.TEXTURE_2D,At,0,0,pe,xe,de):e.texImage2D(n.TEXTURE_2D,At,ve,pe,xe,de);F.generateMipmaps=!1}else if(Me){if(Sn){const At=Qt(Yt);e.texStorage2D(n.TEXTURE_2D,ie,ve,At.width,At.height)}lt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,pe,xe,Yt)}else e.texImage2D(n.TEXTURE_2D,0,ve,pe,xe,Yt);E(F)&&M(wt),ce.__version=Dt.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function Tt(q,F,yt){if(F.image.length!==6)return;const wt=Ot(q,F),Ft=F.source;e.bindTexture(n.TEXTURE_CUBE_MAP,q.__webglTexture,n.TEXTURE0+yt);const Dt=i.get(Ft);if(Ft.version!==Dt.__version||wt===!0){e.activeTexture(n.TEXTURE0+yt);const ce=_n.getPrimaries(_n.workingColorSpace),ee=F.colorSpace===uc?null:_n.getPrimaries(F.colorSpace),he=F.colorSpace===uc||ce===ee?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,he);const Ze=F.isCompressedTexture||F.image[0].isCompressedTexture,Yt=F.image[0]&&F.image[0].isDataTexture,pe=[];for(let zt=0;zt<6;zt++)!Ze&&!Yt?pe[zt]=C(F.image[zt],!0,s.maxCubemapSize):pe[zt]=Yt?F.image[zt].image:F.image[zt],pe[zt]=Se(F,pe[zt]);const xe=pe[0],ve=r.convert(F.format,F.colorSpace),de=r.convert(F.type),He=D(F.internalFormat,ve,de,F.colorSpace),Me=F.isVideoTexture!==!0,Sn=Dt.__version===void 0||wt===!0,lt=Ft.dataReady;let ie=B(F,xe);Et(n.TEXTURE_CUBE_MAP,F);let At;if(Ze){Me&&Sn&&e.texStorage2D(n.TEXTURE_CUBE_MAP,ie,He,xe.width,xe.height);for(let zt=0;zt<6;zt++){At=pe[zt].mipmaps;for(let te=0;te<At.length;te++){const ne=At[te];F.format!==Qs?ve!==null?Me?lt&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te,0,0,ne.width,ne.height,ve,ne.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te,He,ne.width,ne.height,0,ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te,0,0,ne.width,ne.height,ve,de,ne.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te,He,ne.width,ne.height,0,ve,de,ne.data)}}}else{if(At=F.mipmaps,Me&&Sn){At.length>0&&ie++;const zt=Qt(pe[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,ie,He,zt.width,zt.height)}for(let zt=0;zt<6;zt++)if(Yt){Me?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,0,0,pe[zt].width,pe[zt].height,ve,de,pe[zt].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,He,pe[zt].width,pe[zt].height,0,ve,de,pe[zt].data);for(let te=0;te<At.length;te++){const Le=At[te].image[zt].image;Me?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te+1,0,0,Le.width,Le.height,ve,de,Le.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te+1,He,Le.width,Le.height,0,ve,de,Le.data)}}else{Me?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,0,0,ve,de,pe[zt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,0,He,ve,de,pe[zt]);for(let te=0;te<At.length;te++){const ne=At[te];Me?lt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te+1,0,0,ve,de,ne.image[zt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+zt,te+1,He,ve,de,ne.image[zt])}}}E(F)&&M(n.TEXTURE_CUBE_MAP),Dt.__version=Ft.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function Ut(q,F,yt,wt,Ft,Dt){const ce=r.convert(yt.format,yt.colorSpace),ee=r.convert(yt.type),he=D(yt.internalFormat,ce,ee,yt.colorSpace),Ze=i.get(F),Yt=i.get(yt);if(Yt.__renderTarget=F,!Ze.__hasExternalTextures){const pe=Math.max(1,F.width>>Dt),xe=Math.max(1,F.height>>Dt);Ft===n.TEXTURE_3D||Ft===n.TEXTURE_2D_ARRAY?e.texImage3D(Ft,Dt,he,pe,xe,F.depth,0,ce,ee,null):e.texImage2D(Ft,Dt,he,pe,xe,0,ce,ee,null)}e.bindFramebuffer(n.FRAMEBUFFER,q),$t(F)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,wt,Ft,Yt.__webglTexture,0,Ht(F)):(Ft===n.TEXTURE_2D||Ft>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ft<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,wt,Ft,Yt.__webglTexture,Dt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function It(q,F,yt){if(n.bindRenderbuffer(n.RENDERBUFFER,q),F.depthBuffer){const wt=F.depthTexture,Ft=wt&&wt.isDepthTexture?wt.type:null,Dt=L(F.stencilBuffer,Ft),ce=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ee=Ht(F);$t(F)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ee,Dt,F.width,F.height):yt?n.renderbufferStorageMultisample(n.RENDERBUFFER,ee,Dt,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ce,n.RENDERBUFFER,q)}else{const wt=F.textures;for(let Ft=0;Ft<wt.length;Ft++){const Dt=wt[Ft],ce=r.convert(Dt.format,Dt.colorSpace),ee=r.convert(Dt.type),he=D(Dt.internalFormat,ce,ee,Dt.colorSpace),Ze=Ht(F);yt&&$t(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ze,he,F.width,F.height):$t(F)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ze,he,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,he,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function kt(q,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const wt=i.get(F.depthTexture);wt.__renderTarget=F,(!wt.__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),mt(F.depthTexture,0);const Ft=wt.__webglTexture,Dt=Ht(F);if(F.depthTexture.format===fh)$t(F)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ft,0,Dt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ft,0);else if(F.depthTexture.format===vh)$t(F)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ft,0,Dt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ft,0);else throw new Error("Unknown depthTexture format")}function ye(q){const F=i.get(q),yt=q.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==q.depthTexture){const wt=q.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),wt){const Ft=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,wt.removeEventListener("dispose",Ft)};wt.addEventListener("dispose",Ft),F.__depthDisposeCallback=Ft}F.__boundDepthTexture=wt}if(q.depthTexture&&!F.__autoAllocateDepthBuffer){if(yt)throw new Error("target.depthTexture not supported in Cube render targets");kt(F.__webglFramebuffer,q)}else if(yt){F.__webglDepthbuffer=[];for(let wt=0;wt<6;wt++)if(e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[wt]),F.__webglDepthbuffer[wt]===void 0)F.__webglDepthbuffer[wt]=n.createRenderbuffer(),It(F.__webglDepthbuffer[wt],q,!1);else{const Ft=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Dt=F.__webglDepthbuffer[wt];n.bindRenderbuffer(n.RENDERBUFFER,Dt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ft,n.RENDERBUFFER,Dt)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=n.createRenderbuffer(),It(F.__webglDepthbuffer,q,!1);else{const wt=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ft=F.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ft),n.framebufferRenderbuffer(n.FRAMEBUFFER,wt,n.RENDERBUFFER,Ft)}e.bindFramebuffer(n.FRAMEBUFFER,null)}function qt(q,F,yt){const wt=i.get(q);F!==void 0&&Ut(wt.__webglFramebuffer,q,q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),yt!==void 0&&ye(q)}function le(q){const F=q.texture,yt=i.get(q),wt=i.get(F);q.addEventListener("dispose",I);const Ft=q.textures,Dt=q.isWebGLCubeRenderTarget===!0,ce=Ft.length>1;if(ce||(wt.__webglTexture===void 0&&(wt.__webglTexture=n.createTexture()),wt.__version=F.version,o.memory.textures++),Dt){yt.__webglFramebuffer=[];for(let ee=0;ee<6;ee++)if(F.mipmaps&&F.mipmaps.length>0){yt.__webglFramebuffer[ee]=[];for(let he=0;he<F.mipmaps.length;he++)yt.__webglFramebuffer[ee][he]=n.createFramebuffer()}else yt.__webglFramebuffer[ee]=n.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){yt.__webglFramebuffer=[];for(let ee=0;ee<F.mipmaps.length;ee++)yt.__webglFramebuffer[ee]=n.createFramebuffer()}else yt.__webglFramebuffer=n.createFramebuffer();if(ce)for(let ee=0,he=Ft.length;ee<he;ee++){const Ze=i.get(Ft[ee]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=n.createTexture(),o.memory.textures++)}if(q.samples>0&&$t(q)===!1){yt.__webglMultisampledFramebuffer=n.createFramebuffer(),yt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer);for(let ee=0;ee<Ft.length;ee++){const he=Ft[ee];yt.__webglColorRenderbuffer[ee]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,yt.__webglColorRenderbuffer[ee]);const Ze=r.convert(he.format,he.colorSpace),Yt=r.convert(he.type),pe=D(he.internalFormat,Ze,Yt,he.colorSpace,q.isXRRenderTarget===!0),xe=Ht(q);n.renderbufferStorageMultisample(n.RENDERBUFFER,xe,pe,q.width,q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ee,n.RENDERBUFFER,yt.__webglColorRenderbuffer[ee])}n.bindRenderbuffer(n.RENDERBUFFER,null),q.depthBuffer&&(yt.__webglDepthRenderbuffer=n.createRenderbuffer(),It(yt.__webglDepthRenderbuffer,q,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Dt){e.bindTexture(n.TEXTURE_CUBE_MAP,wt.__webglTexture),Et(n.TEXTURE_CUBE_MAP,F);for(let ee=0;ee<6;ee++)if(F.mipmaps&&F.mipmaps.length>0)for(let he=0;he<F.mipmaps.length;he++)Ut(yt.__webglFramebuffer[ee][he],q,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,he);else Ut(yt.__webglFramebuffer[ee],q,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ee,0);E(F)&&M(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(ce){for(let ee=0,he=Ft.length;ee<he;ee++){const Ze=Ft[ee],Yt=i.get(Ze);e.bindTexture(n.TEXTURE_2D,Yt.__webglTexture),Et(n.TEXTURE_2D,Ze),Ut(yt.__webglFramebuffer,q,Ze,n.COLOR_ATTACHMENT0+ee,n.TEXTURE_2D,0),E(Ze)&&M(n.TEXTURE_2D)}e.unbindTexture()}else{let ee=n.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(ee=q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(ee,wt.__webglTexture),Et(ee,F),F.mipmaps&&F.mipmaps.length>0)for(let he=0;he<F.mipmaps.length;he++)Ut(yt.__webglFramebuffer[he],q,F,n.COLOR_ATTACHMENT0,ee,he);else Ut(yt.__webglFramebuffer,q,F,n.COLOR_ATTACHMENT0,ee,0);E(F)&&M(ee),e.unbindTexture()}q.depthBuffer&&ye(q)}function Pt(q){const F=q.textures;for(let yt=0,wt=F.length;yt<wt;yt++){const Ft=F[yt];if(E(Ft)){const Dt=R(q),ce=i.get(Ft).__webglTexture;e.bindTexture(Dt,ce),M(Dt),e.unbindTexture()}}}const Rt=[],Y=[];function ue(q){if(q.samples>0){if($t(q)===!1){const F=q.textures,yt=q.width,wt=q.height;let Ft=n.COLOR_BUFFER_BIT;const Dt=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ce=i.get(q),ee=F.length>1;if(ee)for(let he=0;he<F.length;he++)e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+he,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+he,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,ce.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ce.__webglFramebuffer);for(let he=0;he<F.length;he++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(Ft|=n.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(Ft|=n.STENCIL_BUFFER_BIT)),ee){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ce.__webglColorRenderbuffer[he]);const Ze=i.get(F[he]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ze,0)}n.blitFramebuffer(0,0,yt,wt,0,0,yt,wt,Ft,n.NEAREST),h===!0&&(Rt.length=0,Y.length=0,Rt.push(n.COLOR_ATTACHMENT0+he),q.depthBuffer&&q.resolveDepthBuffer===!1&&(Rt.push(Dt),Y.push(Dt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Y)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Rt))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ee)for(let he=0;he<F.length;he++){e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+he,n.RENDERBUFFER,ce.__webglColorRenderbuffer[he]);const Ze=i.get(F[he]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+he,n.TEXTURE_2D,Ze,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ce.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&h){const F=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[F])}}}function Ht(q){return Math.min(s.maxSamples,q.samples)}function $t(q){const F=i.get(q);return q.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Kt(q){const F=o.render.frame;m.get(q)!==F&&(m.set(q,F),q.update())}function Se(q,F){const yt=q.colorSpace,wt=q.format,Ft=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||yt!==Du&&yt!==uc&&(_n.getTransfer(yt)===Fn?(wt!==Qs||Ft!==Eo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",yt)),F}function Qt(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(p.width=q.naturalWidth||q.width,p.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(p.width=q.displayWidth,p.height=q.displayHeight):(p.width=q.width,p.height=q.height),p}this.allocateTextureUnit=st,this.resetTextureUnits=dt,this.setTexture2D=mt,this.setTexture2DArray=W,this.setTexture3D=et,this.setTextureCube=Q,this.rebindTextures=qt,this.setupRenderTarget=le,this.updateRenderTargetMipmap=Pt,this.updateMultisampleRenderTarget=ue,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Ut,this.useMultisampledRTT=$t}function Jz(n,t){function e(i,s=uc){let r;const o=_n.getTransfer(s);if(i===Eo)return n.UNSIGNED_BYTE;if(i===g1)return n.UNSIGNED_SHORT_4_4_4_4;if(i===v1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===sA)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===nA)return n.BYTE;if(i===iA)return n.SHORT;if(i===xp)return n.UNSIGNED_SHORT;if(i===m1)return n.INT;if(i===_c)return n.UNSIGNED_INT;if(i===Fa)return n.FLOAT;if(i===Up)return n.HALF_FLOAT;if(i===aA)return n.ALPHA;if(i===rA)return n.RGB;if(i===Qs)return n.RGBA;if(i===oA)return n.LUMINANCE;if(i===lA)return n.LUMINANCE_ALPHA;if(i===fh)return n.DEPTH_COMPONENT;if(i===vh)return n.DEPTH_STENCIL;if(i===y1)return n.RED;if(i===k0)return n.RED_INTEGER;if(i===cA)return n.RG;if(i===x1)return n.RG_INTEGER;if(i===_1)return n.RGBA_INTEGER;if(i===Gg||i===kg||i===jg||i===Xg)if(o===Fn)if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Gg)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===kg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===jg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Xg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=t.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Gg)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===kg)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===jg)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Xg)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===x_||i===__||i===S_||i===b_)if(r=t.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===x_)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===__)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===S_)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===b_)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===M_||i===T_||i===E_)if(r=t.get("WEBGL_compressed_texture_etc"),r!==null){if(i===M_||i===T_)return o===Fn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===E_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===A_||i===w_||i===C_||i===R_||i===D_||i===N_||i===L_||i===U_||i===O_||i===P_||i===z_||i===B_||i===V_||i===I_)if(r=t.get("WEBGL_compressed_texture_astc"),r!==null){if(i===A_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===w_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===C_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===R_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===D_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===N_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===L_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===U_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===O_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===P_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===z_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===B_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===V_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===I_)return o===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===qg||i===F_||i===H_)if(r=t.get("EXT_texture_compression_bptc"),r!==null){if(i===qg)return o===Fn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===F_)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===H_)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===uA||i===G_||i===k_||i===j_)if(r=t.get("EXT_texture_compression_rgtc"),r!==null){if(i===qg)return r.COMPRESSED_RED_RGTC1_EXT;if(i===G_)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===k_)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===j_)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===gh?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const LQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,UQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class OQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const s=new Ni,r=t.properties.get(s);r.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=s}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new Ao({vertexShader:LQ,fragmentShader:UQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Xi(new zp(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class PQ extends Tl{constructor(t,e){super();const i=this;let s=null,r=1,o=null,c="local-floor",h=1,p=null,m=null,v=null,x=null,_=null,T=null;const C=new OQ,E=e.getContextAttributes();let M=null,R=null;const D=[],L=[],B=new Vt;let P=null;const I=new ji;I.viewport=new pn;const V=new ji;V.viewport=new pn;const U=[I,V],z=new Hz;let X=null,dt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(it){let Tt=D[it];return Tt===void 0&&(Tt=new Yx,D[it]=Tt),Tt.getTargetRaySpace()},this.getControllerGrip=function(it){let Tt=D[it];return Tt===void 0&&(Tt=new Yx,D[it]=Tt),Tt.getGripSpace()},this.getHand=function(it){let Tt=D[it];return Tt===void 0&&(Tt=new Yx,D[it]=Tt),Tt.getHandSpace()};function st(it){const Tt=L.indexOf(it.inputSource);if(Tt===-1)return;const Ut=D[Tt];Ut!==void 0&&(Ut.update(it.inputSource,it.frame,p||o),Ut.dispatchEvent({type:it.type,data:it.inputSource}))}function at(){s.removeEventListener("select",st),s.removeEventListener("selectstart",st),s.removeEventListener("selectend",st),s.removeEventListener("squeeze",st),s.removeEventListener("squeezestart",st),s.removeEventListener("squeezeend",st),s.removeEventListener("end",at),s.removeEventListener("inputsourceschange",mt);for(let it=0;it<D.length;it++){const Tt=L[it];Tt!==null&&(L[it]=null,D[it].disconnect(Tt))}X=null,dt=null,C.reset(),t.setRenderTarget(M),_=null,x=null,v=null,s=null,R=null,Ot.stop(),i.isPresenting=!1,t.setPixelRatio(P),t.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(it){r=it,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(it){c=it,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(it){p=it},this.getBaseLayer=function(){return x!==null?x:_},this.getBinding=function(){return v},this.getFrame=function(){return T},this.getSession=function(){return s},this.setSession=async function(it){if(s=it,s!==null){if(M=t.getRenderTarget(),s.addEventListener("select",st),s.addEventListener("selectstart",st),s.addEventListener("selectend",st),s.addEventListener("squeeze",st),s.addEventListener("squeezestart",st),s.addEventListener("squeezeend",st),s.addEventListener("end",at),s.addEventListener("inputsourceschange",mt),E.xrCompatible!==!0&&await e.makeXRCompatible(),P=t.getPixelRatio(),t.getSize(B),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ut=null,It=null,kt=null;E.depth&&(kt=E.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Ut=E.stencil?vh:fh,It=E.stencil?gh:_c);const ye={colorFormat:e.RGBA8,depthFormat:kt,scaleFactor:r};v=new XRWebGLBinding(s,e),x=v.createProjectionLayer(ye),s.updateRenderState({layers:[x]}),t.setPixelRatio(1),t.setSize(x.textureWidth,x.textureHeight,!1),R=new Ml(x.textureWidth,x.textureHeight,{format:Qs,type:Eo,depthTexture:new _A(x.textureWidth,x.textureHeight,It,void 0,void 0,void 0,void 0,void 0,void 0,Ut),stencilBuffer:E.stencil,colorSpace:t.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1})}else{const Ut={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:r};_=new XRWebGLLayer(s,e,Ut),s.updateRenderState({baseLayer:_}),t.setPixelRatio(1),t.setSize(_.framebufferWidth,_.framebufferHeight,!1),R=new Ml(_.framebufferWidth,_.framebufferHeight,{format:Qs,type:Eo,colorSpace:t.outputColorSpace,stencilBuffer:E.stencil})}R.isXRRenderTarget=!0,this.setFoveation(h),p=null,o=await s.requestReferenceSpace(c),Ot.setContext(s),Ot.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function mt(it){for(let Tt=0;Tt<it.removed.length;Tt++){const Ut=it.removed[Tt],It=L.indexOf(Ut);It>=0&&(L[It]=null,D[It].disconnect(Ut))}for(let Tt=0;Tt<it.added.length;Tt++){const Ut=it.added[Tt];let It=L.indexOf(Ut);if(It===-1){for(let ye=0;ye<D.length;ye++)if(ye>=L.length){L.push(Ut),It=ye;break}else if(L[ye]===null){L[ye]=Ut,It=ye;break}if(It===-1)break}const kt=D[It];kt&&kt.connect(Ut)}}const W=new Z,et=new Z;function Q(it,Tt,Ut){W.setFromMatrixPosition(Tt.matrixWorld),et.setFromMatrixPosition(Ut.matrixWorld);const It=W.distanceTo(et),kt=Tt.projectionMatrix.elements,ye=Ut.projectionMatrix.elements,qt=kt[14]/(kt[10]-1),le=kt[14]/(kt[10]+1),Pt=(kt[9]+1)/kt[5],Rt=(kt[9]-1)/kt[5],Y=(kt[8]-1)/kt[0],ue=(ye[8]+1)/ye[0],Ht=qt*Y,$t=qt*ue,Kt=It/(-Y+ue),Se=Kt*-Y;if(Tt.matrixWorld.decompose(it.position,it.quaternion,it.scale),it.translateX(Se),it.translateZ(Kt),it.matrixWorld.compose(it.position,it.quaternion,it.scale),it.matrixWorldInverse.copy(it.matrixWorld).invert(),kt[10]===-1)it.projectionMatrix.copy(Tt.projectionMatrix),it.projectionMatrixInverse.copy(Tt.projectionMatrixInverse);else{const Qt=qt+Kt,q=le+Kt,F=Ht-Se,yt=$t+(It-Se),wt=Pt*le/q*Qt,Ft=Rt*le/q*Qt;it.projectionMatrix.makePerspective(F,yt,wt,Ft,Qt,q),it.projectionMatrixInverse.copy(it.projectionMatrix).invert()}}function vt(it,Tt){Tt===null?it.matrixWorld.copy(it.matrix):it.matrixWorld.multiplyMatrices(Tt.matrixWorld,it.matrix),it.matrixWorldInverse.copy(it.matrixWorld).invert()}this.updateCamera=function(it){if(s===null)return;let Tt=it.near,Ut=it.far;C.texture!==null&&(C.depthNear>0&&(Tt=C.depthNear),C.depthFar>0&&(Ut=C.depthFar)),z.near=V.near=I.near=Tt,z.far=V.far=I.far=Ut,(X!==z.near||dt!==z.far)&&(s.updateRenderState({depthNear:z.near,depthFar:z.far}),X=z.near,dt=z.far),I.layers.mask=it.layers.mask|2,V.layers.mask=it.layers.mask|4,z.layers.mask=I.layers.mask|V.layers.mask;const It=it.parent,kt=z.cameras;vt(z,It);for(let ye=0;ye<kt.length;ye++)vt(kt[ye],It);kt.length===2?Q(z,I,V):z.projectionMatrix.copy(I.projectionMatrix),G(it,z,It)};function G(it,Tt,Ut){Ut===null?it.matrix.copy(Tt.matrixWorld):(it.matrix.copy(Ut.matrixWorld),it.matrix.invert(),it.matrix.multiply(Tt.matrixWorld)),it.matrix.decompose(it.position,it.quaternion,it.scale),it.updateMatrixWorld(!0),it.projectionMatrix.copy(Tt.projectionMatrix),it.projectionMatrixInverse.copy(Tt.projectionMatrixInverse),it.isPerspectiveCamera&&(it.fov=_p*2*Math.atan(1/it.projectionMatrix.elements[5]),it.zoom=1)}this.getCamera=function(){return z},this.getFoveation=function(){if(!(x===null&&_===null))return h},this.setFoveation=function(it){h=it,x!==null&&(x.fixedFoveation=it),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=it)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(z)};let nt=null;function Et(it,Tt){if(m=Tt.getViewerPose(p||o),T=Tt,m!==null){const Ut=m.views;_!==null&&(t.setRenderTargetFramebuffer(R,_.framebuffer),t.setRenderTarget(R));let It=!1;Ut.length!==z.cameras.length&&(z.cameras.length=0,It=!0);for(let qt=0;qt<Ut.length;qt++){const le=Ut[qt];let Pt=null;if(_!==null)Pt=_.getViewport(le);else{const Y=v.getViewSubImage(x,le);Pt=Y.viewport,qt===0&&(t.setRenderTargetTextures(R,Y.colorTexture,x.ignoreDepthValues?void 0:Y.depthStencilTexture),t.setRenderTarget(R))}let Rt=U[qt];Rt===void 0&&(Rt=new ji,Rt.layers.enable(qt),Rt.viewport=new pn,U[qt]=Rt),Rt.matrix.fromArray(le.transform.matrix),Rt.matrix.decompose(Rt.position,Rt.quaternion,Rt.scale),Rt.projectionMatrix.fromArray(le.projectionMatrix),Rt.projectionMatrixInverse.copy(Rt.projectionMatrix).invert(),Rt.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),qt===0&&(z.matrix.copy(Rt.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale)),It===!0&&z.cameras.push(Rt)}const kt=s.enabledFeatures;if(kt&&kt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&v){const qt=v.getDepthInformation(Ut[0]);qt&&qt.isValid&&qt.texture&&C.init(t,qt,s.renderState)}}for(let Ut=0;Ut<D.length;Ut++){const It=L[Ut],kt=D[Ut];It!==null&&kt!==void 0&&kt.update(It,Tt,p||o)}nt&&nt(it,Tt),Tt.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Tt}),T=null}const Ot=new Yz;Ot.setAnimationLoop(Et),this.setAnimationLoop=function(it){nt=it},this.dispose=function(){}}}const Gf=new Ga,zQ=new Ve;function BQ(n,t){function e(E,M){E.matrixAutoUpdate===!0&&E.updateMatrix(),M.value.copy(E.matrix)}function i(E,M){M.color.getRGB(E.fogColor.value,YP(n)),M.isFog?(E.fogNear.value=M.near,E.fogFar.value=M.far):M.isFogExp2&&(E.fogDensity.value=M.density)}function s(E,M,R,D,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?r(E,M):M.isMeshToonMaterial?(r(E,M),v(E,M)):M.isMeshPhongMaterial?(r(E,M),m(E,M)):M.isMeshStandardMaterial?(r(E,M),x(E,M),M.isMeshPhysicalMaterial&&_(E,M,L)):M.isMeshMatcapMaterial?(r(E,M),T(E,M)):M.isMeshDepthMaterial?r(E,M):M.isMeshDistanceMaterial?(r(E,M),C(E,M)):M.isMeshNormalMaterial?r(E,M):M.isLineBasicMaterial?(o(E,M),M.isLineDashedMaterial&&c(E,M)):M.isPointsMaterial?h(E,M,R,D):M.isSpriteMaterial?p(E,M):M.isShadowMaterial?(E.color.value.copy(M.color),E.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function r(E,M){E.opacity.value=M.opacity,M.color&&E.diffuse.value.copy(M.color),M.emissive&&E.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(E.map.value=M.map,e(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,e(M.alphaMap,E.alphaMapTransform)),M.bumpMap&&(E.bumpMap.value=M.bumpMap,e(M.bumpMap,E.bumpMapTransform),E.bumpScale.value=M.bumpScale,M.side===ya&&(E.bumpScale.value*=-1)),M.normalMap&&(E.normalMap.value=M.normalMap,e(M.normalMap,E.normalMapTransform),E.normalScale.value.copy(M.normalScale),M.side===ya&&E.normalScale.value.negate()),M.displacementMap&&(E.displacementMap.value=M.displacementMap,e(M.displacementMap,E.displacementMapTransform),E.displacementScale.value=M.displacementScale,E.displacementBias.value=M.displacementBias),M.emissiveMap&&(E.emissiveMap.value=M.emissiveMap,e(M.emissiveMap,E.emissiveMapTransform)),M.specularMap&&(E.specularMap.value=M.specularMap,e(M.specularMap,E.specularMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest);const R=t.get(M),D=R.envMap,L=R.envMapRotation;D&&(E.envMap.value=D,Gf.copy(L),Gf.x*=-1,Gf.y*=-1,Gf.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Gf.y*=-1,Gf.z*=-1),E.envMapRotation.value.setFromMatrix4(zQ.makeRotationFromEuler(Gf)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=M.reflectivity,E.ior.value=M.ior,E.refractionRatio.value=M.refractionRatio),M.lightMap&&(E.lightMap.value=M.lightMap,E.lightMapIntensity.value=M.lightMapIntensity,e(M.lightMap,E.lightMapTransform)),M.aoMap&&(E.aoMap.value=M.aoMap,E.aoMapIntensity.value=M.aoMapIntensity,e(M.aoMap,E.aoMapTransform))}function o(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,M.map&&(E.map.value=M.map,e(M.map,E.mapTransform))}function c(E,M){E.dashSize.value=M.dashSize,E.totalSize.value=M.dashSize+M.gapSize,E.scale.value=M.scale}function h(E,M,R,D){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.size.value=M.size*R,E.scale.value=D*.5,M.map&&(E.map.value=M.map,e(M.map,E.uvTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,e(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function p(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.rotation.value=M.rotation,M.map&&(E.map.value=M.map,e(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,e(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function m(E,M){E.specular.value.copy(M.specular),E.shininess.value=Math.max(M.shininess,1e-4)}function v(E,M){M.gradientMap&&(E.gradientMap.value=M.gradientMap)}function x(E,M){E.metalness.value=M.metalness,M.metalnessMap&&(E.metalnessMap.value=M.metalnessMap,e(M.metalnessMap,E.metalnessMapTransform)),E.roughness.value=M.roughness,M.roughnessMap&&(E.roughnessMap.value=M.roughnessMap,e(M.roughnessMap,E.roughnessMapTransform)),M.envMap&&(E.envMapIntensity.value=M.envMapIntensity)}function _(E,M,R){E.ior.value=M.ior,M.sheen>0&&(E.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),E.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(E.sheenColorMap.value=M.sheenColorMap,e(M.sheenColorMap,E.sheenColorMapTransform)),M.sheenRoughnessMap&&(E.sheenRoughnessMap.value=M.sheenRoughnessMap,e(M.sheenRoughnessMap,E.sheenRoughnessMapTransform))),M.clearcoat>0&&(E.clearcoat.value=M.clearcoat,E.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(E.clearcoatMap.value=M.clearcoatMap,e(M.clearcoatMap,E.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,e(M.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(E.clearcoatNormalMap.value=M.clearcoatNormalMap,e(M.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===ya&&E.clearcoatNormalScale.value.negate())),M.dispersion>0&&(E.dispersion.value=M.dispersion),M.iridescence>0&&(E.iridescence.value=M.iridescence,E.iridescenceIOR.value=M.iridescenceIOR,E.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(E.iridescenceMap.value=M.iridescenceMap,e(M.iridescenceMap,E.iridescenceMapTransform)),M.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=M.iridescenceThicknessMap,e(M.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),M.transmission>0&&(E.transmission.value=M.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(E.transmissionMap.value=M.transmissionMap,e(M.transmissionMap,E.transmissionMapTransform)),E.thickness.value=M.thickness,M.thicknessMap&&(E.thicknessMap.value=M.thicknessMap,e(M.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=M.attenuationDistance,E.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(E.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(E.anisotropyMap.value=M.anisotropyMap,e(M.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=M.specularIntensity,E.specularColor.value.copy(M.specularColor),M.specularColorMap&&(E.specularColorMap.value=M.specularColorMap,e(M.specularColorMap,E.specularColorMapTransform)),M.specularIntensityMap&&(E.specularIntensityMap.value=M.specularIntensityMap,e(M.specularIntensityMap,E.specularIntensityMapTransform))}function T(E,M){M.matcap&&(E.matcap.value=M.matcap)}function C(E,M){const R=t.get(M).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function VQ(n,t,e,i){let s={},r={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(R,D){const L=D.program;i.uniformBlockBinding(R,L)}function p(R,D){let L=s[R.id];L===void 0&&(T(R),L=m(R),s[R.id]=L,R.addEventListener("dispose",E));const B=D.program;i.updateUBOMapping(R,B);const P=t.render.frame;r[R.id]!==P&&(x(R),r[R.id]=P)}function m(R){const D=v();R.__bindingPointIndex=D;const L=n.createBuffer(),B=R.__size,P=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,B,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,L),L}function v(){for(let R=0;R<c;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(R){const D=s[R.id],L=R.uniforms,B=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let P=0,I=L.length;P<I;P++){const V=Array.isArray(L[P])?L[P]:[L[P]];for(let U=0,z=V.length;U<z;U++){const X=V[U];if(_(X,P,U,B)===!0){const dt=X.__offset,st=Array.isArray(X.value)?X.value:[X.value];let at=0;for(let mt=0;mt<st.length;mt++){const W=st[mt],et=C(W);typeof W=="number"||typeof W=="boolean"?(X.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,dt+at,X.__data)):W.isMatrix3?(X.__data[0]=W.elements[0],X.__data[1]=W.elements[1],X.__data[2]=W.elements[2],X.__data[3]=0,X.__data[4]=W.elements[3],X.__data[5]=W.elements[4],X.__data[6]=W.elements[5],X.__data[7]=0,X.__data[8]=W.elements[6],X.__data[9]=W.elements[7],X.__data[10]=W.elements[8],X.__data[11]=0):(W.toArray(X.__data,at),at+=et.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,dt,X.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(R,D,L,B){const P=R.value,I=D+"_"+L;if(B[I]===void 0)return typeof P=="number"||typeof P=="boolean"?B[I]=P:B[I]=P.clone(),!0;{const V=B[I];if(typeof P=="number"||typeof P=="boolean"){if(V!==P)return B[I]=P,!0}else if(V.equals(P)===!1)return V.copy(P),!0}return!1}function T(R){const D=R.uniforms;let L=0;const B=16;for(let I=0,V=D.length;I<V;I++){const U=Array.isArray(D[I])?D[I]:[D[I]];for(let z=0,X=U.length;z<X;z++){const dt=U[z],st=Array.isArray(dt.value)?dt.value:[dt.value];for(let at=0,mt=st.length;at<mt;at++){const W=st[at],et=C(W),Q=L%B,vt=Q%et.boundary,G=Q+vt;L+=vt,G!==0&&B-G<et.storage&&(L+=B-G),dt.__data=new Float32Array(et.storage/Float32Array.BYTES_PER_ELEMENT),dt.__offset=L,L+=et.storage}}}const P=L%B;return P>0&&(L+=B-P),R.__size=L,R.__cache={},this}function C(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),D}function E(R){const D=R.target;D.removeEventListener("dispose",E);const L=o.indexOf(D.__bindingPointIndex);o.splice(L,1),n.deleteBuffer(s[D.id]),delete s[D.id],delete r[D.id]}function M(){for(const R in s)n.deleteBuffer(s[R]);o=[],s={},r={}}return{bind:h,update:p,dispose:M}}class tB{constructor(t={}){const{canvas:e=XP(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:x=!1}=t;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=o;const T=new Uint32Array(4),C=new Int32Array(4);let E=null,M=null;const R=[],D=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Zs,this.toneMapping=yl,this.toneMappingExposure=1;const L=this;let B=!1,P=0,I=0,V=null,U=-1,z=null;const X=new pn,dt=new pn;let st=null;const at=new fe(0);let mt=0,W=e.width,et=e.height,Q=1,vt=null,G=null;const nt=new pn(0,0,W,et),Et=new pn(0,0,W,et);let Ot=!1;const it=new q0;let Tt=!1,Ut=!1;this.transmissionResolutionScale=1;const It=new Ve,kt=new Ve,ye=new Z,qt=new pn,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pt=!1;function Rt(){return V===null?Q:1}let Y=i;function ue(H,rt){return e.getContext(H,rt)}try{const H={alpha:!0,depth:s,stencil:r,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${h1}`),e.addEventListener("webglcontextlost",zt,!1),e.addEventListener("webglcontextrestored",te,!1),e.addEventListener("webglcontextcreationerror",ne,!1),Y===null){const rt="webgl2";if(Y=ue(rt,H),Y===null)throw ue(rt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Ht,$t,Kt,Se,Qt,q,F,yt,wt,Ft,Dt,ce,ee,he,Ze,Yt,pe,xe,ve,de,He,Me,Sn,lt;function ie(){Ht=new KZ(Y),Ht.init(),Me=new Jz(Y,Ht),$t=new jZ(Y,Ht,t,Me),Kt=new DQ(Y,Ht),$t.reverseDepthBuffer&&x&&Kt.buffers.depth.setReversed(!0),Se=new JZ(Y),Qt=new vQ,q=new NQ(Y,Ht,Kt,Qt,$t,Me,Se),F=new qZ(L),yt=new ZZ(L),wt=new rW(Y),Sn=new GZ(Y,wt),Ft=new QZ(Y,wt,Se,Sn),Dt=new eK(Y,Ft,wt,Se),ve=new tK(Y,$t,q),Yt=new XZ(Qt),ce=new gQ(L,F,yt,Ht,$t,Sn,Yt),ee=new BQ(L,Qt),he=new xQ,Ze=new EQ(Ht),xe=new HZ(L,F,yt,Kt,Dt,_,h),pe=new CQ(L,Dt,$t),lt=new VQ(Y,Se,$t,Kt),de=new kZ(Y,Ht,Se),He=new $Z(Y,Ht,Se),Se.programs=ce.programs,L.capabilities=$t,L.extensions=Ht,L.properties=Qt,L.renderLists=he,L.shadowMap=pe,L.state=Kt,L.info=Se}ie();const At=new PQ(L,Y);this.xr=At,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const H=Ht.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ht.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(H){H!==void 0&&(Q=H,this.setSize(W,et,!1))},this.getSize=function(H){return H.set(W,et)},this.setSize=function(H,rt,_t=!0){if(At.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=H,et=rt,e.width=Math.floor(H*Q),e.height=Math.floor(rt*Q),_t===!0&&(e.style.width=H+"px",e.style.height=rt+"px"),this.setViewport(0,0,H,rt)},this.getDrawingBufferSize=function(H){return H.set(W*Q,et*Q).floor()},this.setDrawingBufferSize=function(H,rt,_t){W=H,et=rt,Q=_t,e.width=Math.floor(H*_t),e.height=Math.floor(rt*_t),this.setViewport(0,0,H,rt)},this.getCurrentViewport=function(H){return H.copy(X)},this.getViewport=function(H){return H.copy(nt)},this.setViewport=function(H,rt,_t,gt){H.isVector4?nt.set(H.x,H.y,H.z,H.w):nt.set(H,rt,_t,gt),Kt.viewport(X.copy(nt).multiplyScalar(Q).round())},this.getScissor=function(H){return H.copy(Et)},this.setScissor=function(H,rt,_t,gt){H.isVector4?Et.set(H.x,H.y,H.z,H.w):Et.set(H,rt,_t,gt),Kt.scissor(dt.copy(Et).multiplyScalar(Q).round())},this.getScissorTest=function(){return Ot},this.setScissorTest=function(H){Kt.setScissorTest(Ot=H)},this.setOpaqueSort=function(H){vt=H},this.setTransparentSort=function(H){G=H},this.getClearColor=function(H){return H.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(H=!0,rt=!0,_t=!0){let gt=0;if(H){let ut=!1;if(V!==null){const Gt=V.texture.format;ut=Gt===_1||Gt===x1||Gt===k0}if(ut){const Gt=V.texture.type,Jt=Gt===Eo||Gt===_c||Gt===xp||Gt===gh||Gt===g1||Gt===v1,ae=xe.getClearColor(),se=xe.getClearAlpha(),Ue=ae.r,Oe=ae.g,Ae=ae.b;Jt?(T[0]=Ue,T[1]=Oe,T[2]=Ae,T[3]=se,Y.clearBufferuiv(Y.COLOR,0,T)):(C[0]=Ue,C[1]=Oe,C[2]=Ae,C[3]=se,Y.clearBufferiv(Y.COLOR,0,C))}else gt|=Y.COLOR_BUFFER_BIT}rt&&(gt|=Y.DEPTH_BUFFER_BIT),_t&&(gt|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",zt,!1),e.removeEventListener("webglcontextrestored",te,!1),e.removeEventListener("webglcontextcreationerror",ne,!1),xe.dispose(),he.dispose(),Ze.dispose(),Qt.dispose(),F.dispose(),yt.dispose(),Dt.dispose(),Sn.dispose(),lt.dispose(),ce.dispose(),At.dispose(),At.removeEventListener("sessionstart",Vu),At.removeEventListener("sessionend",Al),Sa.stop()};function zt(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function te(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const H=Se.autoReset,rt=pe.enabled,_t=pe.autoUpdate,gt=pe.needsUpdate,ut=pe.type;ie(),Se.autoReset=H,pe.enabled=rt,pe.autoUpdate=_t,pe.needsUpdate=gt,pe.type=ut}function ne(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Le(H){const rt=H.target;rt.removeEventListener("dispose",Le),Bn(rt)}function Bn(H){ti(H),Qt.remove(H)}function ti(H){const rt=Qt.get(H).programs;rt!==void 0&&(rt.forEach(function(_t){ce.releaseProgram(_t)}),H.isShaderMaterial&&ce.releaseShaderCache(H))}this.renderBufferDirect=function(H,rt,_t,gt,ut,Gt){rt===null&&(rt=le);const Jt=ut.isMesh&&ut.matrixWorld.determinant()<0,ae=Ah(H,rt,_t,gt,ut);Kt.setMaterial(gt,Jt);let se=_t.index,Ue=1;if(gt.wireframe===!0){if(se=Ft.getWireframeAttribute(_t),se===void 0)return;Ue=2}const Oe=_t.drawRange,Ae=_t.attributes.position;let ln=Oe.start*Ue,cn=(Oe.start+Oe.count)*Ue;Gt!==null&&(ln=Math.max(ln,Gt.start*Ue),cn=Math.min(cn,(Gt.start+Gt.count)*Ue)),se!==null?(ln=Math.max(ln,0),cn=Math.min(cn,se.count)):Ae!=null&&(ln=Math.max(ln,0),cn=Math.min(cn,Ae.count));const Gn=cn-ln;if(Gn<0||Gn===1/0)return;Sn.setup(ut,gt,ae,_t,se);let mn,Ie=de;if(se!==null&&(mn=wt.get(se),Ie=He,Ie.setIndex(mn)),ut.isMesh)gt.wireframe===!0?(Kt.setLineWidth(gt.wireframeLinewidth*Rt()),Ie.setMode(Y.LINES)):Ie.setMode(Y.TRIANGLES);else if(ut.isLine){let Ce=gt.linewidth;Ce===void 0&&(Ce=1),Kt.setLineWidth(Ce*Rt()),ut.isLineSegments?Ie.setMode(Y.LINES):ut.isLineLoop?Ie.setMode(Y.LINE_LOOP):Ie.setMode(Y.LINE_STRIP)}else ut.isPoints?Ie.setMode(Y.POINTS):ut.isSprite&&Ie.setMode(Y.TRIANGLES);if(ut.isBatchedMesh)if(ut._multiDrawInstances!==null)Ie.renderMultiDrawInstances(ut._multiDrawStarts,ut._multiDrawCounts,ut._multiDrawCount,ut._multiDrawInstances);else if(Ht.get("WEBGL_multi_draw"))Ie.renderMultiDraw(ut._multiDrawStarts,ut._multiDrawCounts,ut._multiDrawCount);else{const Ce=ut._multiDrawStarts,xi=ut._multiDrawCounts,un=ut._multiDrawCount,Ss=se?wt.get(se).bytesPerElement:1,na=Qt.get(gt).currentProgram.getUniforms();for(let as=0;as<un;as++)na.setValue(Y,"_gl_DrawID",as),Ie.render(Ce[as]/Ss,xi[as])}else if(ut.isInstancedMesh)Ie.renderInstances(ln,Gn,ut.count);else if(_t.isInstancedBufferGeometry){const Ce=_t._maxInstanceCount!==void 0?_t._maxInstanceCount:1/0,xi=Math.min(_t.instanceCount,Ce);Ie.renderInstances(ln,Gn,xi)}else Ie.render(ln,Gn)};function dn(H,rt,_t){H.transparent===!0&&H.side===_o&&H.forceSinglePass===!1?(H.side=ya,H.needsUpdate=!0,Ke(H,rt,_t),H.side=yc,H.needsUpdate=!0,Ke(H,rt,_t),H.side=_o):Ke(H,rt,_t)}this.compile=function(H,rt,_t=null){_t===null&&(_t=H),M=Ze.get(_t),M.init(rt),D.push(M),_t.traverseVisible(function(ut){ut.isLight&&ut.layers.test(rt.layers)&&(M.pushLight(ut),ut.castShadow&&M.pushShadow(ut))}),H!==_t&&H.traverseVisible(function(ut){ut.isLight&&ut.layers.test(rt.layers)&&(M.pushLight(ut),ut.castShadow&&M.pushShadow(ut))}),M.setupLights();const gt=new Set;return H.traverse(function(ut){if(!(ut.isMesh||ut.isPoints||ut.isLine||ut.isSprite))return;const Gt=ut.material;if(Gt)if(Array.isArray(Gt))for(let Jt=0;Jt<Gt.length;Jt++){const ae=Gt[Jt];dn(ae,_t,ut),gt.add(ae)}else dn(Gt,_t,ut),gt.add(Gt)}),D.pop(),M=null,gt},this.compileAsync=function(H,rt,_t=null){const gt=this.compile(H,rt,_t);return new Promise(ut=>{function Gt(){if(gt.forEach(function(Jt){Qt.get(Jt).currentProgram.isReady()&&gt.delete(Jt)}),gt.size===0){ut(H);return}setTimeout(Gt,10)}Ht.get("KHR_parallel_shader_compile")!==null?Gt():setTimeout(Gt,10)})};let is=null;function ss(H){is&&is(H)}function Vu(){Sa.stop()}function Al(){Sa.start()}const Sa=new Yz;Sa.setAnimationLoop(ss),typeof self<"u"&&Sa.setContext(self),this.setAnimationLoop=function(H){is=H,At.setAnimationLoop(H),H===null?Sa.stop():Sa.start()},At.addEventListener("sessionstart",Vu),At.addEventListener("sessionend",Al),this.render=function(H,rt){if(rt!==void 0&&rt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),rt.parent===null&&rt.matrixWorldAutoUpdate===!0&&rt.updateMatrixWorld(),At.enabled===!0&&At.isPresenting===!0&&(At.cameraAutoUpdate===!0&&At.updateCamera(rt),rt=At.getCamera()),H.isScene===!0&&H.onBeforeRender(L,H,rt,V),M=Ze.get(H,D.length),M.init(rt),D.push(M),kt.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),it.setFromProjectionMatrix(kt),Ut=this.localClippingEnabled,Tt=Yt.init(this.clippingPlanes,Ut),E=he.get(H,R.length),E.init(),R.push(E),At.enabled===!0&&At.isPresenting===!0){const Gt=L.xr.getDepthSensingMesh();Gt!==null&&ea(Gt,rt,-1/0,L.sortObjects)}ea(H,rt,0,L.sortObjects),E.finish(),L.sortObjects===!0&&E.sort(vt,G),Pt=At.enabled===!1||At.isPresenting===!1||At.hasDepthSensing()===!1,Pt&&xe.addToRenderList(E,H),this.info.render.frame++,Tt===!0&&Yt.beginShadows();const _t=M.state.shadowsArray;pe.render(_t,H,rt),Tt===!0&&Yt.endShadows(),this.info.autoReset===!0&&this.info.reset();const gt=E.opaque,ut=E.transmissive;if(M.setupLights(),rt.isArrayCamera){const Gt=rt.cameras;if(ut.length>0)for(let Jt=0,ae=Gt.length;Jt<ae;Jt++){const se=Gt[Jt];ja(gt,ut,H,se)}Pt&&xe.render(H);for(let Jt=0,ae=Gt.length;Jt<ae;Jt++){const se=Gt[Jt];bc(E,H,se,se.viewport)}}else ut.length>0&&ja(gt,ut,H,rt),Pt&&xe.render(H),bc(E,H,rt);V!==null&&I===0&&(q.updateMultisampleRenderTarget(V),q.updateRenderTargetMipmap(V)),H.isScene===!0&&H.onAfterRender(L,H,rt),Sn.resetDefaultState(),U=-1,z=null,D.pop(),D.length>0?(M=D[D.length-1],Tt===!0&&Yt.setGlobalState(L.clippingPlanes,M.state.camera)):M=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function ea(H,rt,_t,gt){if(H.visible===!1)return;if(H.layers.test(rt.layers)){if(H.isGroup)_t=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(rt);else if(H.isLight)M.pushLight(H),H.castShadow&&M.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||it.intersectsSprite(H)){gt&&qt.setFromMatrixPosition(H.matrixWorld).applyMatrix4(kt);const Jt=Dt.update(H),ae=H.material;ae.visible&&E.push(H,Jt,ae,_t,qt.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||it.intersectsObject(H))){const Jt=Dt.update(H),ae=H.material;if(gt&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),qt.copy(H.boundingSphere.center)):(Jt.boundingSphere===null&&Jt.computeBoundingSphere(),qt.copy(Jt.boundingSphere.center)),qt.applyMatrix4(H.matrixWorld).applyMatrix4(kt)),Array.isArray(ae)){const se=Jt.groups;for(let Ue=0,Oe=se.length;Ue<Oe;Ue++){const Ae=se[Ue],ln=ae[Ae.materialIndex];ln&&ln.visible&&E.push(H,Jt,ln,_t,qt.z,Ae)}}else ae.visible&&E.push(H,Jt,ae,_t,qt.z,null)}}const Gt=H.children;for(let Jt=0,ae=Gt.length;Jt<ae;Jt++)ea(Gt[Jt],rt,_t,gt)}function bc(H,rt,_t,gt){const ut=H.opaque,Gt=H.transmissive,Jt=H.transparent;M.setupLightsView(_t),Tt===!0&&Yt.setGlobalState(L.clippingPlanes,_t),gt&&Kt.viewport(X.copy(gt)),ut.length>0&&oi(ut,rt,_t),Gt.length>0&&oi(Gt,rt,_t),Jt.length>0&&oi(Jt,rt,_t),Kt.buffers.depth.setTest(!0),Kt.buffers.depth.setMask(!0),Kt.buffers.color.setMask(!0),Kt.setPolygonOffset(!1)}function ja(H,rt,_t,gt){if((_t.isScene===!0?_t.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[gt.id]===void 0&&(M.state.transmissionRenderTarget[gt.id]=new Ml(1,1,{generateMipmaps:!0,type:Ht.has("EXT_color_buffer_half_float")||Ht.has("EXT_color_buffer_float")?Up:Eo,minFilter:dl,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const Gt=M.state.transmissionRenderTarget[gt.id],Jt=gt.viewport||X;Gt.setSize(Jt.z*L.transmissionResolutionScale,Jt.w*L.transmissionResolutionScale);const ae=L.getRenderTarget();L.setRenderTarget(Gt),L.getClearColor(at),mt=L.getClearAlpha(),mt<1&&L.setClearColor(16777215,.5),L.clear(),Pt&&xe.render(_t);const se=L.toneMapping;L.toneMapping=yl;const Ue=gt.viewport;if(gt.viewport!==void 0&&(gt.viewport=void 0),M.setupLightsView(gt),Tt===!0&&Yt.setGlobalState(L.clippingPlanes,gt),oi(H,_t,gt),q.updateMultisampleRenderTarget(Gt),q.updateRenderTargetMipmap(Gt),Ht.has("WEBGL_multisampled_render_to_texture")===!1){let Oe=!1;for(let Ae=0,ln=rt.length;Ae<ln;Ae++){const cn=rt[Ae],Gn=cn.object,mn=cn.geometry,Ie=cn.material,Ce=cn.group;if(Ie.side===_o&&Gn.layers.test(gt.layers)){const xi=Ie.side;Ie.side=ya,Ie.needsUpdate=!0,ni(Gn,_t,gt,mn,Ie,Ce),Ie.side=xi,Ie.needsUpdate=!0,Oe=!0}}Oe===!0&&(q.updateMultisampleRenderTarget(Gt),q.updateRenderTargetMipmap(Gt))}L.setRenderTarget(ae),L.setClearColor(at,mt),Ue!==void 0&&(gt.viewport=Ue),L.toneMapping=se}function oi(H,rt,_t){const gt=rt.isScene===!0?rt.overrideMaterial:null;for(let ut=0,Gt=H.length;ut<Gt;ut++){const Jt=H[ut],ae=Jt.object,se=Jt.geometry,Ue=gt===null?Jt.material:gt,Oe=Jt.group;ae.layers.test(_t.layers)&&ni(ae,rt,_t,se,Ue,Oe)}}function ni(H,rt,_t,gt,ut,Gt){H.onBeforeRender(L,rt,_t,gt,ut,Gt),H.modelViewMatrix.multiplyMatrices(_t.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ut.onBeforeRender(L,rt,_t,gt,H,Gt),ut.transparent===!0&&ut.side===_o&&ut.forceSinglePass===!1?(ut.side=ya,ut.needsUpdate=!0,L.renderBufferDirect(_t,rt,gt,ut,H,Gt),ut.side=yc,ut.needsUpdate=!0,L.renderBufferDirect(_t,rt,gt,ut,H,Gt),ut.side=_o):L.renderBufferDirect(_t,rt,gt,ut,H,Gt),H.onAfterRender(L,rt,_t,gt,ut,Gt)}function Ke(H,rt,_t){rt.isScene!==!0&&(rt=le);const gt=Qt.get(H),ut=M.state.lights,Gt=M.state.shadowsArray,Jt=ut.state.version,ae=ce.getParameters(H,ut.state,Gt,rt,_t),se=ce.getProgramCacheKey(ae);let Ue=gt.programs;gt.environment=H.isMeshStandardMaterial?rt.environment:null,gt.fog=rt.fog,gt.envMap=(H.isMeshStandardMaterial?yt:F).get(H.envMap||gt.environment),gt.envMapRotation=gt.environment!==null&&H.envMap===null?rt.environmentRotation:H.envMapRotation,Ue===void 0&&(H.addEventListener("dispose",Le),Ue=new Map,gt.programs=Ue);let Oe=Ue.get(se);if(Oe!==void 0){if(gt.currentProgram===Oe&&gt.lightsStateVersion===Jt)return Ro(H,ae),Oe}else ae.uniforms=ce.getUniforms(H),H.onBeforeCompile(ae,L),Oe=ce.acquireProgram(ae,se),Ue.set(se,Oe),gt.uniforms=ae.uniforms;const Ae=gt.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Ae.clippingPlanes=Yt.uniform),Ro(H,ae),gt.needsLights=Ch(H),gt.lightsStateVersion=Jt,gt.needsLights&&(Ae.ambientLightColor.value=ut.state.ambient,Ae.lightProbe.value=ut.state.probe,Ae.directionalLights.value=ut.state.directional,Ae.directionalLightShadows.value=ut.state.directionalShadow,Ae.spotLights.value=ut.state.spot,Ae.spotLightShadows.value=ut.state.spotShadow,Ae.rectAreaLights.value=ut.state.rectArea,Ae.ltc_1.value=ut.state.rectAreaLTC1,Ae.ltc_2.value=ut.state.rectAreaLTC2,Ae.pointLights.value=ut.state.point,Ae.pointLightShadows.value=ut.state.pointShadow,Ae.hemisphereLights.value=ut.state.hemi,Ae.directionalShadowMap.value=ut.state.directionalShadowMap,Ae.directionalShadowMatrix.value=ut.state.directionalShadowMatrix,Ae.spotShadowMap.value=ut.state.spotShadowMap,Ae.spotLightMatrix.value=ut.state.spotLightMatrix,Ae.spotLightMap.value=ut.state.spotLightMap,Ae.pointShadowMap.value=ut.state.pointShadowMap,Ae.pointShadowMatrix.value=ut.state.pointShadowMatrix),gt.currentProgram=Oe,gt.uniformsList=null,Oe}function Xa(H){if(H.uniformsList===null){const rt=H.currentProgram.getUniforms();H.uniformsList=Zx.seqWithValue(rt.seq,H.uniforms)}return H.uniformsList}function Ro(H,rt){const _t=Qt.get(H);_t.outputColorSpace=rt.outputColorSpace,_t.batching=rt.batching,_t.batchingColor=rt.batchingColor,_t.instancing=rt.instancing,_t.instancingColor=rt.instancingColor,_t.instancingMorph=rt.instancingMorph,_t.skinning=rt.skinning,_t.morphTargets=rt.morphTargets,_t.morphNormals=rt.morphNormals,_t.morphColors=rt.morphColors,_t.morphTargetsCount=rt.morphTargetsCount,_t.numClippingPlanes=rt.numClippingPlanes,_t.numIntersection=rt.numClipIntersection,_t.vertexAlphas=rt.vertexAlphas,_t.vertexTangents=rt.vertexTangents,_t.toneMapping=rt.toneMapping}function Ah(H,rt,_t,gt,ut){rt.isScene!==!0&&(rt=le),q.resetTextureUnits();const Gt=rt.fog,Jt=gt.isMeshStandardMaterial?rt.environment:null,ae=V===null?L.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Du,se=(gt.isMeshStandardMaterial?yt:F).get(gt.envMap||Jt),Ue=gt.vertexColors===!0&&!!_t.attributes.color&&_t.attributes.color.itemSize===4,Oe=!!_t.attributes.tangent&&(!!gt.normalMap||gt.anisotropy>0),Ae=!!_t.morphAttributes.position,ln=!!_t.morphAttributes.normal,cn=!!_t.morphAttributes.color;let Gn=yl;gt.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Gn=L.toneMapping);const mn=_t.morphAttributes.position||_t.morphAttributes.normal||_t.morphAttributes.color,Ie=mn!==void 0?mn.length:0,Ce=Qt.get(gt),xi=M.state.lights;if(Tt===!0&&(Ut===!0||H!==z)){const ii=H===z&&gt.id===U;Yt.setState(gt,H,ii)}let un=!1;gt.version===Ce.__version?(Ce.needsLights&&Ce.lightsStateVersion!==xi.state.version||Ce.outputColorSpace!==ae||ut.isBatchedMesh&&Ce.batching===!1||!ut.isBatchedMesh&&Ce.batching===!0||ut.isBatchedMesh&&Ce.batchingColor===!0&&ut.colorTexture===null||ut.isBatchedMesh&&Ce.batchingColor===!1&&ut.colorTexture!==null||ut.isInstancedMesh&&Ce.instancing===!1||!ut.isInstancedMesh&&Ce.instancing===!0||ut.isSkinnedMesh&&Ce.skinning===!1||!ut.isSkinnedMesh&&Ce.skinning===!0||ut.isInstancedMesh&&Ce.instancingColor===!0&&ut.instanceColor===null||ut.isInstancedMesh&&Ce.instancingColor===!1&&ut.instanceColor!==null||ut.isInstancedMesh&&Ce.instancingMorph===!0&&ut.morphTexture===null||ut.isInstancedMesh&&Ce.instancingMorph===!1&&ut.morphTexture!==null||Ce.envMap!==se||gt.fog===!0&&Ce.fog!==Gt||Ce.numClippingPlanes!==void 0&&(Ce.numClippingPlanes!==Yt.numPlanes||Ce.numIntersection!==Yt.numIntersection)||Ce.vertexAlphas!==Ue||Ce.vertexTangents!==Oe||Ce.morphTargets!==Ae||Ce.morphNormals!==ln||Ce.morphColors!==cn||Ce.toneMapping!==Gn||Ce.morphTargetsCount!==Ie)&&(un=!0):(un=!0,Ce.__version=gt.version);let Ss=Ce.currentProgram;un===!0&&(Ss=Ke(gt,rt,ut));let na=!1,as=!1,Li=!1;const Rn=Ss.getUniforms(),rs=Ce.uniforms;if(Kt.useProgram(Ss.program)&&(na=!0,as=!0,Li=!0),gt.id!==U&&(U=gt.id,as=!0),na||z!==H){Kt.buffers.depth.getReversed()?(It.copy(H.projectionMatrix),Rj(It),Dj(It),Rn.setValue(Y,"projectionMatrix",It)):Rn.setValue(Y,"projectionMatrix",H.projectionMatrix),Rn.setValue(Y,"viewMatrix",H.matrixWorldInverse);const Vi=Rn.map.cameraPosition;Vi!==void 0&&Vi.setValue(Y,ye.setFromMatrixPosition(H.matrixWorld)),$t.logarithmicDepthBuffer&&Rn.setValue(Y,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&Rn.setValue(Y,"isOrthographic",H.isOrthographicCamera===!0),z!==H&&(z=H,as=!0,Li=!0)}if(ut.isSkinnedMesh){Rn.setOptional(Y,ut,"bindMatrix"),Rn.setOptional(Y,ut,"bindMatrixInverse");const ii=ut.skeleton;ii&&(ii.boneTexture===null&&ii.computeBoneTexture(),Rn.setValue(Y,"boneTexture",ii.boneTexture,q))}ut.isBatchedMesh&&(Rn.setOptional(Y,ut,"batchingTexture"),Rn.setValue(Y,"batchingTexture",ut._matricesTexture,q),Rn.setOptional(Y,ut,"batchingIdTexture"),Rn.setValue(Y,"batchingIdTexture",ut._indirectTexture,q),Rn.setOptional(Y,ut,"batchingColorTexture"),ut._colorsTexture!==null&&Rn.setValue(Y,"batchingColorTexture",ut._colorsTexture,q));const qi=_t.morphAttributes;if((qi.position!==void 0||qi.normal!==void 0||qi.color!==void 0)&&ve.update(ut,_t,Ss),(as||Ce.receiveShadow!==ut.receiveShadow)&&(Ce.receiveShadow=ut.receiveShadow,Rn.setValue(Y,"receiveShadow",ut.receiveShadow)),gt.isMeshGouraudMaterial&&gt.envMap!==null&&(rs.envMap.value=se,rs.flipEnvMap.value=se.isCubeTexture&&se.isRenderTargetTexture===!1?-1:1),gt.isMeshStandardMaterial&&gt.envMap===null&&rt.environment!==null&&(rs.envMapIntensity.value=rt.environmentIntensity),as&&(Rn.setValue(Y,"toneMappingExposure",L.toneMappingExposure),Ce.needsLights&&wh(rs,Li),Gt&&gt.fog===!0&&ee.refreshFogUniforms(rs,Gt),ee.refreshMaterialUniforms(rs,gt,Q,et,M.state.transmissionRenderTarget[H.id]),Zx.upload(Y,Xa(Ce),rs,q)),gt.isShaderMaterial&&gt.uniformsNeedUpdate===!0&&(Zx.upload(Y,Xa(Ce),rs,q),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&Rn.setValue(Y,"center",ut.center),Rn.setValue(Y,"modelViewMatrix",ut.modelViewMatrix),Rn.setValue(Y,"normalMatrix",ut.normalMatrix),Rn.setValue(Y,"modelMatrix",ut.matrixWorld),gt.isShaderMaterial||gt.isRawShaderMaterial){const ii=gt.uniformsGroups;for(let Vi=0,Wa=ii.length;Vi<Wa;Vi++){const bs=ii[Vi];lt.update(bs,Ss),lt.bind(bs,Ss)}}return Ss}function wh(H,rt){H.ambientLightColor.needsUpdate=rt,H.lightProbe.needsUpdate=rt,H.directionalLights.needsUpdate=rt,H.directionalLightShadows.needsUpdate=rt,H.pointLights.needsUpdate=rt,H.pointLightShadows.needsUpdate=rt,H.spotLights.needsUpdate=rt,H.spotLightShadows.needsUpdate=rt,H.rectAreaLights.needsUpdate=rt,H.hemisphereLights.needsUpdate=rt}function Ch(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(H,rt,_t){Qt.get(H.texture).__webglTexture=rt,Qt.get(H.depthTexture).__webglTexture=_t;const gt=Qt.get(H);gt.__hasExternalTextures=!0,gt.__autoAllocateDepthBuffer=_t===void 0,gt.__autoAllocateDepthBuffer||Ht.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,rt){const _t=Qt.get(H);_t.__webglFramebuffer=rt,_t.__useDefaultFramebuffer=rt===void 0};const Lr=Y.createFramebuffer();this.setRenderTarget=function(H,rt=0,_t=0){V=H,P=rt,I=_t;let gt=!0,ut=null,Gt=!1,Jt=!1;if(H){const se=Qt.get(H);if(se.__useDefaultFramebuffer!==void 0)Kt.bindFramebuffer(Y.FRAMEBUFFER,null),gt=!1;else if(se.__webglFramebuffer===void 0)q.setupRenderTarget(H);else if(se.__hasExternalTextures)q.rebindTextures(H,Qt.get(H.texture).__webglTexture,Qt.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const Ae=H.depthTexture;if(se.__boundDepthTexture!==Ae){if(Ae!==null&&Qt.has(Ae)&&(H.width!==Ae.image.width||H.height!==Ae.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");q.setupDepthRenderbuffer(H)}}const Ue=H.texture;(Ue.isData3DTexture||Ue.isDataArrayTexture||Ue.isCompressedArrayTexture)&&(Jt=!0);const Oe=Qt.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Oe[rt])?ut=Oe[rt][_t]:ut=Oe[rt],Gt=!0):H.samples>0&&q.useMultisampledRTT(H)===!1?ut=Qt.get(H).__webglMultisampledFramebuffer:Array.isArray(Oe)?ut=Oe[_t]:ut=Oe,X.copy(H.viewport),dt.copy(H.scissor),st=H.scissorTest}else X.copy(nt).multiplyScalar(Q).floor(),dt.copy(Et).multiplyScalar(Q).floor(),st=Ot;if(_t!==0&&(ut=Lr),Kt.bindFramebuffer(Y.FRAMEBUFFER,ut)&&gt&&Kt.drawBuffers(H,ut),Kt.viewport(X),Kt.scissor(dt),Kt.setScissorTest(st),Gt){const se=Qt.get(H.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+rt,se.__webglTexture,_t)}else if(Jt){const se=Qt.get(H.texture),Ue=rt;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,se.__webglTexture,_t,Ue)}else if(H!==null&&_t!==0){const se=Qt.get(H.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,se.__webglTexture,_t)}U=-1},this.readRenderTargetPixels=function(H,rt,_t,gt,ut,Gt,Jt){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ae=Qt.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&Jt!==void 0&&(ae=ae[Jt]),ae){Kt.bindFramebuffer(Y.FRAMEBUFFER,ae);try{const se=H.texture,Ue=se.format,Oe=se.type;if(!$t.textureFormatReadable(Ue)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!$t.textureTypeReadable(Oe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}rt>=0&&rt<=H.width-gt&&_t>=0&&_t<=H.height-ut&&Y.readPixels(rt,_t,gt,ut,Me.convert(Ue),Me.convert(Oe),Gt)}finally{const se=V!==null?Qt.get(V).__webglFramebuffer:null;Kt.bindFramebuffer(Y.FRAMEBUFFER,se)}}},this.readRenderTargetPixelsAsync=async function(H,rt,_t,gt,ut,Gt,Jt){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ae=Qt.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&Jt!==void 0&&(ae=ae[Jt]),ae){const se=H.texture,Ue=se.format,Oe=se.type;if(!$t.textureFormatReadable(Ue))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!$t.textureTypeReadable(Oe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(rt>=0&&rt<=H.width-gt&&_t>=0&&_t<=H.height-ut){Kt.bindFramebuffer(Y.FRAMEBUFFER,ae);const Ae=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ae),Y.bufferData(Y.PIXEL_PACK_BUFFER,Gt.byteLength,Y.STREAM_READ),Y.readPixels(rt,_t,gt,ut,Me.convert(Ue),Me.convert(Oe),0);const ln=V!==null?Qt.get(V).__webglFramebuffer:null;Kt.bindFramebuffer(Y.FRAMEBUFFER,ln);const cn=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await Cj(Y,cn,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ae),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,Gt),Y.deleteBuffer(Ae),Y.deleteSync(cn),Gt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(H,rt=null,_t=0){H.isTexture!==!0&&(Wd("WebGLRenderer: copyFramebufferToTexture function signature has changed."),rt=arguments[0]||null,H=arguments[1]);const gt=Math.pow(2,-_t),ut=Math.floor(H.image.width*gt),Gt=Math.floor(H.image.height*gt),Jt=rt!==null?rt.x:0,ae=rt!==null?rt.y:0;q.setTexture2D(H,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,_t,0,0,Jt,ae,ut,Gt),Kt.unbindTexture()};const wl=Y.createFramebuffer(),qa=Y.createFramebuffer();this.copyTextureToTexture=function(H,rt,_t=null,gt=null,ut=0,Gt=null){H.isTexture!==!0&&(Wd("WebGLRenderer: copyTextureToTexture function signature has changed."),gt=arguments[0]||null,H=arguments[1],rt=arguments[2],Gt=arguments[3]||0,_t=null),Gt===null&&(ut!==0?(Wd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Gt=ut,ut=0):Gt=0);let Jt,ae,se,Ue,Oe,Ae,ln,cn,Gn;const mn=H.isCompressedTexture?H.mipmaps[Gt]:H.image;if(_t!==null)Jt=_t.max.x-_t.min.x,ae=_t.max.y-_t.min.y,se=_t.isBox3?_t.max.z-_t.min.z:1,Ue=_t.min.x,Oe=_t.min.y,Ae=_t.isBox3?_t.min.z:0;else{const qi=Math.pow(2,-ut);Jt=Math.floor(mn.width*qi),ae=Math.floor(mn.height*qi),H.isDataArrayTexture?se=mn.depth:H.isData3DTexture?se=Math.floor(mn.depth*qi):se=1,Ue=0,Oe=0,Ae=0}gt!==null?(ln=gt.x,cn=gt.y,Gn=gt.z):(ln=0,cn=0,Gn=0);const Ie=Me.convert(rt.format),Ce=Me.convert(rt.type);let xi;rt.isData3DTexture?(q.setTexture3D(rt,0),xi=Y.TEXTURE_3D):rt.isDataArrayTexture||rt.isCompressedArrayTexture?(q.setTexture2DArray(rt,0),xi=Y.TEXTURE_2D_ARRAY):(q.setTexture2D(rt,0),xi=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,rt.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rt.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,rt.unpackAlignment);const un=Y.getParameter(Y.UNPACK_ROW_LENGTH),Ss=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),na=Y.getParameter(Y.UNPACK_SKIP_PIXELS),as=Y.getParameter(Y.UNPACK_SKIP_ROWS),Li=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,mn.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,mn.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Ue),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Oe),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Ae);const Rn=H.isDataArrayTexture||H.isData3DTexture,rs=rt.isDataArrayTexture||rt.isData3DTexture;if(H.isDepthTexture){const qi=Qt.get(H),ii=Qt.get(rt),Vi=Qt.get(qi.__renderTarget),Wa=Qt.get(ii.__renderTarget);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,Vi.__webglFramebuffer),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Wa.__webglFramebuffer);for(let bs=0;bs<se;bs++)Rn&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Qt.get(H).__webglTexture,ut,Ae+bs),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Qt.get(rt).__webglTexture,Gt,Gn+bs)),Y.blitFramebuffer(Ue,Oe,Jt,ae,ln,cn,Jt,ae,Y.DEPTH_BUFFER_BIT,Y.NEAREST);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(ut!==0||H.isRenderTargetTexture||Qt.has(H)){const qi=Qt.get(H),ii=Qt.get(rt);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,wl),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,qa);for(let Vi=0;Vi<se;Vi++)Rn?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,qi.__webglTexture,ut,Ae+Vi):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,qi.__webglTexture,ut),rs?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,ii.__webglTexture,Gt,Gn+Vi):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,ii.__webglTexture,Gt),ut!==0?Y.blitFramebuffer(Ue,Oe,Jt,ae,ln,cn,Jt,ae,Y.COLOR_BUFFER_BIT,Y.NEAREST):rs?Y.copyTexSubImage3D(xi,Gt,ln,cn,Gn+Vi,Ue,Oe,Jt,ae):Y.copyTexSubImage2D(xi,Gt,ln,cn,Ue,Oe,Jt,ae);Kt.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Kt.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else rs?H.isDataTexture||H.isData3DTexture?Y.texSubImage3D(xi,Gt,ln,cn,Gn,Jt,ae,se,Ie,Ce,mn.data):rt.isCompressedArrayTexture?Y.compressedTexSubImage3D(xi,Gt,ln,cn,Gn,Jt,ae,se,Ie,mn.data):Y.texSubImage3D(xi,Gt,ln,cn,Gn,Jt,ae,se,Ie,Ce,mn):H.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Gt,ln,cn,Jt,ae,Ie,Ce,mn.data):H.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Gt,ln,cn,mn.width,mn.height,Ie,mn.data):Y.texSubImage2D(Y.TEXTURE_2D,Gt,ln,cn,Jt,ae,Ie,Ce,mn);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,un),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ss),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,na),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,as),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Li),Gt===0&&rt.generateMipmaps&&Y.generateMipmap(xi),Kt.unbindTexture()},this.copyTextureToTexture3D=function(H,rt,_t=null,gt=null,ut=0){return H.isTexture!==!0&&(Wd("WebGLRenderer: copyTextureToTexture3D function signature has changed."),_t=arguments[0]||null,gt=arguments[1]||null,H=arguments[2],rt=arguments[3],ut=arguments[4]||0),Wd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(H,rt,_t,gt,ut)},this.initRenderTarget=function(H){Qt.get(H).__webglFramebuffer===void 0&&q.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?q.setTextureCube(H,0):H.isData3DTexture?q.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?q.setTexture2DArray(H,0):q.setTexture2D(H,0),Kt.unbindTexture()},this.resetState=function(){P=0,I=0,V=null,Kt.reset(),Sn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorspace=_n._getDrawingBufferColorSpace(t),e.unpackColorSpace=_n._getUnpackColorSpace()}}const IQ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:tA,AddEquation:Tu,AddOperation:bP,AdditiveAnimationBlendMode:fA,AdditiveBlending:rT,AgXToneMapping:wP,AlphaFormat:aA,AlwaysCompare:GP,AlwaysDepth:d_,AlwaysStencilFunc:uT,AmbientLight:Pz,AnimationAction:jz,AnimationClip:w0,AnimationLoader:tq,AnimationMixer:Rq,AnimationObjectGroup:wq,AnimationUtils:KX,ArcCurve:oz,ArrayCamera:Hz,ArrowHelper:Qq,AttachedBindMode:cT,Audio:Gz,AudioAnalyser:vq,AudioContext:PA,AudioListener:pq,AudioLoader:fq,AxesHelper:$q,BackSide:ya,BasicDepthPacking:UP,BasicShadowMap:nP,BatchedMesh:iz,Bone:yA,BooleanKeyframeTrack:Mh,Box2:Bq,Box3:xa,Box3Helper:Zq,BoxGeometry:bh,BoxHelper:Yq,BufferAttribute:qn,BufferGeometry:en,BufferGeometryLoader:Fz,ByteType:nA,Cache:hc,Camera:T1,CameraHelper:Wq,CanvasTexture:_X,CapsuleGeometry:N1,CatmullRomCurve3:lz,CineonToneMapping:EP,CircleGeometry:L1,ClampToEdgeWrapping:Nr,Clock:zA,Color:fe,ColorKeyframeTrack:LA,ColorManagement:_n,CompressedArrayTexture:yX,CompressedCubeTexture:xX,CompressedTexture:R1,CompressedTextureLoader:eq,ConeGeometry:U1,ConstantAlphaFactor:xP,ConstantColorFactor:vP,Controls:tW,CubeCamera:KP,CubeReflectionMapping:xc,CubeRefractionMapping:Ru,CubeTexture:X0,CubeTextureLoader:nq,CubeUVReflectionMapping:Lp,CubicBezierCurve:bA,CubicBezierCurve3:cz,CubicInterpolant:Cz,CullFaceBack:aT,CullFaceFront:eP,CullFaceFrontBack:D9,CullFaceNone:tP,Curve:wo,CurvePath:fz,CustomBlending:iP,CustomToneMapping:AP,CylinderGeometry:Pp,Cylindrical:zq,Data3DTexture:M1,DataArrayTexture:j0,DataTexture:xl,DataTextureLoader:iq,DataUtils:Xj,DecrementStencilOp:j9,DecrementWrapStencilOp:q9,DefaultLoadingManager:up,DepthFormat:fh,DepthStencilFormat:vh,DepthTexture:_A,DetachedBindMode:RP,DirectionalLight:Oz,DirectionalLightHelper:qq,DiscreteInterpolant:Rz,DodecahedronGeometry:O1,DoubleSide:_o,DstAlphaFactor:hP,DstColorFactor:pP,DynamicCopyUsage:oj,DynamicDrawUsage:ej,DynamicReadUsage:sj,EdgesGeometry:hz,EllipseCurve:D1,EqualCompare:VP,EqualDepth:m_,EqualStencilFunc:K9,EquirectangularReflectionMapping:f0,EquirectangularRefractionMapping:h0,Euler:Ga,EventDispatcher:Tl,ExtrudeGeometry:z1,FileLoader:Sc,Float16BufferAttribute:$j,Float32BufferAttribute:be,FloatType:Fa,Fog:A1,FogExp2:E1,FramebufferTexture:vX,FrontSide:yc,Frustum:q0,GLBufferAttribute:Pq,GLSL1:cj,GLSL3:fT,GreaterCompare:IP,GreaterDepth:v_,GreaterEqualCompare:HP,GreaterEqualDepth:g_,GreaterEqualStencilFunc:tj,GreaterStencilFunc:$9,GridHelper:jq,Group:lp,HalfFloatType:Up,HemisphereLight:Nz,HemisphereLightHelper:kq,IcosahedronGeometry:B1,ImageBitmapLoader:uq,ImageLoader:C0,ImageUtils:qP,IncrementStencilOp:k9,IncrementWrapStencilOp:X9,InstancedBufferAttribute:Mp,InstancedBufferGeometry:Iz,InstancedInterleavedBuffer:Oq,InstancedMesh:nz,Int16BufferAttribute:Kj,Int32BufferAttribute:Qj,Int8BufferAttribute:Wj,IntType:m1,InterleavedBuffer:w1,InterleavedBufferAttribute:yh,Interpolant:K0,InterpolateDiscrete:m0,InterpolateLinear:X_,InterpolateSmooth:Wx,InvertStencilOp:W9,KeepStencilOp:Yf,KeyframeTrack:Co,LOD:tz,LatheGeometry:W0,Layers:Sp,LessCompare:BP,LessDepth:p_,LessEqualCompare:hA,LessEqualDepth:mh,LessEqualStencilFunc:Q9,LessStencilFunc:Z9,Light:Bu,LightProbe:Vz,Line:Nu,Line3:Vq,LineBasicMaterial:_a,LineCurve:MA,LineCurve3:uz,LineDashedMaterial:Ez,LineLoop:sz,LineSegments:El,LinearFilter:$i,LinearInterpolant:NA,LinearMipMapLinearFilter:O9,LinearMipMapNearestFilter:U9,LinearMipmapLinearFilter:dl,LinearMipmapNearestFilter:Hg,LinearSRGBColorSpace:Du,LinearToneMapping:MP,LinearTransfer:v0,Loader:ka,LoaderUtils:gT,LoadingManager:UA,LoopOnce:DP,LoopPingPong:LP,LoopRepeat:NP,LuminanceAlphaFormat:lA,LuminanceFormat:oA,MOUSE:C9,Material:ta,MaterialLoader:j1,MathUtils:kP,Matrix2:FA,Matrix3:We,Matrix4:Ve,MaxEquation:oP,Mesh:Xi,MeshBasicMaterial:Pu,MeshDepthMaterial:CA,MeshDistanceMaterial:RA,MeshLambertMaterial:Mz,MeshMatcapMaterial:Tz,MeshNormalMaterial:bz,MeshPhongMaterial:_z,MeshPhysicalMaterial:xz,MeshStandardMaterial:wA,MeshToonMaterial:Sz,MinEquation:rP,MirroredRepeatWrapping:p0,MixOperation:SP,MultiplyBlending:lT,MultiplyOperation:G0,NearestFilter:Us,NearestMipMapLinearFilter:L9,NearestMipMapNearestFilter:N9,NearestMipmapLinearFilter:rp,NearestMipmapNearestFilter:eA,NeutralToneMapping:CP,NeverCompare:zP,NeverDepth:h_,NeverStencilFunc:Y9,NoBlending:mc,NoColorSpace:uc,NoToneMapping:yl,NormalAnimationBlendMode:S1,NormalBlending:uh,NotEqualCompare:FP,NotEqualDepth:y_,NotEqualStencilFunc:J9,NumberKeyframeTrack:E0,Object3D:An,ObjectLoader:lq,ObjectSpaceNormalMap:PP,OctahedronGeometry:Y0,OneFactor:cP,OneMinusConstantAlphaFactor:_P,OneMinusConstantColorFactor:yP,OneMinusDstAlphaFactor:dP,OneMinusDstColorFactor:mP,OneMinusSrcAlphaFactor:f_,OneMinusSrcColorFactor:fP,OrthographicCamera:Eh,PCFShadowMap:d1,PCFSoftShadowMap:Fg,PMREMGenerator:xT,Path:S0,PerspectiveCamera:ji,Plane:Mu,PlaneGeometry:zp,PlaneHelper:Kq,PointLight:Uz,PointLightHelper:Hq,Points:az,PointsMaterial:xA,PolarGridHelper:Xq,PolyhedronGeometry:zu,PositionalAudio:gq,PropertyBinding:Tn,PropertyMixer:kz,QuadraticBezierCurve:TA,QuadraticBezierCurve3:EA,Quaternion:ts,QuaternionKeyframeTrack:Q0,QuaternionLinearInterpolant:Dz,RED_GREEN_RGTC2_Format:k_,RED_RGTC1_Format:uA,REVISION:h1,RGBADepthPacking:OP,RGBAFormat:Qs,RGBAIntegerFormat:_1,RGBA_ASTC_10x10_Format:B_,RGBA_ASTC_10x5_Format:O_,RGBA_ASTC_10x6_Format:P_,RGBA_ASTC_10x8_Format:z_,RGBA_ASTC_12x10_Format:V_,RGBA_ASTC_12x12_Format:I_,RGBA_ASTC_4x4_Format:A_,RGBA_ASTC_5x4_Format:w_,RGBA_ASTC_5x5_Format:C_,RGBA_ASTC_6x5_Format:R_,RGBA_ASTC_6x6_Format:D_,RGBA_ASTC_8x5_Format:N_,RGBA_ASTC_8x6_Format:L_,RGBA_ASTC_8x8_Format:U_,RGBA_BPTC_Format:qg,RGBA_ETC2_EAC_Format:E_,RGBA_PVRTC_2BPPV1_Format:b_,RGBA_PVRTC_4BPPV1_Format:S_,RGBA_S3TC_DXT1_Format:kg,RGBA_S3TC_DXT3_Format:jg,RGBA_S3TC_DXT5_Format:Xg,RGBDepthPacking:I9,RGBFormat:rA,RGBIntegerFormat:P9,RGB_BPTC_SIGNED_Format:F_,RGB_BPTC_UNSIGNED_Format:H_,RGB_ETC1_Format:M_,RGB_ETC2_Format:T_,RGB_PVRTC_2BPPV1_Format:__,RGB_PVRTC_4BPPV1_Format:x_,RGB_S3TC_DXT1_Format:Gg,RGDepthPacking:F9,RGFormat:cA,RGIntegerFormat:x1,RawShaderMaterial:yz,Ray:Op,Raycaster:Xz,RectAreaLight:zz,RedFormat:y1,RedIntegerFormat:k0,ReinhardToneMapping:TP,RenderTarget:b1,RenderTarget3D:Dq,RenderTargetArray:Nq,RepeatWrapping:d0,ReplaceStencilOp:G9,ReverseSubtractEquation:aP,RingGeometry:V1,SIGNED_RED_GREEN_RGTC2_Format:j_,SIGNED_RED_RGTC1_Format:G_,SRGBColorSpace:Zs,SRGBTransfer:Fn,Scene:gA,ShaderChunk:tn,ShaderLib:xo,ShaderMaterial:Ao,ShadowMaterial:vz,Shape:dh,ShapeGeometry:I1,ShapePath:Jq,ShapeUtils:_l,ShortType:iA,Skeleton:C1,SkeletonHelper:Fq,SkinnedMesh:ez,Source:ih,Sphere:Js,SphereGeometry:Z0,Spherical:qz,SphericalHarmonics3:Bz,SplineCurve:AA,SpotLight:Lz,SpotLightHelper:Iq,Sprite:JP,SpriteMaterial:vA,SrcAlphaFactor:u_,SrcAlphaSaturateFactor:gP,SrcColorFactor:uP,StaticCopyUsage:rj,StaticDrawUsage:y0,StaticReadUsage:ij,StereoCamera:hq,StreamCopyUsage:lj,StreamDrawUsage:nj,StreamReadUsage:aj,StringKeyframeTrack:Th,SubtractEquation:sP,SubtractiveBlending:oT,TOUCH:R9,TangentSpaceNormalMap:Ou,TetrahedronGeometry:F1,Texture:Ni,TextureLoader:sq,TextureUtils:aW,TimestampQuery:uj,TorusGeometry:H1,TorusKnotGeometry:G1,Triangle:Va,TriangleFanDrawMode:V9,TriangleStripDrawMode:B9,TrianglesDrawMode:z9,TubeGeometry:k1,UVMapping:p1,Uint16BufferAttribute:pA,Uint32BufferAttribute:mA,Uint8BufferAttribute:Yj,Uint8ClampedBufferAttribute:Zj,Uniform:IA,UniformsGroup:Uq,UniformsLib:oe,UniformsUtils:ZP,UnsignedByteType:Eo,UnsignedInt248Type:gh,UnsignedInt5999Type:sA,UnsignedIntType:_c,UnsignedShort4444Type:g1,UnsignedShort5551Type:v1,UnsignedShortType:xp,VSMShadowMap:yo,Vector2:Vt,Vector3:Z,Vector4:pn,VectorKeyframeTrack:A0,VideoFrameTexture:gX,VideoTexture:rz,WebGL3DRenderTarget:Pj,WebGLArrayRenderTarget:Oj,WebGLCoordinateSystem:bo,WebGLCubeRenderTarget:QP,WebGLRenderTarget:Ml,WebGLRenderer:tB,WebGLUtils:Jz,WebGPUCoordinateSystem:x0,WebXRController:Yx,WireframeGeometry:gz,WrapAroundEnding:g0,ZeroCurvatureEnding:eh,ZeroFactor:lP,ZeroSlopeEnding:nh,ZeroStencilOp:H9,createCanvasElement:XP},Symbol.toStringTag,{value:"Module"}));var Kb={exports:{}},oc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3;function FQ(){return p3||(p3=1,oc.ConcurrentRoot=1,oc.ContinuousEventPriority=8,oc.DefaultEventPriority=32,oc.DiscreteEventPriority=2,oc.IdleEventPriority=268435456,oc.LegacyRoot=0,oc.NoEventPriority=0),oc}var m3;function HQ(){return m3||(m3=1,Kb.exports=FQ()),Kb.exports}var Kx=HQ(),Qb={exports:{}},$b={},Jb={exports:{}},tM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function GQ(){if(g3)return tM;g3=1;var n=Ep();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,o=n.useDebugValue;function c(v,x){var _=x(),T=i({inst:{value:_,getSnapshot:x}}),C=T[0].inst,E=T[1];return r(function(){C.value=_,C.getSnapshot=x,h(C)&&E({inst:C})},[v,_,x]),s(function(){return h(C)&&E({inst:C}),v(function(){h(C)&&E({inst:C})})},[v]),o(_),_}function h(v){var x=v.getSnapshot;v=v.value;try{var _=x();return!e(v,_)}catch{return!0}}function p(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return tM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,tM}var v3;function kQ(){return v3||(v3=1,Jb.exports=GQ()),Jb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function jQ(){if(y3)return $b;y3=1;var n=Ep(),t=kQ();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,r=n.useRef,o=n.useEffect,c=n.useMemo,h=n.useDebugValue;return $b.useSyncExternalStoreWithSelector=function(p,m,v,x,_){var T=r(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=c(function(){function M(P){if(!R){if(R=!0,D=P,P=x(P),_!==void 0&&C.hasValue){var I=C.value;if(_(I,P))return L=I}return L=P}if(I=L,i(D,P))return I;var V=x(P);return _!==void 0&&_(I,V)?(D=P,I):(D=P,L=V)}var R=!1,D,L,B=v===void 0?null:v;return[function(){return M(m())},B===null?void 0:function(){return M(B())}]},[m,v,x,_]);var E=s(p,T[0],T[1]);return o(function(){C.hasValue=!0,C.value=E},[E]),h(E),E},$b}var x3;function XQ(){return x3||(x3=1,Qb.exports=jQ()),Qb.exports}var qQ=XQ();const WQ=N0(qQ),_3=n=>{let t;const e=new Set,i=(p,m)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const x=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(_=>_(t,x))}},s=()=>t,c={setState:i,getState:s,getInitialState:()=>h,subscribe:p=>(e.add(p),()=>e.delete(p))},h=t=n(i,s,c);return c},eB=n=>n?_3(n):_3,{useSyncExternalStoreWithSelector:YQ}=WQ,ZQ=n=>n;function KQ(n,t=ZQ,e){const i=YQ(n.subscribe,n.getState,n.getInitialState,t,e);return $g.useDebugValue(i),i}const S3=(n,t)=>{const e=eB(n),i=(s,r=t)=>KQ(e,s,r);return Object.assign(i,e),i},QQ=(n,t)=>n?S3(n,t):S3;var eM={exports:{}},nM={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3;function $Q(){return b3||(b3=1,function(n){n.exports=function(t){function e(u,f,y,b){return new Tv(u,f,y,b)}function i(){}function s(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return u===null||typeof u!="object"?null:(u=Dn&&u[Dn]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===bi?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case Xo:return"Fragment";case dr:return"Portal";case qo:return"Profiler";case Il:return"StrictMode";case Yr:return"Suspense";case pf:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Wo:return(u.displayName||"Context")+".Provider";case hm:return(u._context.displayName||"Context")+".Consumer";case Kh:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Fc:return f=u.displayName||null,f!==null?f:o(u.type)||"Memo";case Zr:f=u._payload,u=u._init;try{return o(u(f))}catch{}}return null}function c(u){if(Yo===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);Yo=f&&f[1]||"",Zo=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yo+u+Zo}function h(u,f){if(!u||Hc)return"";Hc=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(je){var Wt=je}Reflect.construct(u,[],re)}else{try{re.call()}catch(je){Wt=je}u.call(re.prototype)}}else{try{throw Error()}catch(je){Wt=je}(re=u())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(je){if(je&&Wt&&typeof je.stack=="string")return[je.stack,Wt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),j=N[0],tt=N[1];if(j&&tt){var pt=j.split(`
`),Nt=tt.split(`
`);for(w=b=0;b<pt.length&&!pt[b].includes("DetermineComponentFrameRoot");)b++;for(;w<Nt.length&&!Nt[w].includes("DetermineComponentFrameRoot");)w++;if(b===pt.length||w===Nt.length)for(b=pt.length-1,w=Nt.length-1;1<=b&&0<=w&&pt[b]!==Nt[w];)w--;for(;1<=b&&0<=w;b--,w--)if(pt[b]!==Nt[w]){if(b!==1||w!==1)do if(b--,w--,0>w||pt[b]!==Nt[w]){var Zt=`
`+pt[b].replace(" at new "," at ");return u.displayName&&Zt.includes("<anonymous>")&&(Zt=Zt.replace("<anonymous>",u.displayName)),Zt}while(1<=b&&0<=w);break}}}finally{Hc=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?c(y):""}function p(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=h(u.type,!1),u;case 11:return u=h(u.type.render,!1),u;case 1:return u=h(u.type,!0),u;default:return""}}function m(u){try{var f="";do f+=p(u),u=u.return;while(u);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function x(u){if(v(u)!==u)throw Error(s(188))}function _(u){var f=u.alternate;if(!f){if(f=v(u),f===null)throw Error(s(188));return f!==u?null:u}for(var y=u,b=f;;){var w=y.return;if(w===null)break;var N=w.alternate;if(N===null){if(b=w.return,b!==null){y=b;continue}break}if(w.child===N.child){for(N=w.child;N;){if(N===y)return x(w),u;if(N===b)return x(w),f;N=N.sibling}throw Error(s(188))}if(y.return!==b.return)y=w,b=N;else{for(var j=!1,tt=w.child;tt;){if(tt===y){j=!0,y=w,b=N;break}if(tt===b){j=!0,b=w,y=N;break}tt=tt.sibling}if(!j){for(tt=N.child;tt;){if(tt===y){j=!0,y=N,b=w;break}if(tt===b){j=!0,b=N,y=w;break}tt=tt.sibling}if(!j)throw Error(s(189))}}if(y.alternate!==b)throw Error(s(190))}if(y.tag!==3)throw Error(s(188));return y.stateNode.current===y?u:f}function T(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=T(u),f!==null)return f;u=u.sibling}return null}function C(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(f=C(u),f!==null))return f;u=u.sibling}return null}function E(u){return{current:u}}function M(u){0>Jo||(u.current=cd[Jo],cd[Jo]=null,Jo--)}function R(u,f){Jo++,cd[Jo]=u.current,u.current=f}function D(u){return u>>>=0,u===0?32:31-(zm(u)/sS|0)|0}function L(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function B(u,f){var y=u.pendingLanes;if(y===0)return 0;var b=0,w=u.suspendedLanes,N=u.pingedLanes,j=u.warmLanes;u=u.finishedLanes!==0;var tt=y&134217727;return tt!==0?(y=tt&~w,y!==0?b=L(y):(N&=tt,N!==0?b=L(N):u||(j=tt&~j,j!==0&&(b=L(j))))):(tt=y&~w,tt!==0?b=L(tt):N!==0?b=L(N):u||(j=y&~j,j!==0&&(b=L(j)))),b===0?0:f!==0&&f!==b&&!(f&w)&&(w=b&-b,j=f&-f,w>=j||w===32&&(j&4194176)!==0)?f:b}function P(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function I(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var u=yf;return yf<<=1,!(yf&4194176)&&(yf=128),u}function U(){var u=qc;return qc<<=1,!(qc&62914560)&&(qc=4194304),u}function z(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function X(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function dt(u,f,y,b,w,N){var j=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var tt=u.entanglements,pt=u.expirationTimes,Nt=u.hiddenUpdates;for(y=j&~y;0<y;){var Zt=31-ui(y),re=1<<Zt;tt[Zt]=0,pt[Zt]=-1;var Wt=Nt[Zt];if(Wt!==null)for(Nt[Zt]=null,Zt=0;Zt<Wt.length;Zt++){var je=Wt[Zt];je!==null&&(je.lane&=-536870913)}y&=~re}b!==0&&st(u,b,0),N!==0&&w===0&&u.tag!==0&&(u.suspendedLanes|=N&~(j&~f))}function st(u,f,y){u.pendingLanes|=f,u.suspendedLanes&=~f;var b=31-ui(f);u.entangledLanes|=f,u.entanglements[b]=u.entanglements[b]|1073741824|y&4194218}function at(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var b=31-ui(y),w=1<<b;w&f|u[b]&f&&(u[b]|=f),y&=~w}}function mt(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function W(u){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(Yc,u,void 0,(u.current.flags&128)===128)}catch{}}function et(u){if(typeof cs=="function"&&fd(u),Mi&&typeof Mi.setStrictMode=="function")try{Mi.setStrictMode(Yc,u)}catch{}}function Q(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}function vt(u,f){if(typeof u=="object"&&u!==null){var y=hd.get(u);return y!==void 0?y:(f={value:u,source:f,stack:m(f)},hd.set(u,f),f)}return{value:u,source:f,stack:m(f)}}function G(u,f){oa[la++]=Zc,oa[la++]=el,el=u,Zc=f}function nt(u,f,y){Hs[us++]=vr,Hs[us++]=yr,Hs[us++]=$a,$a=u;var b=vr;u=yr;var w=32-ui(b)-1;b&=~(1<<w),y+=1;var N=32-ui(f)+w;if(30<N){var j=w-w%5;N=(b&(1<<j)-1).toString(32),b>>=j,w-=j,vr=1<<32-ui(f)+w|y<<w|b,yr=N+u}else vr=1<<N|y<<w|b,yr=u}function Et(u){u.return!==null&&(G(u,1),nt(u,1,0))}function Ot(u){for(;u===el;)el=oa[--la],oa[la]=null,Zc=oa[--la],oa[la]=null;for(;u===$a;)$a=Hs[--us],Hs[us]=null,yr=Hs[--us],Hs[us]=null,vr=Hs[--us],Hs[us]=null}function it(u,f){R(to,f),R(Aa,u),R(fi,null),u=dm(f),M(fi),R(fi,u)}function Tt(){M(fi),M(Aa),M(to)}function Ut(u){u.memoizedState!==null&&R(_f,u);var f=fi.current,y=Ev(f,u.type);f!==y&&(R(Aa,u),R(fi,y))}function It(u){Aa.current===u&&(M(fi),M(Aa)),_f.current===u&&(M(_f),Za?Qr._currentValue=Hl:Qr._currentValue2=Hl)}function kt(u){var f=Error(s(418,""));throw Rt(vt(f,u)),Sf}function ye(u,f){if(!Fs)throw Error(s(175));jl(u.stateNode,u.type,u.memoizedProps,f,u)||kt(u)}function qt(u){for(hi=u.return;hi;)switch(hi.tag){case 3:case 27:Ja=!0;return;case 5:case 13:Ja=!1;return;default:hi=hi.return}}function le(u){if(!Fs||u!==hi)return!1;if(!yn)return qt(u),yn=!0,!1;var f=!1;if(Fi?u.tag!==3&&u.tag!==27&&(u.tag!==5||Am(u.type)&&!Ki(u.type,u.memoizedProps))&&(f=!0):u.tag!==3&&(u.tag!==5||Am(u.type)&&!Ki(u.type,u.memoizedProps))&&(f=!0),f&&Un&&kt(u),qt(u),u.tag===13){if(!Fs)throw Error(s(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));Un=iy(u)}else Un=hi?$o(u.stateNode):null;return!0}function Pt(){Fs&&(Un=hi=null,yn=!1)}function Rt(u){wa===null?wa=[u]:wa.push(u)}function Y(){for(var u=eo,f=tr=eo=0;f<u;){var y=Gs[f];Gs[f++]=null;var b=Gs[f];Gs[f++]=null;var w=Gs[f];Gs[f++]=null;var N=Gs[f];if(Gs[f++]=null,b!==null&&w!==null){var j=b.pending;j===null?w.next=w:(w.next=j.next,j.next=w),b.pending=w}N!==0&&Kt(y,w,N)}}function ue(u,f,y,b){Gs[eo++]=u,Gs[eo++]=f,Gs[eo++]=y,Gs[eo++]=b,tr|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function Ht(u,f,y,b){return ue(u,f,y,b),Se(u)}function $t(u,f){return ue(u,null,null,f),Se(u)}function Kt(u,f,y){u.lanes|=y;var b=u.alternate;b!==null&&(b.lanes|=y);for(var w=!1,N=u.return;N!==null;)N.childLanes|=y,b=N.alternate,b!==null&&(b.childLanes|=y),N.tag===22&&(u=N.stateNode,u===null||u._visibility&1||(w=!0)),u=N,N=N.return;w&&f!==null&&u.tag===3&&(N=u.stateNode,w=31-ui(y),N=N.hiddenUpdates,u=N[w],u===null?N[w]=[f]:u.push(f),f.lane=y|536870912)}function Se(u){if(50<$l)throw $l=0,Hm=null,Error(s(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}function Qt(u){u!==nl&&u.next===null&&(nl===null?Wn=nl=u:nl=nl.next=u),di=!0,dd||(dd=!0,Dt(F))}function q(u,f){if(!pd&&di){pd=!0;do for(var y=!1,b=Wn;b!==null;){if(u!==0){var w=b.pendingLanes;if(w===0)var N=0;else{var j=b.suspendedLanes,tt=b.pingedLanes;N=(1<<31-ui(42|u)+1)-1,N&=w&~(j&~tt),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(y=!0,Ft(b,N))}else N=on,N=B(b,b===Pn?N:0),!(N&3)||P(b,N)||(y=!0,Ft(b,N));b=b.next}while(y);pd=!1}}function F(){di=dd=!1;var u=0;Kc!==0&&(Rv()&&(u=Kc),Kc=0);for(var f=ra(),y=null,b=Wn;b!==null;){var w=b.next,N=yt(b,f);N===0?(b.next=null,y===null?Wn=w:y.next=w,w===null&&(nl=y)):(y=b,(u!==0||N&3)&&(di=!0)),b=w}q(u)}function yt(u,f){for(var y=u.suspendedLanes,b=u.pingedLanes,w=u.expirationTimes,N=u.pendingLanes&-62914561;0<N;){var j=31-ui(N),tt=1<<j,pt=w[j];pt===-1?(!(tt&y)||tt&b)&&(w[j]=I(tt,f)):pt<=f&&(u.expiredLanes|=tt),N&=~tt}if(f=Pn,y=on,y=B(u,u===f?y:0),b=u.callbackNode,y===0||u===f&&Nn===2||u.cancelPendingCommit!==null)return b!==null&&b!==null&&Qa(b),u.callbackNode=null,u.callbackPriority=0;if(!(y&3)||P(u,y)){if(f=y&-y,f===u.callbackPriority)return f;switch(b!==null&&Qa(b),mt(y)){case 2:case 8:y=xf;break;case 32:y=Wc;break;case 268435456:y=ql;break;default:y=Wc}return b=wt.bind(null,u),y=gr(y,b),u.callbackPriority=f,u.callbackNode=y,f}return b!==null&&b!==null&&Qa(b),u.callbackPriority=2,u.callbackNode=null,2}function wt(u,f){var y=u.callbackNode;if(Ho()&&u.callbackNode!==y)return null;var b=on;return b=B(u,u===Pn?b:0),b===0?null:(ia(u,b,f),yt(u,ra()),u.callbackNode!=null&&u.callbackNode===y?wt.bind(null,u):null)}function Ft(u,f){if(Ho())return null;ia(u,f,!0)}function Dt(u){Uv?Ov(function(){rn&6?gr(ud,u):u()}):gr(ud,u)}function ce(){return Kc===0&&(Kc=V()),Kc}function ee(u,f){if(Qc===null){var y=Qc=[];md=0,Yn=ce(),Hi={status:"pending",value:void 0,then:function(b){y.push(b)}}}return md++,f.then(he,he),f}function he(){if(--md===0&&Qc!==null){Hi!==null&&(Hi.status="fulfilled");var u=Qc;Qc=null,Yn=0,Hi=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function Ze(u,f){var y=[],b={status:"pending",value:null,reason:null,then:function(w){y.push(w)}};return u.then(function(){b.status="fulfilled",b.value=f;for(var w=0;w<y.length;w++)(0,y[w])(f)},function(w){for(b.status="rejected",b.reason=w,w=0;w<y.length;w++)(0,y[w])(void 0)}),b}function Yt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pe(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function xe(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ve(u,f,y){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,rn&2){var w=b.pending;return w===null?f.next=f:(f.next=w.next,w.next=f),b.pending=f,f=Se(u),Kt(u,null,y),f}return ue(u,b,f,y),Se(u)}function de(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var b=f.lanes;b&=u.pendingLanes,y|=b,f.lanes=y,at(u,y)}}function He(u,f){var y=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,y===b)){var w=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var j={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};N===null?w=N=j:N=N.next=j,y=y.next}while(y!==null);N===null?w=N=f:N=N.next=f}else w=N=f;y={baseState:b.baseState,firstBaseUpdate:w,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}function Me(){if(gd){var u=Hi;if(u!==null)throw u}}function Sn(u,f,y,b){gd=!1;var w=u.updateQueue;fs=!1;var N=w.firstBaseUpdate,j=w.lastBaseUpdate,tt=w.shared.pending;if(tt!==null){w.shared.pending=null;var pt=tt,Nt=pt.next;pt.next=null,j===null?N=Nt:j.next=Nt,j=pt;var Zt=u.alternate;Zt!==null&&(Zt=Zt.updateQueue,tt=Zt.lastBaseUpdate,tt!==j&&(tt===null?Zt.firstBaseUpdate=Nt:tt.next=Nt,Zt.lastBaseUpdate=pt))}if(N!==null){var re=w.baseState;j=0,Zt=Nt=pt=null,tt=N;do{var Wt=tt.lane&-536870913,je=Wt!==tt.lane;if(je?(on&Wt)===Wt:(b&Wt)===Wt){Wt!==0&&Wt===Yn&&(gd=!0),Zt!==null&&(Zt=Zt.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});t:{var Pa=u,iu=tt;Wt=f;var Jl=y;switch(iu.tag){case 1:if(Pa=iu.payload,typeof Pa=="function"){re=Pa.call(Jl,re,Wt);break t}re=Pa;break t;case 3:Pa.flags=Pa.flags&-65537|128;case 0:if(Pa=iu.payload,Wt=typeof Pa=="function"?Pa.call(Jl,re,Wt):Pa,Wt==null)break t;re=li({},re,Wt);break t;case 2:fs=!0}}Wt=tt.callback,Wt!==null&&(u.flags|=64,je&&(u.flags|=8192),je=w.callbacks,je===null?w.callbacks=[Wt]:je.push(Wt))}else je={lane:Wt,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Zt===null?(Nt=Zt=je,pt=re):Zt=Zt.next=je,j|=Wt;if(tt=tt.next,tt===null){if(tt=w.shared.pending,tt===null)break;je=tt,tt=je.next,je.next=null,w.lastBaseUpdate=je,w.shared.pending=null}}while(!0);Zt===null&&(pt=re),w.baseState=pt,w.firstBaseUpdate=Nt,w.lastBaseUpdate=Zt,N===null&&(w.shared.lanes=0),Ua|=j,u.lanes=j,u.memoizedState=re}}function lt(u,f){if(typeof u!="function")throw Error(s(191,u));u.call(f)}function ie(u,f){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)lt(y[u],f)}function At(u,f){if(As(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),b=Object.keys(f);if(y.length!==b.length)return!1;for(b=0;b<y.length;b++){var w=y[b];if(!fy.call(f,w)||!As(u[w],f[w]))return!1}return!0}function zt(u){return u=u.status,u==="fulfilled"||u==="rejected"}function te(){}function ne(u,f,y){switch(y=u[y],y===void 0?u.push(f):y!==f&&(f.then(te,te),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===bf?Error(s(483)):u;default:if(typeof f.status=="string")f.then(te,te);else{if(u=Pn,u!==null&&100<u.shellSuspendCounter)throw Error(s(482));u=f,u.status="pending",u.then(function(b){if(f.status==="pending"){var w=f;w.status="fulfilled",w.value=b}},function(b){if(f.status==="pending"){var w=f;w.status="rejected",w.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===bf?Error(s(483)):u}throw hs=f,bf}}function Le(){if(hs===null)throw Error(s(459));var u=hs;return hs=null,u}function Bn(u){var f=ds;return ds+=1,Wl===null&&(Wl=[]),ne(Wl,u,f)}function ti(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function dn(u,f){throw f.$$typeof===fm?Error(s(525)):(u=Object.prototype.toString.call(f),Error(s(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function is(u){var f=u._init;return f(u._payload)}function ss(u){function f(St,ft){if(u){var Mt=St.deletions;Mt===null?(St.deletions=[ft],St.flags|=16):Mt.push(ft)}}function y(St,ft){if(!u)return null;for(;ft!==null;)f(St,ft),ft=ft.sibling;return null}function b(St){for(var ft=new Map;St!==null;)St.key!==null?ft.set(St.key,St):ft.set(St.index,St),St=St.sibling;return ft}function w(St,ft){return St=Xr(St,ft),St.index=0,St.sibling=null,St}function N(St,ft,Mt){return St.index=Mt,u?(Mt=St.alternate,Mt!==null?(Mt=Mt.index,Mt<ft?(St.flags|=33554434,ft):Mt):(St.flags|=33554434,ft)):(St.flags|=1048576,ft)}function j(St){return u&&St.alternate===null&&(St.flags|=33554434),St}function tt(St,ft,Mt,Xt){return ft===null||ft.tag!==6?(ft=df(Mt,St.mode,Xt),ft.return=St,ft):(ft=w(ft,Mt),ft.return=St,ft)}function pt(St,ft,Mt,Xt){var Te=Mt.type;return Te===Xo?Zt(St,ft,Mt.props.children,Xt,Mt.key):ft!==null&&(ft.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Zr&&is(Te)===ft.type)?(ft=w(ft,Mt.props),ti(ft,Mt),ft.return=St,ft):(ft=Vl(Mt.type,Mt.key,Mt.props,null,St.mode,Xt),ti(ft,Mt),ft.return=St,ft)}function Nt(St,ft,Mt,Xt){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==Mt.containerInfo||ft.stateNode.implementation!==Mt.implementation?(ft=Is(Mt,St.mode,Xt),ft.return=St,ft):(ft=w(ft,Mt.children||[]),ft.return=St,ft)}function Zt(St,ft,Mt,Xt,Te){return ft===null||ft.tag!==7?(ft=ko(Mt,St.mode,Xt,Te),ft.return=St,ft):(ft=w(ft,Mt),ft.return=St,ft)}function re(St,ft,Mt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ft=df(""+ft,St.mode,Mt),ft.return=St,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case jo:return Mt=Vl(ft.type,ft.key,ft.props,null,St.mode,Mt),ti(Mt,ft),Mt.return=St,Mt;case dr:return ft=Is(ft,St.mode,Mt),ft.return=St,ft;case Zr:var Xt=ft._init;return ft=Xt(ft._payload),re(St,ft,Mt)}if(Ko(ft)||r(ft))return ft=ko(ft,St.mode,Mt,null),ft.return=St,ft;if(typeof ft.then=="function")return re(St,Bn(ft),Mt);if(ft.$$typeof===Wo)return re(St,Ku(St,ft),Mt);dn(St,ft)}return null}function Wt(St,ft,Mt,Xt){var Te=ft!==null?ft.key:null;if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return Te!==null?null:tt(St,ft,""+Mt,Xt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case jo:return Mt.key===Te?pt(St,ft,Mt,Xt):null;case dr:return Mt.key===Te?Nt(St,ft,Mt,Xt):null;case Zr:return Te=Mt._init,Mt=Te(Mt._payload),Wt(St,ft,Mt,Xt)}if(Ko(Mt)||r(Mt))return Te!==null?null:Zt(St,ft,Mt,Xt,null);if(typeof Mt.then=="function")return Wt(St,ft,Bn(Mt),Xt);if(Mt.$$typeof===Wo)return Wt(St,ft,Ku(St,Mt),Xt);dn(St,Mt)}return null}function je(St,ft,Mt,Xt,Te){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number"||typeof Xt=="bigint")return St=St.get(Mt)||null,tt(ft,St,""+Xt,Te);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case jo:return St=St.get(Xt.key===null?Mt:Xt.key)||null,pt(ft,St,Xt,Te);case dr:return St=St.get(Xt.key===null?Mt:Xt.key)||null,Nt(ft,St,Xt,Te);case Zr:var zn=Xt._init;return Xt=zn(Xt._payload),je(St,ft,Mt,Xt,Te)}if(Ko(Xt)||r(Xt))return St=St.get(Mt)||null,Zt(ft,St,Xt,Te,null);if(typeof Xt.then=="function")return je(St,ft,Mt,Bn(Xt),Te);if(Xt.$$typeof===Wo)return je(St,ft,Mt,Ku(ft,Xt),Te);dn(ft,Xt)}return null}function Pa(St,ft,Mt,Xt){for(var Te=null,zn=null,Ne=ft,sn=ft=0,In=null;Ne!==null&&sn<Mt.length;sn++){Ne.index>sn?(In=Ne,Ne=null):In=Ne.sibling;var fn=Wt(St,Ne,Mt[sn],Xt);if(fn===null){Ne===null&&(Ne=In);break}u&&Ne&&fn.alternate===null&&f(St,Ne),ft=N(fn,ft,sn),zn===null?Te=fn:zn.sibling=fn,zn=fn,Ne=In}if(sn===Mt.length)return y(St,Ne),yn&&G(St,sn),Te;if(Ne===null){for(;sn<Mt.length;sn++)Ne=re(St,Mt[sn],Xt),Ne!==null&&(ft=N(Ne,ft,sn),zn===null?Te=Ne:zn.sibling=Ne,zn=Ne);return yn&&G(St,sn),Te}for(Ne=b(Ne);sn<Mt.length;sn++)In=je(Ne,St,sn,Mt[sn],Xt),In!==null&&(u&&In.alternate!==null&&Ne.delete(In.key===null?sn:In.key),ft=N(In,ft,sn),zn===null?Te=In:zn.sibling=In,zn=In);return u&&Ne.forEach(function(fl){return f(St,fl)}),yn&&G(St,sn),Te}function iu(St,ft,Mt,Xt){if(Mt==null)throw Error(s(151));for(var Te=null,zn=null,Ne=ft,sn=ft=0,In=null,fn=Mt.next();Ne!==null&&!fn.done;sn++,fn=Mt.next()){Ne.index>sn?(In=Ne,Ne=null):In=Ne.sibling;var fl=Wt(St,Ne,fn.value,Xt);if(fl===null){Ne===null&&(Ne=In);break}u&&Ne&&fl.alternate===null&&f(St,Ne),ft=N(fl,ft,sn),zn===null?Te=fl:zn.sibling=fl,zn=fl,Ne=In}if(fn.done)return y(St,Ne),yn&&G(St,sn),Te;if(Ne===null){for(;!fn.done;sn++,fn=Mt.next())fn=re(St,fn.value,Xt),fn!==null&&(ft=N(fn,ft,sn),zn===null?Te=fn:zn.sibling=fn,zn=fn);return yn&&G(St,sn),Te}for(Ne=b(Ne);!fn.done;sn++,fn=Mt.next())fn=je(Ne,St,sn,fn.value,Xt),fn!==null&&(u&&fn.alternate!==null&&Ne.delete(fn.key===null?sn:fn.key),ft=N(fn,ft,sn),zn===null?Te=fn:zn.sibling=fn,zn=fn);return u&&Ne.forEach(function(dy){return f(St,dy)}),yn&&G(St,sn),Te}function Jl(St,ft,Mt,Xt){if(typeof Mt=="object"&&Mt!==null&&Mt.type===Xo&&Mt.key===null&&(Mt=Mt.props.children),typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case jo:t:{for(var Te=Mt.key;ft!==null;){if(ft.key===Te){if(Te=Mt.type,Te===Xo){if(ft.tag===7){y(St,ft.sibling),Xt=w(ft,Mt.props.children),Xt.return=St,St=Xt;break t}}else if(ft.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Zr&&is(Te)===ft.type){y(St,ft.sibling),Xt=w(ft,Mt.props),ti(Xt,Mt),Xt.return=St,St=Xt;break t}y(St,ft);break}else f(St,ft);ft=ft.sibling}Mt.type===Xo?(Xt=ko(Mt.props.children,St.mode,Xt,Mt.key),Xt.return=St,St=Xt):(Xt=Vl(Mt.type,Mt.key,Mt.props,null,St.mode,Xt),ti(Xt,Mt),Xt.return=St,St=Xt)}return j(St);case dr:t:{for(Te=Mt.key;ft!==null;){if(ft.key===Te)if(ft.tag===4&&ft.stateNode.containerInfo===Mt.containerInfo&&ft.stateNode.implementation===Mt.implementation){y(St,ft.sibling),Xt=w(ft,Mt.children||[]),Xt.return=St,St=Xt;break t}else{y(St,ft);break}else f(St,ft);ft=ft.sibling}Xt=Is(Mt,St.mode,Xt),Xt.return=St,St=Xt}return j(St);case Zr:return Te=Mt._init,Mt=Te(Mt._payload),Jl(St,ft,Mt,Xt)}if(Ko(Mt))return Pa(St,ft,Mt,Xt);if(r(Mt)){if(Te=r(Mt),typeof Te!="function")throw Error(s(150));return Mt=Te.call(Mt),iu(St,ft,Mt,Xt)}if(typeof Mt.then=="function")return Jl(St,ft,Bn(Mt),Xt);if(Mt.$$typeof===Wo)return Jl(St,ft,Ku(St,Mt),Xt);dn(St,Mt)}return typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint"?(Mt=""+Mt,ft!==null&&ft.tag===6?(y(St,ft.sibling),Xt=w(ft,Mt),Xt.return=St,St=Xt):(y(St,ft),Xt=df(Mt,St.mode,Xt),Xt.return=St,St=Xt),j(St)):y(St,ft)}return function(St,ft,Mt,Xt){try{ds=0;var Te=Jl(St,ft,Mt,Xt);return Wl=null,Te}catch(Ne){if(Ne===bf)throw Ne;var zn=e(29,Ne,null,St.mode);return zn.lanes=Xt,zn.return=St,zn}finally{}}}function Vu(u,f){u=sr,R(nr,u),R(er,f),sr=u|f.baseLanes}function Al(){R(nr,sr),R(er,er.current)}function Sa(){sr=nr.current,M(er),M(nr)}function ea(u){var f=u.alternate;R(jn,jn.current&1),R(ks,u),Ca===null&&(f===null||er.current!==null||f.memoizedState!==null)&&(Ca=u)}function bc(u){if(u.tag===22){if(R(jn,jn.current),R(ks,u),Ca===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Ca=u)}}else ja()}function ja(){R(jn,jn.current),R(ks,ks.current)}function oi(u){M(ks),Ca===u&&(Ca=null),M(jn)}function ni(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Gl(y)||vf(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Ke(){throw Error(s(321))}function Xa(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!As(u[y],f[y]))return!1;return!0}function Ro(u,f,y,b,w,N){return no=N,Ge=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Pe.H=u===null||u.memoizedState===null?ao:Cs,sl=!1,N=y(b,w),sl=!1,Yl&&(N=wh(f,y,b,w)),Ah(u),N}function Ah(u){Pe.H=pi;var f=bn!==null&&bn.next!==null;if(no=0,$n=bn=Ge=null,io=!1,$c=0,so=null,f)throw Error(s(300));u===null||Ti||(u=u.dependencies,u!==null&&Zu(u)&&(Ti=!0))}function wh(u,f,y,b){Ge=u;var w=0;do{if(Yl&&(so=null),$c=0,Yl=!1,25<=w)throw Error(s(301));if(w+=1,$n=bn=null,u.updateQueue!=null){var N=u.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Pe.H=rl,N=f(y,b)}while(Yl);return N}function Ch(){var u=Pe.H,f=u.useState()[0];return f=typeof f.then=="function"?_t(f):f,u=u.useState()[0],(bn!==null?bn.memoizedState:null)!==u&&(Ge.flags|=1024),f}function Lr(){var u=al!==0;return al=0,u}function wl(u,f,y){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~y}function qa(u){if(io){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}io=!1}no=0,$n=bn=Ge=null,Yl=!1,$c=al=0,so=null}function H(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Ge.memoizedState=$n=u:$n=$n.next=u,$n}function rt(){if(bn===null){var u=Ge.alternate;u=u!==null?u.memoizedState:null}else u=bn.next;var f=$n===null?Ge.memoizedState:$n.next;if(f!==null)$n=f,bn=u;else{if(u===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));bn=u,u={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},$n===null?Ge.memoizedState=$n=u:$n=$n.next=u}return $n}function _t(u){var f=$c;return $c+=1,so===null&&(so=[]),u=ne(so,u,f),f=Ge,($n===null?f.memoizedState:$n.next)===null&&(f=f.alternate,Pe.H=f===null||f.memoizedState===null?ao:Cs),u}function gt(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return _t(u);if(u.$$typeof===Wo)return Yi(u)}throw Error(s(438,String(u)))}function ut(u){var f=null,y=Ge.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var b=Ge.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(w){return w.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=Bm(),Ge.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(u),b=0;b<u;b++)y[b]=Qe;return f.index++,y}function Gt(u,f){return typeof f=="function"?f(u):f}function Jt(u){var f=rt();return ae(f,bn,u)}function ae(u,f,y){var b=u.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=y;var w=u.baseQueue,N=b.pending;if(N!==null){if(w!==null){var j=w.next;w.next=N.next,N.next=j}f.baseQueue=w=N,b.pending=null}if(N=u.baseState,w===null)u.memoizedState=N;else{f=w.next;var tt=j=null,pt=null,Nt=f,Zt=!1;do{var re=Nt.lane&-536870913;if(re!==Nt.lane?(on&re)===re:(no&re)===re){var Wt=Nt.revertLane;if(Wt===0)pt!==null&&(pt=pt.next={lane:0,revertLane:0,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null}),re===Yn&&(Zt=!0);else if((no&Wt)===Wt){Nt=Nt.next,Wt===Yn&&(Zt=!0);continue}else re={lane:0,revertLane:Nt.revertLane,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},pt===null?(tt=pt=re,j=N):pt=pt.next=re,Ge.lanes|=Wt,Ua|=Wt;re=Nt.action,sl&&y(N,re),N=Nt.hasEagerState?Nt.eagerState:y(N,re)}else Wt={lane:re,revertLane:Nt.revertLane,action:Nt.action,hasEagerState:Nt.hasEagerState,eagerState:Nt.eagerState,next:null},pt===null?(tt=pt=Wt,j=N):pt=pt.next=Wt,Ge.lanes|=re,Ua|=re;Nt=Nt.next}while(Nt!==null&&Nt!==f);if(pt===null?j=N:pt.next=tt,!As(N,u.memoizedState)&&(Ti=!0,Zt&&(y=Hi,y!==null)))throw y;u.memoizedState=N,u.baseState=j,u.baseQueue=pt,b.lastRenderedState=N}return w===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function se(u){var f=rt(),y=f.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=u;var b=y.dispatch,w=y.pending,N=f.memoizedState;if(w!==null){y.pending=null;var j=w=w.next;do N=u(N,j.action),j=j.next;while(j!==w);As(N,f.memoizedState)||(Ti=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),y.lastRenderedState=N}return[N,b]}function Ue(u,f,y){var b=Ge,w=rt(),N=yn;if(N){if(y===void 0)throw Error(s(407));y=y()}else y=f();var j=!As((bn||w).memoizedState,y);if(j&&(w.memoizedState=y,Ti=!0),w=w.queue,Fu(ln.bind(null,b,w,u),[u]),w.getSnapshot!==f||j||$n!==null&&$n.memoizedState.tag&1){if(b.flags|=2048,Wa(9,Ae.bind(null,b,w,y,f),{destroy:void 0},null),Pn===null)throw Error(s(349));N||no&60||Oe(b,f,y)}return y}function Oe(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=Ge.updateQueue,f===null?(f=Bm(),Ge.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function Ae(u,f,y,b){f.value=y,f.getSnapshot=b,cn(f)&&Gn(u)}function ln(u,f,y){return y(function(){cn(f)&&Gn(u)})}function cn(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!As(u,y)}catch{return!0}}function Gn(u){var f=$t(u,2);f!==null&&kn(f,u,2)}function mn(u){var f=H();if(typeof u=="function"){var y=u;if(u=y(),sl){et(!0);try{y()}finally{et(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gt,lastRenderedState:u},f}function Ie(u,f,y,b){return u.baseState=y,ae(u,bn,typeof b=="function"?b:Gt)}function Ce(u,f,y,b,w){if(ju(u))throw Error(s(485));if(u=f.action,u!==null){var N={payload:w,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){N.listeners.push(j)}};Pe.T!==null?y(!0):N.isTransition=!1,b(N),y=f.pending,y===null?(N.next=f.pending=N,xi(f,N)):(N.next=y.next,f.pending=y.next=N)}}function xi(u,f){var y=f.action,b=f.payload,w=u.state;if(f.isTransition){var N=Pe.T,j={};Pe.T=j;try{var tt=y(w,b),pt=Pe.S;pt!==null&&pt(j,tt),un(u,f,tt)}catch(Nt){na(u,f,Nt)}finally{Pe.T=N}}else try{N=y(w,b),un(u,f,N)}catch(Nt){na(u,f,Nt)}}function un(u,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(b){Ss(u,f,b)},function(b){return na(u,f,b)}):Ss(u,f,y)}function Ss(u,f,y){f.status="fulfilled",f.value=y,as(f),u.state=y,f=u.pending,f!==null&&(y=f.next,y===f?u.pending=null:(y=y.next,f.next=y,xi(u,y)))}function na(u,f,y){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=y,as(f),f=f.next;while(f!==b)}u.action=null}function as(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function Li(u,f){return f}function Rn(u,f){if(yn){var y=Pn.formState;if(y!==null){t:{var b=Ge;if(yn){if(Un){var w=Jv(Un,Ja);if(w){Un=$o(w),b=mr(w);break t}}kt(b)}b=!1}b&&(f=y[0])}}y=H(),y.memoizedState=y.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:f},y.queue=b,y=jp.bind(null,Ge,b),b.dispatch=y,b=mn(!1);var N=Ec.bind(null,Ge,!1,b.queue);return b=H(),w={state:f,dispatch:null,action:u,pending:null},b.queue=w,y=Ce.bind(null,Ge,w,N,y),w.dispatch=y,b.memoizedState=u,[f,y,!1]}function rs(u){var f=rt();return qi(f,bn,u)}function qi(u,f,y){f=ae(u,f,Li)[0],u=Jt(Gt)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?_t(f):f;var b=rt(),w=b.queue,N=w.dispatch;return y!==b.memoizedState&&(Ge.flags|=2048,Wa(9,ii.bind(null,w,y),{destroy:void 0},null)),[f,N,u]}function ii(u,f){u.action=f}function Vi(u){var f=rt(),y=bn;if(y!==null)return qi(f,y,u);rt(),f=f.memoizedState,y=rt();var b=y.queue.dispatch;return y.memoizedState=u,[f,b,!1]}function Wa(u,f,y,b){return u={tag:u,create:f,inst:y,deps:b,next:null},f=Ge.updateQueue,f===null&&(f=Bm(),Ge.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=u.next=u:(b=y.next,y.next=u,u.next=b,f.lastEffect=u),u}function bs(){return rt().memoizedState}function Rh(u,f,y,b){var w=H();Ge.flags|=u,w.memoizedState=Wa(1|f,y,{destroy:void 0},b===void 0?null:b)}function Iu(u,f,y,b){var w=rt();b=b===void 0?null:b;var N=w.memoizedState.inst;bn!==null&&b!==null&&Xa(b,bn.memoizedState.deps)?w.memoizedState=Wa(f,y,N,b):(Ge.flags|=u,w.memoizedState=Wa(1|f,y,N,b))}function Hp(u,f){Rh(8390656,8,u,f)}function Fu(u,f){Iu(2048,8,u,f)}function ev(u,f){return Iu(4,2,u,f)}function nv(u,f){return Iu(4,4,u,f)}function Hu(u,f){if(typeof f=="function"){u=u();var y=f(u);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Dh(u,f,y){y=y!=null?y.concat([u]):null,Iu(4,4,Hu.bind(null,f,u),y)}function Gu(){}function Cl(u,f){var y=rt();f=f===void 0?null:f;var b=y.memoizedState;return f!==null&&Xa(f,b[1])?b[0]:(y.memoizedState=[u,f],u)}function Rl(u,f){var y=rt();f=f===void 0?null:f;var b=y.memoizedState;if(f!==null&&Xa(f,b[1]))return b[0];if(b=u(),sl){et(!0);try{u()}finally{et(!1)}}return y.memoizedState=[b,f],b}function Nh(u,f,y){return y===void 0||no&1073741824?u.memoizedState=f:(u.memoizedState=y,u=rf(),Ge.lanes|=u,Ua|=u,y)}function Lh(u,f,y,b){return As(y,f)?y:er.current!==null?(u=Nh(u,y,b),As(u,f)||(Ti=!0),u):no&42?(u=rf(),Ge.lanes|=u,Ua|=u,f):(Ti=!0,u.memoizedState=y)}function Gp(u,f,y,b,w){var N=Qo();Es(N!==0&&8>N?N:8);var j=Pe.T,tt={};Pe.T=tt,Ec(u,!1,f,y);try{var pt=w(),Nt=Pe.S;if(Nt!==null&&Nt(tt,pt),pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var Zt=Ze(pt,b);Do(u,f,Zt,os(u))}else Do(u,f,b,os(u))}catch(re){Do(u,f,{then:function(){},status:"rejected",reason:re},os())}finally{Es(N),Pe.T=j}}function Mc(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:Hl,baseState:Hl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gt,lastRenderedState:Hl},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gt,lastRenderedState:y},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function ku(){return Yi(Qr)}function Tc(){return rt().memoizedState}function Ur(){return rt().memoizedState}function kp(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var y=os();u=xe(y);var b=ve(f,u,y);b!==null&&(kn(b,f,y),de(b,f,y)),f={cache:Oo()},u.payload=f;return}f=f.return}}function Uh(u,f,y){var b=os();y={lane:b,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},ju(u)?Ms(f,y):(y=Ht(u,f,y,b),y!==null&&(kn(y,u,b),No(y,f,b)))}function jp(u,f,y){var b=os();Do(u,f,y,b)}function Do(u,f,y,b){var w={lane:b,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(ju(u))Ms(f,w);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var j=f.lastRenderedState,tt=N(j,y);if(w.hasEagerState=!0,w.eagerState=tt,As(tt,j))return ue(u,f,w,0),Pn===null&&Y(),!1}catch{}finally{}if(y=Ht(u,f,w,b),y!==null)return kn(y,u,b),No(y,f,b),!0}return!1}function Ec(u,f,y,b){if(b={lane:2,revertLane:ce(),action:b,hasEagerState:!1,eagerState:null,next:null},ju(u)){if(f)throw Error(s(479))}else f=Ht(u,y,b,2),f!==null&&kn(f,u,2)}function ju(u){var f=u.alternate;return u===Ge||f!==null&&f===Ge}function Ms(u,f){Yl=io=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function No(u,f,y){if(y&4194176){var b=f.lanes;b&=u.pendingLanes,y|=b,f.lanes=y,at(u,y)}}function Ac(u,f,y,b){f=u.memoizedState,y=y(b,f),y=y==null?f:li({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}function wc(u,f,y,b,w,N,j){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,N,j):f.prototype&&f.prototype.isPureReactComponent?!At(y,b)||!At(w,N):!0}function iv(u,f,y,b){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,b),f.state!==u&&Jc.enqueueReplaceState(f,f.state,null)}function Or(u,f){var y=f;if("ref"in f){y={};for(var b in f)b!=="ref"&&(y[b]=f[b])}if(u=u.defaultProps){y===f&&(y=li({},y));for(var w in u)y[w]===void 0&&(y[w]=u[w])}return y}function Cc(u,f){try{var y=u.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function Rc(u,f,y){try{var b=u.onCaughtError;b(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Dc(u,f,y){return y=xe(y),y.tag=3,y.payload={element:null},y.callback=function(){Cc(u,f)},y}function Xp(u){return u=xe(u),u.tag=3,u}function sv(u,f,y,b){var w=y.type.getDerivedStateFromError;if(typeof w=="function"){var N=b.value;u.payload=function(){return w(N)},u.callback=function(){Rc(f,y,b)}}var j=y.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){Rc(f,y,b),typeof w!="function"&&(br===null?br=new Set([this]):br.add(this));var tt=b.stack;this.componentDidCatch(b.value,{componentStack:tt!==null?tt:""})})}function W1(u,f,y,b,w){if(y.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=y.alternate,f!==null&&Yu(f,y,w,!0),y=ks.current,y!==null){switch(y.tag){case 13:return Ca===null?Ea():y.alternate===null&&Jn===0&&(Jn=3),y.flags&=-257,y.flags|=65536,y.lanes=w,b===ws?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([b]):f.add(b),Go(u,b,w)),!1;case 22:return y.flags|=65536,b===ws?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([b]):y.add(b)),Go(u,b,w)),!1}throw Error(s(435,y.tag))}return Go(u,b,w),Ea(),!1}if(yn)return f=ks.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=w,b!==Sf&&(u=Error(s(422),{cause:b}),Rt(vt(u,y)))):(b!==Sf&&(f=Error(s(423),{cause:b}),Rt(vt(f,y))),u=u.current.alternate,u.flags|=65536,w&=-w,u.lanes|=w,b=vt(b,y),w=Dc(u.stateNode,b,w),He(u,w),Jn!==4&&(Jn=2)),!1;var N=Error(s(520),{cause:b});if(N=vt(N,y),eu===null?eu=[N]:eu.push(N),Jn!==4&&(Jn=2),f===null)return!0;b=vt(b,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,u=w&-w,y.lanes|=u,u=Dc(y.stateNode,b,u),He(y,u),!1;case 1:if(f=y.type,N=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(br===null||!br.has(N))))return y.flags|=65536,w&=-w,y.lanes|=w,w=Xp(w),sv(w,u,y,b),He(y,w),!1}y=y.return}while(y!==null);return!1}function Wi(u,f,y,b){f.child=u===null?xr(f,null,y,b):il(f,u.child,y,b)}function Oh(u,f,y,b,w){y=y.render;var N=f.ref;if("ref"in b){var j={};for(var tt in b)tt!=="ref"&&(j[tt]=b[tt])}else j=b;return Uo(f),b=Ro(u,f,y,j,N,w),tt=Lr(),u!==null&&!Ti?(wl(u,f,w),Pr(u,f,w)):(yn&&tt&&Et(f),f.flags|=1,Wi(u,f,b,w),f.child)}function av(u,f,y,b,w){if(u===null){var N=y.type;return typeof N=="function"&&!jr(N)&&N.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=N,rv(u,f,N,b,w)):(u=Vl(y.type,null,b,f,f.mode,w),u.ref=f.ref,u.return=f,f.child=u)}if(N=u.child,!Kp(u,w)){var j=N.memoizedProps;if(y=y.compare,y=y!==null?y:At,y(j,b)&&u.ref===f.ref)return Pr(u,f,w)}return f.flags|=1,u=Xr(N,b),u.ref=f.ref,u.return=f,f.child=u}function rv(u,f,y,b,w){if(u!==null){var N=u.memoizedProps;if(At(N,b)&&u.ref===f.ref)if(Ti=!1,f.pendingProps=b=N,Kp(u,w))u.flags&131072&&(Ti=!0);else return f.lanes=u.lanes,Pr(u,f,w)}return Ph(u,f,y,b,w)}function ov(u,f,y){var b=f.pendingProps,w=b.children,N=(f.stateNode._pendingVisibility&2)!==0,j=u!==null?u.memoizedState:null;if(Xu(u,f),b.mode==="hidden"||N){if(f.flags&128){if(b=j!==null?j.baseLanes|y:y,u!==null){for(w=f.child=u.child,N=0;w!==null;)N=N|w.lanes|w.childLanes,w=w.sibling;f.childLanes=N&~b}else f.childLanes=0,f.child=null;return lv(u,f,b,y)}if(y&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Bh(f,j!==null?j.cachePool:null),j!==null?Vu(f,j):Al(),bc(f);else return f.lanes=f.childLanes=536870912,lv(u,f,j!==null?j.baseLanes|y:y,y)}else j!==null?(Bh(f,j.cachePool),Vu(f,j),ja(),f.memoizedState=null):(u!==null&&Bh(f,null),Al(),ja());return Wi(u,f,w,y),f.child}function lv(u,f,y,b){var w=$p();return w=w===null?null:{parent:Za?ai._currentValue:ai._currentValue2,pool:w},f.memoizedState={baseLanes:y,cachePool:w},u!==null&&Bh(f,null),Al(),bc(f),u!==null&&Yu(u,f,b,!0),null}function Xu(u,f){var y=f.ref;if(y===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(s(284));(u===null||u.ref!==y)&&(f.flags|=2097664)}}function Ph(u,f,y,b,w){return Uo(f),y=Ro(u,f,y,b,void 0,w),b=Lr(),u!==null&&!Ti?(wl(u,f,w),Pr(u,f,w)):(yn&&b&&Et(f),f.flags|=1,Wi(u,f,y,w),f.child)}function cv(u,f,y,b,w,N){return Uo(f),f.updateQueue=null,y=wh(f,b,y,w),Ah(u),b=Lr(),u!==null&&!Ti?(wl(u,f,N),Pr(u,f,N)):(yn&&b&&Et(f),f.flags|=1,Wi(u,f,y,N),f.child)}function uv(u,f,y,b,w){if(Uo(f),f.stateNode===null){var N=Xl,j=y.contextType;typeof j=="object"&&j!==null&&(N=Yi(j)),N=new y(b,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Jc,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=b,N.state=f.memoizedState,N.refs={},Yt(f),j=y.contextType,N.context=typeof j=="object"&&j!==null?Yi(j):Xl,N.state=f.memoizedState,j=y.getDerivedStateFromProps,typeof j=="function"&&(Ac(f,y,j,b),N.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(j=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),j!==N.state&&Jc.enqueueReplaceState(N,N.state,null),Sn(f,b,N,w),Me(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(u===null){N=f.stateNode;var tt=f.memoizedProps,pt=Or(y,tt);N.props=pt;var Nt=N.context,Zt=y.contextType;j=Xl,typeof Zt=="object"&&Zt!==null&&(j=Yi(Zt));var re=y.getDerivedStateFromProps;Zt=typeof re=="function"||typeof N.getSnapshotBeforeUpdate=="function",tt=f.pendingProps!==tt,Zt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(tt||Nt!==j)&&iv(f,N,b,j),fs=!1;var Wt=f.memoizedState;N.state=Wt,Sn(f,b,N,w),Me(),Nt=f.memoizedState,tt||Wt!==Nt||fs?(typeof re=="function"&&(Ac(f,y,re,b),Nt=f.memoizedState),(pt=fs||wc(f,y,pt,b,Wt,Nt,j))?(Zt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Nt),N.props=b,N.state=Nt,N.context=j,b=pt):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{N=f.stateNode,pe(u,f),j=f.memoizedProps,Zt=Or(y,j),N.props=Zt,re=f.pendingProps,Wt=N.context,Nt=y.contextType,pt=Xl,typeof Nt=="object"&&Nt!==null&&(pt=Yi(Nt)),tt=y.getDerivedStateFromProps,(Nt=typeof tt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(j!==re||Wt!==pt)&&iv(f,N,b,pt),fs=!1,Wt=f.memoizedState,N.state=Wt,Sn(f,b,N,w),Me();var je=f.memoizedState;j!==re||Wt!==je||fs||u!==null&&u.dependencies!==null&&Zu(u.dependencies)?(typeof tt=="function"&&(Ac(f,y,tt,b),je=f.memoizedState),(Zt=fs||wc(f,y,Zt,b,Wt,je,pt)||u!==null&&u.dependencies!==null&&Zu(u.dependencies))?(Nt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,je,pt),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,je,pt)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||j===u.memoizedProps&&Wt===u.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||j===u.memoizedProps&&Wt===u.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=je),N.props=b,N.state=je,N.context=pt,b=Zt):(typeof N.componentDidUpdate!="function"||j===u.memoizedProps&&Wt===u.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||j===u.memoizedProps&&Wt===u.memoizedState||(f.flags|=1024),b=!1)}return N=b,Xu(u,f),b=(f.flags&128)!==0,N||b?(N=f.stateNode,y=b&&typeof y.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,u!==null&&b?(f.child=il(f,u.child,null,w),f.child=il(f,null,y,w)):Wi(u,f,y,w),f.memoizedState=N.state,u=f.child):u=Pr(u,f,w),u}function fv(u,f,y,b){return Pt(),f.flags|=256,Wi(u,f,y,b),f.child}function qp(u){return{baseLanes:u,cachePool:Jp()}}function qu(u,f,y){return u=u!==null?u.childLanes&~y:0,f&&(u|=ca),u}function hv(u,f,y){var b=f.pendingProps,w=!1,N=(f.flags&128)!==0,j;if((j=N)||(j=u!==null&&u.memoizedState===null?!1:(jn.current&2)!==0),j&&(w=!0,f.flags&=-129),j=(f.flags&32)!==0,f.flags&=-33,u===null){if(yn){if(w?ea(f):ja(),yn){var tt=Un,pt;(pt=tt)&&(tt=ey(tt,Ja),tt!==null?(f.memoizedState={dehydrated:tt,treeContext:$a!==null?{id:vr,overflow:yr}:null,retryLane:536870912},pt=e(18,null,null,0),pt.stateNode=tt,pt.return=f,f.child=pt,hi=f,Un=null,pt=!0):pt=!1),pt||kt(f)}if(tt=f.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return vf(tt)?f.lanes=16:f.lanes=536870912,null;oi(f)}return tt=b.children,b=b.fallback,w?(ja(),w=f.mode,tt=Yp({mode:"hidden",children:tt},w),b=ko(b,w,y,null),tt.return=f,b.return=f,tt.sibling=b,f.child=tt,w=f.child,w.memoizedState=qp(y),w.childLanes=qu(u,j,y),f.memoizedState=Tf,b):(ea(f),Wp(f,tt))}if(pt=u.memoizedState,pt!==null&&(tt=pt.dehydrated,tt!==null)){if(N)f.flags&256?(ea(f),f.flags&=-257,f=zh(u,f,y)):f.memoizedState!==null?(ja(),f.child=u.child,f.flags|=128,f=null):(ja(),w=b.fallback,tt=f.mode,b=Yp({mode:"visible",children:b.children},tt),w=ko(w,tt,y,null),w.flags|=2,b.return=f,w.return=f,b.sibling=w,f.child=b,il(f,u.child,null,y),b=f.child,b.memoizedState=qp(y),b.childLanes=qu(u,j,y),f.memoizedState=Tf,f=w);else if(ea(f),vf(tt))j=sd(tt).digest,b=Error(s(419)),b.stack="",b.digest=j,Rt({value:b,source:null,stack:null}),f=zh(u,f,y);else if(Ti||Yu(u,f,y,!1),j=(y&u.childLanes)!==0,Ti||j){if(j=Pn,j!==null){if(b=y&-y,b&42)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=b&(j.suspendedLanes|y)?0:b,b!==0&&b!==pt.retryLane)throw pt.retryLane=b,$t(u,b),kn(j,u,b),Vm}Gl(tt)||Ea(),f=zh(u,f,y)}else Gl(tt)?(f.flags|=128,f.child=u.child,f=hf.bind(null,u),$v(tt,f),f=null):(u=pt.treeContext,Fs&&(Un=Mm(tt),hi=f,yn=!0,wa=null,Ja=!1,u!==null&&(Hs[us++]=vr,Hs[us++]=yr,Hs[us++]=$a,vr=u.id,yr=u.overflow,$a=f)),f=Wp(f,b.children),f.flags|=4096);return f}return w?(ja(),w=b.fallback,tt=f.mode,pt=u.child,N=pt.sibling,b=Xr(pt,{mode:"hidden",children:b.children}),b.subtreeFlags=pt.subtreeFlags&31457280,N!==null?w=Xr(N,w):(w=ko(w,tt,y,null),w.flags|=2),w.return=f,b.return=f,b.sibling=w,f.child=b,b=w,w=f.child,tt=u.child.memoizedState,tt===null?tt=qp(y):(pt=tt.cachePool,pt!==null?(N=Za?ai._currentValue:ai._currentValue2,pt=pt.parent!==N?{parent:N,pool:N}:pt):pt=Jp(),tt={baseLanes:tt.baseLanes|y,cachePool:pt}),w.memoizedState=tt,w.childLanes=qu(u,j,y),f.memoizedState=Tf,b):(ea(f),y=u.child,u=y.sibling,y=Xr(y,{mode:"visible",children:b.children}),y.return=f,y.sibling=null,u!==null&&(j=f.deletions,j===null?(f.deletions=[u],f.flags|=16):j.push(u)),f.child=y,f.memoizedState=null,y)}function Wp(u,f){return f=Yp({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function Yp(u,f){return Zh(u,f,0,null)}function zh(u,f,y){return il(f,u.child,null,y),u=Wp(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function dv(u,f,y){u.lanes|=f;var b=u.alternate;b!==null&&(b.lanes|=f),Wu(u.return,f,y)}function Zp(u,f,y,b,w){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:y,tailMode:w}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=b,N.tail=y,N.tailMode=w)}function pv(u,f,y){var b=f.pendingProps,w=b.revealOrder,N=b.tail;if(Wi(u,f,b.children,y),b=jn.current,b&2)b=b&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)t:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&dv(u,y,f);else if(u.tag===19)dv(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break t;for(;u.sibling===null;){if(u.return===null||u.return===f)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}switch(R(jn,b),w){case"forwards":for(y=f.child,w=null;y!==null;)u=y.alternate,u!==null&&ni(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=f.child,f.child=null):(w=y.sibling,y.sibling=null),Zp(f,!1,w,y,N);break;case"backwards":for(y=null,w=f.child,f.child=null;w!==null;){if(u=w.alternate,u!==null&&ni(u)===null){f.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}Zp(f,!0,y,null,N);break;case"together":Zp(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Pr(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),Ua|=f.lanes,!(y&f.childLanes))if(u!==null){if(Yu(u,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(s(153));if(f.child!==null){for(u=f.child,y=Xr(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=Xr(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function Kp(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&Zu(u)))}function Y1(u,f,y){switch(f.tag){case 3:it(f,f.stateNode.containerInfo),Lo(f,ai,u.memoizedState.cache),Pt();break;case 27:case 5:Ut(f);break;case 4:it(f,f.stateNode.containerInfo);break;case 10:Lo(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(ea(f),f.flags|=128,null):y&f.child.childLanes?hv(u,f,y):(ea(f),u=Pr(u,f,y),u!==null?u.sibling:null);ea(f);break;case 19:var w=(u.flags&128)!==0;if(b=(y&f.childLanes)!==0,b||(Yu(u,f,y,!1),b=(y&f.childLanes)!==0),w){if(b)return pv(u,f,y);f.flags|=128}if(w=f.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),R(jn,jn.current),b)break;return null;case 22:case 23:return f.lanes=0,ov(u,f,y);case 24:Lo(f,ai,u.memoizedState.cache)}return Pr(u,f,y)}function mv(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps)Ti=!0;else{if(!Kp(u,y)&&!(f.flags&128))return Ti=!1,Y1(u,f,y);Ti=!!(u.flags&131072)}else Ti=!1,yn&&f.flags&1048576&&nt(f,Zc,f.index);switch(f.lanes=0,f.tag){case 16:t:{u=f.pendingProps;var b=f.elementType,w=b._init;if(b=w(b._payload),f.type=b,typeof b=="function")jr(b)?(u=Or(b,u),f.tag=1,f=uv(null,f,b,u,y)):(f.tag=0,f=Ph(null,f,b,u,y));else{if(b!=null){if(w=b.$$typeof,w===Kh){f.tag=11,f=Oh(null,f,b,u,y);break t}else if(w===Fc){f.tag=14,f=av(null,f,b,u,y);break t}}throw f=o(b)||b,Error(s(306,f,""))}}return f;case 0:return Ph(u,f,f.type,f.pendingProps,y);case 1:return b=f.type,w=Or(b,f.pendingProps),uv(u,f,b,w,y);case 3:t:{if(it(f,f.stateNode.containerInfo),u===null)throw Error(s(387));var N=f.pendingProps;w=f.memoizedState,b=w.element,pe(u,f),Sn(f,N,null,y);var j=f.memoizedState;if(N=j.cache,Lo(f,ai,N),N!==w.cache&&Dl(f,[ai],y,!0),Me(),N=j.element,Fs&&w.isDehydrated)if(w={element:N,isDehydrated:!1,cache:j.cache},f.updateQueue.baseState=w,f.memoizedState=w,f.flags&256){f=fv(u,f,N,y);break t}else if(N!==b){b=vt(Error(s(424)),f),Rt(b),f=fv(u,f,N,y);break t}else for(Fs&&(Un=kl(f.stateNode.containerInfo),hi=f,yn=!0,wa=null,Ja=!0),y=xr(f,null,N,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Pt(),N===b){f=Pr(u,f,y);break t}Wi(u,f,N,y)}f=f.child}return f;case 26:if(aa)return Xu(u,f),u===null?(y=wm(f.type,null,f.pendingProps,null))?f.memoizedState=y:yn||(f.stateNode=Nm(f.type,f.pendingProps,to.current,f)):f.memoizedState=wm(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:if(Fi)return Ut(f),u===null&&Fi&&yn&&(b=f.stateNode=od(f.type,f.pendingProps,to.current,fi.current,!1),hi=f,Ja=!0,Un=$r(b)),b=f.pendingProps.children,u!==null||yn?Wi(u,f,b,y):f.child=il(f,null,b,y),Xu(u,f),f.child;case 5:return u===null&&yn&&(ry(f.type,f.pendingProps,fi.current),(w=b=Un)&&(b=Tm(b,f.type,f.pendingProps,Ja),b!==null?(f.stateNode=b,hi=f,Un=$r(b),Ja=!1,w=!0):w=!1),w||kt(f)),Ut(f),w=f.type,N=f.pendingProps,j=u!==null?u.memoizedProps:null,b=N.children,Ki(w,N)?b=null:j!==null&&Ki(w,j)&&(f.flags|=32),f.memoizedState!==null&&(w=Ro(u,f,Ch,null,null,y),Za?Qr._currentValue=w:Qr._currentValue2=w),Xu(u,f),Wi(u,f,b,y),f.child;case 6:return u===null&&yn&&(iS(f.pendingProps,fi.current),(u=y=Un)&&(y=ty(y,f.pendingProps,Ja),y!==null?(f.stateNode=y,hi=f,Un=null,u=!0):u=!1),u||kt(f)),null;case 13:return hv(u,f,y);case 4:return it(f,f.stateNode.containerInfo),b=f.pendingProps,u===null?f.child=il(f,null,b,y):Wi(u,f,b,y),f.child;case 11:return Oh(u,f,f.type,f.pendingProps,y);case 7:return Wi(u,f,f.pendingProps,y),f.child;case 8:return Wi(u,f,f.pendingProps.children,y),f.child;case 12:return Wi(u,f,f.pendingProps.children,y),f.child;case 10:return b=f.pendingProps,Lo(f,f.type,b.value),Wi(u,f,b.children,y),f.child;case 9:return w=f.type._context,b=f.pendingProps.children,Uo(f),w=Yi(w),b=b(w),f.flags|=1,Wi(u,f,b,y),f.child;case 14:return av(u,f,f.type,f.pendingProps,y);case 15:return rv(u,f,f.type,f.pendingProps,y);case 19:return pv(u,f,y);case 22:return ov(u,f,y);case 24:return Uo(f),b=Yi(ai),u===null?(w=$p(),w===null&&(w=Pn,N=Oo(),w.pooledCache=N,N.refCount++,N!==null&&(w.pooledCacheLanes|=y),w=N),f.memoizedState={parent:b,cache:w},Yt(f),Lo(f,ai,w)):(u.lanes&y&&(pe(u,f),Sn(f,null,null,y),Me()),w=u.memoizedState,N=f.memoizedState,w.parent!==b?(w={parent:b,cache:b},f.memoizedState=w,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=w),Lo(f,ai,b)):(b=N.cache,Lo(f,ai,b),b!==w.cache&&Dl(f,[ai],y,!0))),Wi(u,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(s(156,f.tag))}function Lo(u,f,y){Za?(R(Ra,f._currentValue),f._currentValue=y):(R(Ra,f._currentValue2),f._currentValue2=y)}function zr(u){var f=Ra.current;Za?u._currentValue=f:u._currentValue2=f,M(Ra)}function Wu(u,f,y){for(;u!==null;){var b=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),u===y)break;u=u.return}}function Dl(u,f,y,b){var w=u.child;for(w!==null&&(w.return=u);w!==null;){var N=w.dependencies;if(N!==null){var j=w.child;N=N.firstContext;t:for(;N!==null;){var tt=N;N=w;for(var pt=0;pt<f.length;pt++)if(tt.context===f[pt]){N.lanes|=y,tt=N.alternate,tt!==null&&(tt.lanes|=y),Wu(N.return,y,u),b||(j=null);break t}N=tt.next}}else if(w.tag===18){if(j=w.return,j===null)throw Error(s(341));j.lanes|=y,N=j.alternate,N!==null&&(N.lanes|=y),Wu(j,y,u),j=null}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===u){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}}function Yu(u,f,y,b){u=null;for(var w=f,N=!1;w!==null;){if(!N){if(w.flags&524288)N=!0;else if(w.flags&262144)break}if(w.tag===10){var j=w.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var tt=w.type;As(w.pendingProps.value,j.value)||(u!==null?u.push(tt):u=[tt])}}else if(w===_f.current){if(j=w.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(u!==null?u.push(Qr):u=[Qr])}w=w.return}u!==null&&Dl(f,u,y,b),f.flags|=262144}function Zu(u){for(u=u.firstContext;u!==null;){var f=u.context;if(!As(Za?f._currentValue:f._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function Uo(u){ll=u,Da=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Yi(u){return Qp(ll,u)}function Ku(u,f){return ll===null&&Uo(u),Qp(u,f)}function Qp(u,f){var y=Za?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},Da===null){if(u===null)throw Error(s(308));Da=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Da=Da.next=f;return y}function Oo(){return{controller:new Ef,data:new Map,refCount:0}}function Qu(u){u.refCount--,u.refCount===0&&ei(aS,function(){u.controller.abort()})}function $p(){var u=Zl.current;return u!==null?u:Pn.pooledCache}function Bh(u,f){f===null?R(Zl,Zl.current):R(Zl,f.pool)}function Jp(){var u=$p();return u===null?null:{parent:Za?ai._currentValue:ai._currentValue2,pool:u}}function Os(u){u.flags|=4}function Nc(u,f){if(u!==null&&u.child===f.child)return!1;if(f.flags&16)return!0;for(u=f.child;u!==null;){if(u.flags&13878||u.subtreeFlags&13878)return!0;u=u.sibling}return!1}function Nl(u,f,y,b){if(Qn)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)mf(u,y.stateNode);else if(!(y.tag===4||Fi&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(Ka)for(var w=f.child;w!==null;){if(w.tag===5){var N=w.stateNode;y&&b&&(N=Qv(N,w.type,w.memoizedProps)),mf(u,N)}else if(w.tag===6)N=w.stateNode,y&&b&&(N=bm(N,w.memoizedProps)),mf(u,N);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)N=w.child,N!==null&&(N.return=w),Nl(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function gv(u,f,y,b){if(Ka)for(var w=f.child;w!==null;){if(w.tag===5){var N=w.stateNode;y&&b&&(N=Qv(N,w.type,w.memoizedProps)),Sm(u,N)}else if(w.tag===6)N=w.stateNode,y&&b&&(N=bm(N,w.memoizedProps)),Sm(u,N);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)N=w.child,N!==null&&(N.return=w),gv(u,w,!(w.memoizedProps!==null&&w.memoizedProps.mode==="manual"),!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function $u(u,f){if(Ka&&Nc(u,f)){u=f.stateNode;var y=u.containerInfo,b=id();gv(b,f,!1,!1),u.pendingChildren=b,Os(f),Zv(y,b)}}function Vh(u,f,y,b){if(Qn)u.memoizedProps!==b&&Os(f);else if(Ka){var w=u.stateNode,N=u.memoizedProps;if((u=Nc(u,f))||N!==b){var j=fi.current;N=Yv(w,y,N,b,!u,null),N===w?f.stateNode=w:(Qh(N,y,b,j)&&Os(f),f.stateNode=N,u?Nl(N,f,!1,!1):Os(f))}else f.stateNode=w}}function Ih(u,f,y){if(mm(f,y)){if(u.flags|=16777216,!gm(f,y))if(Ii())u.flags|=8192;else throw hs=ws,Mf}else u.flags&=-16777217}function Fh(u,f){if(cy(f)){if(u.flags|=16777216,!Lm(f))if(Ii())u.flags|=8192;else throw hs=ws,Mf}else u.flags&=-16777217}function Lc(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?U():536870912,u.lanes|=f,Ai|=f)}function Uc(u,f){if(!yn)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function Kn(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,b=0;if(f)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,b|=w.subtreeFlags&31457280,b|=w.flags&31457280,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,b|=w.subtreeFlags,b|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=b,u.childLanes=y,f}function vv(u,f,y){var b=f.pendingProps;switch(Ot(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(f),null;case 1:return Kn(f),null;case 3:return y=f.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),zr(ai),Tt(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(le(f)?Os(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,wa!==null&&(Gr(wa),wa=null))),$u(u,f),Kn(f),null;case 26:if(aa){y=f.type;var w=f.memoizedState;return u===null?(Os(f),w!==null?(Kn(f),Fh(f,w)):(Kn(f),Ih(f,y,b))):w?w!==u.memoizedState?(Os(f),Kn(f),Fh(f,w)):(Kn(f),f.flags&=-16777217):(Qn?u.memoizedProps!==b&&Os(f):Vh(u,f,y,b),Kn(f),Ih(f,y,b)),null}case 27:if(Fi){if(It(f),y=to.current,w=f.type,u!==null&&f.stateNode!=null)Qn?u.memoizedProps!==b&&Os(f):Vh(u,f,w,b);else{if(!b){if(f.stateNode===null)throw Error(s(166));return Kn(f),null}u=fi.current,le(f)?ye(f,u):(u=od(w,b,y,u,!0),f.stateNode=u,Os(f))}return Kn(f),null}case 5:if(It(f),y=f.type,u!==null&&f.stateNode!=null)Vh(u,f,y,b);else{if(!b){if(f.stateNode===null)throw Error(s(166));return Kn(f),null}u=fi.current,le(f)?ye(f,u):(w=pm(y,b,to.current,u,f),Nl(w,f,!1,!1),f.stateNode=w,Qh(w,y,b,u)&&Os(f))}return Kn(f),Ih(f,f.type,f.pendingProps),null;case 6:if(u&&f.stateNode!=null)y=u.memoizedProps,Qn?y!==b&&Os(f):Ka&&(y!==b?(f.stateNode=ci(b,to.current,fi.current,f),Os(f)):f.stateNode=u.stateNode);else{if(typeof b!="string"&&f.stateNode===null)throw Error(s(166));if(u=to.current,y=fi.current,le(f)){if(!Fs)throw Error(s(176));if(u=f.stateNode,y=f.memoizedProps,b=null,w=hi,w!==null)switch(w.tag){case 27:case 5:b=w.memoizedProps}ad(u,y,f,b)||kt(f)}else f.stateNode=ci(b,u,y,f)}return Kn(f),null;case 13:if(b=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(w=le(f),b!==null&&b.dehydrated!==null){if(u===null){if(!w)throw Error(s(318));if(!Fs)throw Error(s(344));if(w=f.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(s(317));ny(w,f)}else Pt(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Kn(f),w=!1}else wa!==null&&(Gr(wa),wa=null),w=!0;if(!w)return f.flags&256?(oi(f),f):(oi(f),null)}if(oi(f),f.flags&128)return f.lanes=y,f;if(y=b!==null,u=u!==null&&u.memoizedState!==null,y){b=f.child,w=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(w=b.alternate.memoizedState.cachePool.pool);var N=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==w&&(b.flags|=2048)}return y!==u&&y&&(f.child.flags|=8192),Lc(f,f.updateQueue),Kn(f),null;case 4:return Tt(),$u(u,f),u===null&&wv(f.stateNode.containerInfo),Kn(f),null;case 10:return zr(f.type),Kn(f),null;case 19:if(M(jn),w=f.memoizedState,w===null)return Kn(f),null;if(b=(f.flags&128)!==0,N=w.rendering,N===null)if(b)Uc(w,!1);else{if(Jn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(N=ni(u),N!==null){for(f.flags|=128,Uc(w,!1),u=N.updateQueue,f.updateQueue=u,Lc(f,u),f.subtreeFlags=0,u=y,y=f.child;y!==null;)Bl(y,u),y=y.sibling;return R(jn,jn.current&1|2),f.child}u=u.sibling}w.tail!==null&&ra()>ua&&(f.flags|=128,b=!0,Uc(w,!1),f.lanes=4194304)}else{if(!b)if(u=ni(N),u!==null){if(f.flags|=128,b=!0,u=u.updateQueue,f.updateQueue=u,Lc(f,u),Uc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!yn)return Kn(f),null}else 2*ra()-w.renderingStartTime>ua&&y!==536870912&&(f.flags|=128,b=!0,Uc(w,!1),f.lanes=4194304);w.isBackwards?(N.sibling=f.child,f.child=N):(u=w.last,u!==null?u.sibling=N:f.child=N,w.last=N)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=ra(),f.sibling=null,u=jn.current,R(jn,b?u&1|2:u&1),f):(Kn(f),null);case 22:case 23:return oi(f),Sa(),b=f.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?y&536870912&&!(f.flags&128)&&(Kn(f),f.subtreeFlags&6&&(f.flags|=8192)):Kn(f),y=f.updateQueue,y!==null&&Lc(f,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048),u!==null&&M(Zl),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),zr(ai),Kn(f),null;case 25:return null}throw Error(s(156,f.tag))}function Z1(u,f){switch(Ot(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return zr(ai),Tt(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return It(f),null;case 13:if(oi(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Pt()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return M(jn),null;case 4:return Tt(),null;case 10:return zr(f.type),null;case 22:case 23:return oi(f),Sa(),u!==null&&M(Zl),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return zr(ai),null;case 25:return null;default:return null}}function yv(u,f){switch(Ot(f),f.tag){case 3:zr(ai),Tt();break;case 26:case 27:case 5:It(f);break;case 4:Tt();break;case 13:oi(f);break;case 19:M(jn);break;case 10:zr(f.type);break;case 22:case 23:oi(f),Sa(),u!==null&&M(Zl);break;case 24:zr(ai)}}function Ju(u,f){try{var y=f.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var w=b.next;y=w;do{if((y.tag&u)===u){b=void 0;var N=y.create,j=y.inst;b=N(),j.destroy=b}y=y.next}while(y!==w)}}catch(tt){wn(f,f.return,tt)}}function Po(u,f,y){try{var b=f.updateQueue,w=b!==null?b.lastEffect:null;if(w!==null){var N=w.next;b=N;do{if((b.tag&u)===u){var j=b.inst,tt=j.destroy;if(tt!==void 0){j.destroy=void 0,w=f;var pt=y;try{tt()}catch(Nt){wn(w,pt,Nt)}}}b=b.next}while(b!==N)}}catch(Nt){wn(f,f.return,Nt)}}function xv(u){var f=u.updateQueue;if(f!==null){var y=u.stateNode;try{ie(f,y)}catch(b){wn(u,u.return,b)}}}function Ps(u,f,y){y.props=Or(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(b){wn(u,f,b)}}function Ya(u,f){try{var y=u.ref;if(y!==null){var b=u.stateNode;switch(u.tag){case 26:case 27:case 5:var w=Fl(b);break;default:w=b}typeof y=="function"?u.refCleanup=y(w):y.current=w}}catch(N){wn(u,f,N)}}function zs(u,f){var y=u.ref,b=u.refCleanup;if(y!==null)if(typeof b=="function")try{b()}catch(w){wn(u,f,w)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(w){wn(u,f,w)}else y.current=null}function tm(u){var f=u.type,y=u.memoizedProps,b=u.stateNode;try{Fv(b,f,y,u)}catch(w){wn(u,u.return,w)}}function em(u,f,y){try{Hv(u.stateNode,u.type,y,f,u)}catch(b){wn(u,u.return,b)}}function nm(u){return u.tag===5||u.tag===3||(aa?u.tag===26:!1)||(Fi?u.tag===27:!1)||u.tag===4}function tf(u){t:for(;;){for(;u.sibling===null;){if(u.return===null||nm(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Fi||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue t;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function im(u,f,y){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?xm(y,u,f):ym(y,u);else if(!(b===4||Fi&&b===27)&&(u=u.child,u!==null))for(im(u,f,y),u=u.sibling;u!==null;)im(u,f,y),u=u.sibling}function Hh(u,f,y){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?Gv(y,u,f):Vv(y,u);else if(!(b===4||Fi&&b===27)&&(u=u.child,u!==null))for(Hh(u,f,y),u=u.sibling;u!==null;)Hh(u,f,y),u=u.sibling}function Ll(u,f,y){u=u.containerInfo;try{Kv(u,y)}catch(b){wn(f,f.return,b)}}function sm(u,f){for(Av(u.containerInfo),De=f;De!==null;)if(u=De,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,De=f;else for(;De!==null;){u=De;var y=u.alternate;switch(f=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if(f&1024&&y!==null){f=void 0;var b=u,w=y.memoizedProps;y=y.memoizedState;var N=b.stateNode;try{var j=Or(b.type,w,b.elementType===b.type);f=N.getSnapshotBeforeUpdate(j,y),N.__reactInternalSnapshotBeforeUpdate=f}catch(tt){wn(b,b.return,tt)}}break;case 3:f&1024&&Qn&&Wv(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(f&1024)throw Error(s(163))}if(f=u.sibling,f!==null){f.return=u.return,De=f;break}De=u.return}return j=Vn,Vn=!1,j}function Oc(u,f,y){var b=y.flags;switch(y.tag){case 0:case 11:case 15:Vr(u,y),b&4&&Ju(5,y);break;case 1:if(Vr(u,y),b&4)if(u=y.stateNode,f===null)try{u.componentDidMount()}catch(tt){wn(y,y.return,tt)}else{var w=Or(y.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(w,f,u.__reactInternalSnapshotBeforeUpdate)}catch(tt){wn(y,y.return,tt)}}b&64&&xv(y),b&512&&Ya(y,y.return);break;case 3:if(Vr(u,y),b&64&&(b=y.updateQueue,b!==null)){if(u=null,y.child!==null)switch(y.child.tag){case 27:case 5:u=Fl(y.child.stateNode);break;case 1:u=y.child.stateNode}try{ie(b,u)}catch(tt){wn(y,y.return,tt)}}break;case 26:if(aa){Vr(u,y),b&512&&Ya(y,y.return);break}case 27:case 5:Vr(u,y),f===null&&b&4&&tm(y),b&512&&Ya(y,y.return);break;case 12:Vr(u,y);break;case 13:Vr(u,y),b&4&&Ul(u,y);break;case 22:if(w=y.memoizedState!==null||ro,!w){f=f!==null&&f.memoizedState!==null||ke;var N=ro,j=ke;ro=w,(ke=f)&&!j?zo(u,y,(y.subtreeFlags&8772)!==0):Vr(u,y),ro=N,ke=j}b&512&&(y.memoizedProps.mode==="manual"?Ya(y,y.return):zs(y,y.return));break;default:Vr(u,y)}}function Gh(u){var f=u.alternate;f!==null&&(u.alternate=null,Gh(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Dv(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function ba(u,f,y){for(y=y.child;y!==null;)Br(u,f,y),y=y.sibling}function Br(u,f,y){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(Yc,y)}catch{}switch(y.tag){case 26:if(aa){ke||zs(y,f),ba(u,f,y),y.memoizedState?Rm(y.memoizedState):y.stateNode&&Xc(y.stateNode);break}case 27:if(Fi){ke||zs(y,f);var b=Mn,w=mi;Mn=y.stateNode,ba(u,f,y),Pm(y.stateNode),Mn=b,mi=w;break}case 5:ke||zs(y,f);case 6:if(Qn){if(b=Mn,w=mi,Mn=null,ba(u,f,y),Mn=b,mi=w,Mn!==null)if(mi)try{jv(Mn,y.stateNode)}catch(N){wn(y,f,N)}else try{kv(Mn,y.stateNode)}catch(N){wn(y,f,N)}}else ba(u,f,y);break;case 18:Qn&&Mn!==null&&(mi?Em(Mn,y.stateNode):ay(Mn,y.stateNode));break;case 4:Qn?(b=Mn,w=mi,Mn=y.stateNode.containerInfo,mi=!0,ba(u,f,y),Mn=b,mi=w):(Ka&&Ll(y.stateNode,y,id()),ba(u,f,y));break;case 0:case 11:case 14:case 15:ke||Po(2,y,f),ke||Po(4,y,f),ba(u,f,y);break;case 1:ke||(zs(y,f),b=y.stateNode,typeof b.componentWillUnmount=="function"&&Ps(y,f,b)),ba(u,f,y);break;case 21:ba(u,f,y);break;case 22:ke||zs(y,f),ke=(b=ke)||y.memoizedState!==null,ba(u,f,y),ke=b;break;default:ba(u,f,y)}}function Ul(u,f){if(Fs&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{rd(u)}catch(y){wn(f,f.return,y)}}function am(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new nn),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new nn),f;default:throw Error(s(435,u.tag))}}function kh(u,f){var y=am(u);f.forEach(function(b){var w=Yh.bind(null,u,b);y.has(b)||(y.add(b),b.then(w,w))})}function _i(u,f){var y=f.deletions;if(y!==null)for(var b=0;b<y.length;b++){var w=y[b],N=u,j=f;if(Qn){var tt=j;t:for(;tt!==null;){switch(tt.tag){case 27:case 5:Mn=tt.stateNode,mi=!1;break t;case 3:Mn=tt.stateNode.containerInfo,mi=!0;break t;case 4:Mn=tt.stateNode.containerInfo,mi=!0;break t}tt=tt.return}if(Mn===null)throw Error(s(160));Br(N,j,w),Mn=null,mi=!1}else Br(N,j,w);N=w.alternate,N!==null&&(N.return=null),w.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)rm(f,u),f=f.sibling}function rm(u,f){var y=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:_i(f,u),Bs(u),b&4&&(Po(3,u,u.return),Ju(3,u),Po(5,u,u.return));break;case 1:_i(f,u),Bs(u),b&512&&(ke||y===null||zs(y,y.return)),b&64&&ro&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?b:y.concat(b))));break;case 26:if(aa){var w=ps;_i(f,u),Bs(u),b&512&&(ke||y===null||zs(y,y.return)),b&4&&(b=y!==null?y.memoizedState:null,f=u.memoizedState,y===null?f===null?u.stateNode===null?u.stateNode=oy(w,u.type,u.memoizedProps,u):Dm(w,u.type,u.stateNode):u.stateNode=Cm(w,f,u.memoizedProps):b!==f?(b===null?y.stateNode!==null&&Xc(y.stateNode):Rm(b),f===null?Dm(w,u.type,u.stateNode):Cm(w,f,u.memoizedProps)):f===null&&u.stateNode!==null&&em(u,u.memoizedProps,y.memoizedProps));break}case 27:if(Fi&&b&4&&u.alternate===null){w=u.stateNode;var N=u.memoizedProps;try{uy(w),Om(u.type,N,w,u)}catch(Zt){wn(u,u.return,Zt)}}case 5:if(_i(f,u),Bs(u),b&512&&(ke||y===null||zs(y,y.return)),Qn){if(u.flags&32){f=u.stateNode;try{nd(f)}catch(Zt){wn(u,u.return,Zt)}}b&4&&u.stateNode!=null&&(f=u.memoizedProps,em(u,f,y!==null?y.memoizedProps:f)),b&1024&&(On=!0)}break;case 6:if(_i(f,u),Bs(u),b&4&&Qn){if(u.stateNode===null)throw Error(s(162));b=u.memoizedProps,y=y!==null?y.memoizedProps:b,f=u.stateNode;try{Iv(f,y,b)}catch(Zt){wn(u,u.return,Zt)}}break;case 3:if(aa?(ly(),w=ps,ps=Oi(f.containerInfo),_i(f,u),ps=w):_i(f,u),Bs(u),b&4){if(Qn&&Fs&&y!==null&&y.memoizedState.isDehydrated)try{sy(f.containerInfo)}catch(Zt){wn(u,u.return,Zt)}if(Ka){b=f.containerInfo,y=f.pendingChildren;try{Kv(b,y)}catch(Zt){wn(u,u.return,Zt)}}}On&&(On=!1,om(u));break;case 4:aa?(y=ps,ps=Oi(u.stateNode.containerInfo),_i(f,u),Bs(u),ps=y):(_i(f,u),Bs(u)),b&4&&Ka&&Ll(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:_i(f,u),Bs(u);break;case 13:_i(f,u),Bs(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Fm=ra()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,kh(u,b)));break;case 22:b&512&&(ke||y===null||zs(y,y.return)),w=u.memoizedState!==null;var j=y!==null&&y.memoizedState!==null,tt=ro,pt=ke;if(ro=tt||w,ke=pt||j,_i(f,u),ke=pt,ro=tt,Bs(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,b&8192&&(f._visibility=w?f._visibility&-2:f._visibility|1,w&&(f=ro||ke,y===null||j||f||Pc(u)),Qn&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){t:if(y=null,Qn)for(f=u;;){if(f.tag===5||aa&&f.tag===26||Fi&&f.tag===27){if(y===null){j=y=f;try{N=j.stateNode,w?Xv(N):nS(j.stateNode,j.memoizedProps)}catch(Zt){wn(j,j.return,Zt)}}}else if(f.tag===6){if(y===null){j=f;try{var Nt=j.stateNode;w?qv(Nt):_m(Nt,j.memoizedProps)}catch(Zt){wn(j,j.return,Zt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break t;for(;f.sibling===null;){if(f.return===null||f.return===u)break t;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}b&4&&(b=u.updateQueue,b!==null&&(y=b.retryQueue,y!==null&&(b.retryQueue=null,kh(u,y))));break;case 19:_i(f,u),Bs(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,kh(u,b)));break;case 21:break;default:_i(f,u),Bs(u)}}function Bs(u){var f=u.flags;if(f&2){try{if(Qn&&(!Fi||u.tag!==27)){t:{for(var y=u.return;y!==null;){if(nm(y)){var b=y;break t}y=y.return}throw Error(s(160))}switch(b.tag){case 27:if(Fi){var w=b.stateNode,N=tf(u);Hh(u,N,w);break}case 5:var j=b.stateNode;b.flags&32&&(nd(j),b.flags&=-33);var tt=tf(u);Hh(u,tt,j);break;case 3:case 4:var pt=b.stateNode.containerInfo,Nt=tf(u);im(u,Nt,pt);break;default:throw Error(s(161))}}}catch(Zt){wn(u,u.return,Zt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function om(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;om(f),f.tag===5&&f.flags&1024&&Lv(f.stateNode),u=u.sibling}}function Vr(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Oc(u,f.alternate,f),f=f.sibling}function Pc(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Po(4,f,f.return),Pc(f);break;case 1:zs(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&Ps(f,f.return,y),Pc(f);break;case 26:case 27:case 5:zs(f,f.return),Pc(f);break;case 22:zs(f,f.return),f.memoizedState===null&&Pc(f);break;default:Pc(f)}u=u.sibling}}function zo(u,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,w=u,N=f,j=N.flags;switch(N.tag){case 0:case 11:case 15:zo(w,N,y),Ju(4,N);break;case 1:if(zo(w,N,y),b=N,w=b.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Nt){wn(b,b.return,Nt)}if(b=N,w=b.updateQueue,w!==null){var tt=b.stateNode;try{var pt=w.shared.hiddenCallbacks;if(pt!==null)for(w.shared.hiddenCallbacks=null,w=0;w<pt.length;w++)lt(pt[w],tt)}catch(Nt){wn(b,b.return,Nt)}}y&&j&64&&xv(N),Ya(N,N.return);break;case 26:case 27:case 5:zo(w,N,y),y&&b===null&&j&4&&tm(N),Ya(N,N.return);break;case 12:zo(w,N,y);break;case 13:zo(w,N,y),y&&j&4&&Ul(w,N);break;case 22:N.memoizedState===null&&zo(w,N,y),Ya(N,N.return);break;default:zo(w,N,y)}f=f.sibling}}function jh(u,f){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&Qu(y))}function Xh(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Qu(u))}function Ir(u,f,y,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Ma(u,f,y,b),f=f.sibling}function Ma(u,f,y,b){var w=f.flags;switch(f.tag){case 0:case 11:case 15:Ir(u,f,y,b),w&2048&&Ju(9,f);break;case 3:Ir(u,f,y,b),w&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Qu(u)));break;case 12:if(w&2048){Ir(u,f,y,b),u=f.stateNode;try{var N=f.memoizedProps,j=N.id,tt=N.onPostCommit;typeof tt=="function"&&tt(j,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(pt){wn(f,f.return,pt)}}else Ir(u,f,y,b);break;case 23:break;case 22:N=f.stateNode,f.memoizedState!==null?N._visibility&4?Ir(u,f,y,b):lr(u,f):N._visibility&4?Ir(u,f,y,b):(N._visibility|=4,Zi(u,f,y,b,(f.subtreeFlags&10256)!==0)),w&2048&&jh(f.alternate,f);break;case 24:Ir(u,f,y,b),w&2048&&Xh(f.alternate,f);break;default:Ir(u,f,y,b)}}function Zi(u,f,y,b,w){for(w=w&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var N=u,j=f,tt=y,pt=b,Nt=j.flags;switch(j.tag){case 0:case 11:case 15:Zi(N,j,tt,pt,w),Ju(8,j);break;case 23:break;case 22:var Zt=j.stateNode;j.memoizedState!==null?Zt._visibility&4?Zi(N,j,tt,pt,w):lr(N,j):(Zt._visibility|=4,Zi(N,j,tt,pt,w)),w&&Nt&2048&&jh(j.alternate,j);break;case 24:Zi(N,j,tt,pt,w),w&&Nt&2048&&Xh(j.alternate,j);break;default:Zi(N,j,tt,pt,w)}f=f.sibling}}function lr(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=u,b=f,w=b.flags;switch(b.tag){case 22:lr(y,b),w&2048&&jh(b.alternate,b);break;case 24:lr(y,b),w&2048&&Xh(b.alternate,b);break;default:lr(y,b)}f=f.sibling}}function Fr(u){if(u.subtreeFlags&cl)for(u=u.child;u!==null;)ef(u),u=u.sibling}function ef(u){switch(u.tag){case 26:Fr(u),u.flags&cl&&(u.memoizedState!==null?Um(ps,u.memoizedState,u.memoizedProps):vm(u.type,u.memoizedProps));break;case 5:Fr(u),u.flags&cl&&vm(u.type,u.memoizedProps);break;case 3:case 4:if(aa){var f=ps;ps=Oi(u.stateNode.containerInfo),Fr(u),ps=f}else Fr(u);break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=cl,cl=16777216,Fr(u),cl=f):Fr(u));break;default:Fr(u)}}function nf(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Ol(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];De=b,af(b,u)}nf(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Hr(u),u=u.sibling}function Hr(u){switch(u.tag){case 0:case 11:case 15:Ol(u),u.flags&2048&&Po(9,u,u.return);break;case 3:Ol(u);break;case 12:Ol(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,sf(u)):Ol(u);break;default:Ol(u)}}function sf(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];De=b,af(b,u)}nf(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Po(8,f,f.return),sf(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,sf(f));break;default:sf(f)}u=u.sibling}}function af(u,f){for(;De!==null;){var y=De;switch(y.tag){case 0:case 11:case 15:Po(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var b=y.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Qu(y.memoizedState.cache)}if(b=y.child,b!==null)b.return=y,De=b;else t:for(y=u;De!==null;){b=De;var w=b.sibling,N=b.return;if(Gh(b),b===y){De=null;break t}if(w!==null){w.return=N,De=w;break t}De=N}}}function Bo(u){var f=Jh(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(u=Pv(u),u===null)throw Error(s(362));return u.stateNode.current}function qh(u,f){var y=u.tag;switch(f.$$typeof){case Zn:if(u.type===f.value)return!0;break;case ir:t:{for(f=f.value,u=[u,0],y=0;y<u.length;){var b=u[y++],w=b.tag,N=u[y++],j=f[N];if(w!==5&&w!==26&&w!==27||!pr(b)){for(;j!=null&&qh(b,j);)N++,j=f[N];if(N===f.length){f=!0;break t}else for(b=b.child;b!==null;)u.push(b,N),b=b.sibling}}f=!1}return f;case _r:if((y===5||y===26||y===27)&&Bv(u.stateNode,f.value))return!0;break;case Rs:if((y===5||y===6||y===26||y===27)&&(u=zv(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case tu:if((y===5||y===26||y===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Vs(u){switch(u.$$typeof){case Zn:return"<"+(o(u.value)||"Unknown")+">";case ir:return":has("+(Vs(u)||"")+")";case _r:return'[role="'+u.value+'"]';case Rs:return'"'+u.value+'"';case tu:return'[data-testname="'+u.value+'"]';default:throw Error(s(365))}}function Pl(u,f){var y=[];u=[u,0];for(var b=0;b<u.length;){var w=u[b++],N=w.tag,j=u[b++],tt=f[j];if(N!==5&&N!==26&&N!==27||!pr(w)){for(;tt!=null&&qh(w,tt);)j++,tt=f[j];if(j===f.length)y.push(w);else for(w=w.child;w!==null;)u.push(w,j),w=w.sibling}}return y}function Vo(u,f){if(!jc)throw Error(s(363));u=Bo(u),u=Pl(u,f),f=[],u=Array.from(u);for(var y=0;y<u.length;){var b=u[y++],w=b.tag;if(w===5||w===26||w===27)pr(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)u.push(b),b=b.sibling}return f}function os(){if(rn&2&&on!==0)return on&-on;if(Pe.T!==null){var u=Yn;return u!==0?u:ce()}return Cv()}function rf(){ca===0&&(ca=!(on&536870912)||yn?V():536870912);var u=ks.current;return u!==null&&(u.flags|=32),ca}function kn(u,f,y){(u===Pn&&Nn===2||u.cancelPendingCommit!==null)&&(Io(u,0),Ts(u,on,ca,!1)),X(u,y),(!(rn&2)||u!==Pn)&&(u===Pn&&(!(rn&2)&&(lo|=y),Jn===4&&Ts(u,on,ca,!1)),Qt(u))}function ia(u,f,y){if(rn&6)throw Error(s(327));var b=!y&&(f&60)===0&&(f&u.expiredLanes)===0||P(u,f),w=b?_v(u,f):lf(u,f,!0),N=b;do{if(w===0){La&&!b&&Ts(u,f,0,!1);break}else if(w===6)Ts(u,f,0,!Na);else{if(y=u.current.alternate,N&&!kr(y)){w=lf(u,f,!1),N=!1;continue}if(w===2){if(N=f,u.errorRecoveryDisabledLanes&N)var j=0;else j=u.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){f=j;t:{var tt=u;w=eu;var pt=Fs&&tt.current.memoizedState.isDehydrated;if(pt&&(Io(tt,j).flags|=256),j=lf(tt,j,!1),j!==2){if(Kl&&!pt){tt.errorRecoveryDisabledLanes|=N,lo|=N,w=4;break t}N=Oa,Oa=w,N!==null&&Gr(N)}w=j}if(N=!1,w!==2)continue}}if(w===1){Io(u,0),Ts(u,f,0,!0);break}t:{switch(b=u,w){case 0:case 1:throw Error(s(345));case 4:if((f&4194176)===f){Ts(b,f,ca,!Na);break t}break;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(s(329))}if(b.finishedWork=y,b.finishedLanes=f,(f&62914560)===f&&(N=Fm+300-ra(),10<N)){if(Ts(b,f,ca,!Na),B(b,0)!==0)break t;b.timeoutHandle=$h(cr.bind(null,b,y,Oa,Ql,vd,f,ca,lo,Ai,Na,2,-0,0),N);break t}cr(b,y,Oa,Ql,vd,f,ca,lo,Ai,Na,0,-0,0)}}break}while(!0);Qt(u)}function Gr(u){Oa===null?Oa=u:Oa.push.apply(Oa,u)}function cr(u,f,y,b,w,N,j,tt,pt,Nt,Zt,re,Wt){var je=f.subtreeFlags;if((je&8192||(je&16785408)===16785408)&&(tS(),ef(f),f=Nv(),f!==null)){u.cancelPendingCommit=f(Wh.bind(null,u,y,b,w,j,tt,pt,1,re,Wt)),Ts(u,N,j,!Nt);return}Wh(u,y,b,w,j,tt,pt,Zt,re,Wt)}function kr(u){for(var f=u;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var b=0;b<y.length;b++){var w=y[b],N=w.getSnapshot;w=w.value;try{if(!As(N(),w))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ts(u,f,y,b){f&=~Ds,f&=~lo,u.suspendedLanes|=f,u.pingedLanes&=~f,b&&(u.warmLanes|=f),b=u.expirationTimes;for(var w=f;0<w;){var N=31-ui(w),j=1<<N;b[N]=-1,w&=~j}y!==0&&st(u,y,f)}function lm(){return rn&6?!0:(q(0),!1)}function of(){if($e!==null){if(Nn===0)var u=$e.return;else u=$e,Da=ll=null,qa(u),Wl=null,ds=0,u=$e;for(;u!==null;)yv(u.alternate,u),u=u.return;$e=null}}function Io(u,f){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;y!==kc&&(u.timeoutHandle=kc,gf(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),of(),Pn=u,$e=y=Xr(u.current,null),on=f,Nn=0,Ei=null,Na=!1,La=P(u,f),Kl=!1,Ai=ca=Ds=lo=Ua=Jn=0,Oa=eu=null,vd=!1,f&8&&(f|=f&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=f;0<b;){var w=31-ui(b),N=1<<w;f|=u[w],b&=~N}return sr=f,Y(),y}function ls(u,f){Ge=null,Pe.H=pi,f===bf?(f=Le(),Nn=3):f===Mf?(f=Le(),Nn=4):Nn=f===Vm?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ei=f,$e===null&&(Jn=1,Cc(u,vt(f,u.current)))}function Ii(){var u=ks.current;return u===null?!0:(on&4194176)===on?Ca===null:(on&62914560)===on||on&536870912?u===Ca:!1}function vn(){var u=Pe.H;return Pe.H=pi,u===null?pi:u}function Ta(){var u=Pe.A;return Pe.A=oo,u}function Ea(){Jn=4,Na||(on&4194176)!==on&&ks.current!==null||(La=!0),!(Ua&134217727)&&!(lo&134217727)||Pn===null||Ts(Pn,on,ca,!1)}function lf(u,f,y){var b=rn;rn|=2;var w=vn(),N=Ta();(Pn!==u||on!==f)&&(Ql=null,Io(u,f)),f=!1;var j=Jn;t:do try{if(Nn!==0&&$e!==null){var tt=$e,pt=Ei;switch(Nn){case 8:of(),j=6;break t;case 3:case 2:case 6:ks.current===null&&(f=!0);var Nt=Nn;if(Nn=0,Ei=null,ur(u,tt,pt,Nt),y&&La){j=0;break t}break;default:Nt=Nn,Nn=0,Ei=null,ur(u,tt,pt,Nt)}}zl(),j=Jn;break}catch(Zt){ls(u,Zt)}while(!0);return f&&u.shellSuspendCounter++,Da=ll=null,rn=b,Pe.H=w,Pe.A=N,$e===null&&(Pn=null,on=0,Y()),j}function zl(){for(;$e!==null;)zc($e)}function _v(u,f){var y=rn;rn|=2;var b=vn(),w=Ta();Pn!==u||on!==f?(Ql=null,ua=ra()+500,Io(u,f)):La=P(u,f);t:do try{if(Nn!==0&&$e!==null){f=$e;var N=Ei;e:switch(Nn){case 1:Nn=0,Ei=null,ur(u,f,N,1);break;case 2:if(zt(N)){Nn=0,Ei=null,Bc(f);break}f=function(){Nn===2&&Pn===u&&(Nn=7),Qt(u)},N.then(f,f);break t;case 3:Nn=7;break t;case 4:Nn=5;break t;case 7:zt(N)?(Nn=0,Ei=null,Bc(f)):(Nn=0,Ei=null,ur(u,f,N,7));break;case 5:var j=null;switch($e.tag){case 26:j=$e.memoizedState;case 5:case 27:var tt=$e,pt=tt.type,Nt=tt.pendingProps;if(j?Lm(j):gm(pt,Nt)){Nn=0,Ei=null;var Zt=tt.sibling;if(Zt!==null)$e=Zt;else{var re=tt.return;re!==null?($e=re,Fo(re)):$e=null}break e}}Nn=0,Ei=null,ur(u,f,N,5);break;case 6:Nn=0,Ei=null,ur(u,f,N,6);break;case 8:of(),Jn=6;break t;default:throw Error(s(462))}}Sv();break}catch(Wt){ls(u,Wt)}while(!0);return Da=ll=null,Pe.H=b,Pe.A=w,rn=y,$e!==null?0:(Pn=null,on=0,Y(),Jn)}function Sv(){for(;$e!==null&&!tl();)zc($e)}function zc(u){var f=mv(u.alternate,u,sr);u.memoizedProps=u.pendingProps,f===null?Fo(u):$e=f}function Bc(u){var f=u,y=f.alternate;switch(f.tag){case 15:case 0:f=cv(y,f,f.pendingProps,f.type,void 0,on);break;case 11:f=cv(y,f,f.pendingProps,f.type.render,f.ref,on);break;case 5:qa(f);default:yv(y,f),f=$e=Bl(f,sr),f=mv(y,f,sr)}u.memoizedProps=u.pendingProps,f===null?Fo(u):$e=f}function ur(u,f,y,b){Da=ll=null,qa(f),Wl=null,ds=0;var w=f.return;try{if(W1(u,w,f,y,on)){Jn=1,Cc(u,vt(y,u.current)),$e=null;return}}catch(N){if(w!==null)throw $e=w,N;Jn=1,Cc(u,vt(y,u.current)),$e=null;return}f.flags&32768?(yn||b===1?u=!0:La||on&536870912?u=!1:(Na=u=!0,(b===2||b===3||b===6)&&(b=ks.current,b!==null&&b.tag===13&&(b.flags|=16384))),cm(f,u)):Fo(f)}function Fo(u){var f=u;do{if(f.flags&32768){cm(f,Na);return}u=f.return;var y=vv(f.alternate,f,sr);if(y!==null){$e=y;return}if(f=f.sibling,f!==null){$e=f;return}$e=f=u}while(f!==null);Jn===0&&(Jn=5)}function cm(u,f){do{var y=Z1(u.alternate,u);if(y!==null){y.flags&=32767,$e=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(u=u.sibling,u!==null)){$e=u;return}$e=u=y}while(u!==null);Jn=6,$e=null}function Wh(u,f,y,b,w,N,j,tt,pt,Nt){var Zt=Pe.T,re=Qo();try{Es(2),Pe.T=null,bv(u,f,y,b,re,w,N,j,tt,pt,Nt)}finally{Pe.T=Zt,Es(re)}}function bv(u,f,y,b,w,N,j,tt){do Ho();while(ul!==null);if(rn&6)throw Error(s(327));var pt=u.finishedWork;if(b=u.finishedLanes,pt===null)return null;if(u.finishedWork=null,u.finishedLanes=0,pt===u.current)throw Error(s(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Nt=pt.lanes|pt.childLanes;if(Nt|=tr,dt(u,b,Nt,N,j,tt),u===Pn&&($e=Pn=null,on=0),!(pt.subtreeFlags&10256)&&!(pt.flags&10256)||co||(co=!0,yd=Nt,wf=y,Mv(Wc,function(){return Ho(),null})),y=(pt.flags&15990)!==0,pt.subtreeFlags&15990||y?(y=Pe.T,Pe.T=null,N=Qo(),Es(2),j=rn,rn|=4,sm(u,pt),rm(pt,u),J1(u.containerInfo),u.current=pt,Oc(u,pt.alternate,pt),Jr(),rn=j,Es(N),Pe.T=y):u.current=pt,co?(co=!1,ul=u,nu=b):cf(u,Nt),Nt=u.pendingLanes,Nt===0&&(br=null),W(pt.stateNode),Qt(u),f!==null)for(w=u.onRecoverableError,pt=0;pt<f.length;pt++)Nt=f[pt],w(Nt.value,{componentStack:Nt.stack});return nu&3&&Ho(),Nt=u.pendingLanes,b&4194218&&Nt&42?u===Hm?$l++:($l=0,Hm=u):$l=0,q(0),null}function cf(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Qu(f)))}function Ho(){if(ul!==null){var u=ul,f=yd;yd=0;var y=mt(nu),b=32>y?32:y;y=Pe.T;var w=Qo();try{if(Es(b),Pe.T=null,ul===null)var N=!1;else{b=wf,wf=null;var j=ul,tt=nu;if(ul=null,nu=0,rn&6)throw Error(s(331));var pt=rn;if(rn|=4,Hr(j.current),Ma(j,j.current,tt,b),rn=pt,q(0,!1),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(Yc,j)}catch{}N=!0}return N}finally{Es(w),Pe.T=y,cf(u,f)}}return!1}function Vc(u,f,y){f=vt(y,f),f=Dc(u.stateNode,f,2),u=ve(u,f,2),u!==null&&(X(u,2),Qt(u))}function wn(u,f,y){if(u.tag===3)Vc(u,u,y);else for(;f!==null;){if(f.tag===3){Vc(f,u,y);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(br===null||!br.has(b))){u=vt(y,u),y=Xp(2),b=ve(f,y,2),b!==null&&(sv(y,b,f,u),X(b,2),Qt(b));break}}f=f.return}}function Go(u,f,y){var b=u.pingCache;if(b===null){b=u.pingCache=new Af;var w=new Set;b.set(f,w)}else w=b.get(f),w===void 0&&(w=new Set,b.set(f,w));w.has(y)||(Kl=!0,w.add(y),u=uf.bind(null,u,f,y),f.then(u,u))}function uf(u,f,y){var b=u.pingCache;b!==null&&b.delete(f),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,Pn===u&&(on&y)===y&&(Jn===4||Jn===3&&(on&62914560)===on&&300>ra()-Fm?!(rn&2)&&Io(u,0):Ds|=y,Ai===on&&(Ai=0)),Qt(u)}function ff(u,f){f===0&&(f=U()),u=$t(u,f),u!==null&&(X(u,f),Qt(u))}function hf(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),ff(u,y)}function Yh(u,f){var y=0;switch(u.tag){case 13:var b=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(s(314))}b!==null&&b.delete(f),ff(u,y)}function Mv(u,f){return gr(u,f)}function Tv(u,f,y,b){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Xr(u,f){var y=u.alternate;return y===null?(y=e(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&31457280,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function Bl(u,f){u.flags&=31457282;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,f=y.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Vl(u,f,y,b,w,N){var j=0;if(b=u,typeof u=="function")jr(u)&&(j=1);else if(typeof u=="string")j=aa&&Fi?Ui(u,y,fi.current)?26:ld(u)?27:5:aa?Ui(u,y,fi.current)?26:5:Fi&&ld(u)?27:5;else t:switch(u){case Xo:return ko(y.children,w,N,f);case Il:j=8,w|=24;break;case qo:return u=e(12,y,f,w|2),u.elementType=qo,u.lanes=N,u;case Yr:return u=e(13,y,f,w),u.elementType=Yr,u.lanes=N,u;case pf:return u=e(19,y,f,w),u.elementType=pf,u.lanes=N,u;case Kr:return Zh(y,w,N,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Q1:case Wo:j=10;break t;case hm:j=9;break t;case Kh:j=11;break t;case Fc:j=14;break t;case Zr:j=16,b=null;break t}j=29,y=Error(s(130,u===null?"null":typeof u,"")),b=null}return f=e(j,y,f,w),f.elementType=u,f.type=b,f.lanes=N,f}function ko(u,f,y,b){return u=e(7,u,b,f),u.lanes=y,u}function Zh(u,f,y,b){u=e(22,u,b,f),u.elementType=Kr,u.lanes=y;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=w._current;if(N===null)throw Error(s(456));if(!(w._pendingVisibility&2)){var j=$t(N,2);j!==null&&(w._pendingVisibility|=2,kn(j,N,2))}},attach:function(){var N=w._current;if(N===null)throw Error(s(456));if(w._pendingVisibility&2){var j=$t(N,2);j!==null&&(w._pendingVisibility&=-3,kn(j,N,2))}}};return u.stateNode=w,u}function df(u,f,y){return u=e(6,u,null,f),u.lanes=y,u}function Is(u,f,y){return f=e(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function fr(u,f,y,b,w,N,j,tt){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=kc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=b,this.onUncaughtError=w,this.onCaughtError=N,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function qr(u,f,y,b,w,N,j,tt,pt,Nt,Zt,re){return u=new fr(u,f,y,j,tt,pt,Nt,re),f=1,N===!0&&(f|=24),N=e(3,null,null,f),u.current=N,N.stateNode=u,f=Oo(),f.refCount++,u.pooledCache=f,f.refCount++,N.memoizedState={element:b,isDehydrated:y,cache:f},Yt(N),u}function um(u){return u?(u=Xl,u):Xl}function Wr(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(s(188)):(u=Object.keys(u).join(","),Error(s(268,u)));return u=_(f),u=u!==null?T(u):null,u===null?null:Fl(u.stateNode)}function hr(u,f,y,b,w,N){w=um(w),b.context===null?b.context=w:b.pendingContext=w,b=xe(f),b.payload={element:y},N=N===void 0?null:N,N!==null&&(b.callback=N),y=ve(u,b,f),y!==null&&(kn(y,u,f),de(y,u,f))}function Si(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function Ic(u,f){Si(u,f),(u=u.alternate)&&Si(u,f)}var an={},K1=Ep(),sa=PT(),li=Object.assign,fm=Symbol.for("react.element"),jo=Symbol.for("react.transitional.element"),dr=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),qo=Symbol.for("react.profiler"),Q1=Symbol.for("react.provider"),hm=Symbol.for("react.consumer"),Wo=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Yr=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),Kr=Symbol.for("react.offscreen"),Qe=Symbol.for("react.memo_cache_sentinel"),Dn=Symbol.iterator,bi=Symbol.for("react.client.reference"),Pe=K1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yo,Zo,Hc=!1,Ko=Array.isArray,Gc=t.rendererVersion,$1=t.rendererPackageName,si=t.extraDevToolsConfig,Fl=t.getPublicInstance,dm=t.getRootHostContext,Ev=t.getChildHostContext,Av=t.prepareForCommit,J1=t.resetAfterCommit,pm=t.createInstance,mf=t.appendInitialChild,Qh=t.finalizeInitialChildren,Ki=t.shouldSetTextContent,ci=t.createTextInstance,$h=t.scheduleTimeout,gf=t.cancelTimeout,kc=t.noTimeout,Za=t.isPrimaryRenderer;t.warnsIfNotActing;var Qn=t.supportsMutation,Ka=t.supportsPersistence,Fs=t.supportsHydration,Jh=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var wv=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Es=t.setCurrentUpdatePriority,Qo=t.getCurrentUpdatePriority,Cv=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var Rv=t.shouldAttemptEagerTransition,Dv=t.detachDeletedInstance;t.requestPostPaintCallback;var mm=t.maySuspendCommit,gm=t.preloadInstance,tS=t.startSuspendingCommit,vm=t.suspendInstance,Nv=t.waitForCommitToBeReady,Hl=t.NotPendingTransition,Qr=t.HostTransitionContext,Lv=t.resetFormInstance;t.bindToConsole;var Uv=t.supportsMicrotasks,Ov=t.scheduleMicrotask,jc=t.supportsTestSelectors,Pv=t.findFiberRoot,eS=t.getBoundingRect,zv=t.getTextContent,pr=t.isHiddenSubtree,Bv=t.matchAccessibilityRole,td=t.setFocusIfFocusable,ed=t.setupIntersectionObserver,Vv=t.appendChild,ym=t.appendChildToContainer,Iv=t.commitTextUpdate,Fv=t.commitMount,Hv=t.commitUpdate,Gv=t.insertBefore,xm=t.insertInContainerBefore,kv=t.removeChild,jv=t.removeChildFromContainer,nd=t.resetTextContent,Xv=t.hideInstance,qv=t.hideTextInstance,nS=t.unhideInstance,_m=t.unhideTextInstance,Wv=t.clearContainer,Yv=t.cloneInstance,id=t.createContainerChildSet,Sm=t.appendChildToContainerChildSet,Zv=t.finalizeContainerChildren,Kv=t.replaceContainerChildren,Qv=t.cloneHiddenInstance,bm=t.cloneHiddenTextInstance,Gl=t.isSuspenseInstancePending,vf=t.isSuspenseInstanceFallback,sd=t.getSuspenseInstanceFallbackErrorDetails,$v=t.registerSuspenseInstanceRetry,Jv=t.canHydrateFormStateMarker,mr=t.isFormStateMarkerMatching,$o=t.getNextHydratableSibling,$r=t.getFirstHydratableChild,kl=t.getFirstHydratableChildWithinContainer,Mm=t.getFirstHydratableChildWithinSuspenseInstance,Tm=t.canHydrateInstance,ty=t.canHydrateTextInstance,ey=t.canHydrateSuspenseInstance,jl=t.hydrateInstance,ad=t.hydrateTextInstance,ny=t.hydrateSuspenseInstance,iy=t.getNextHydratableInstanceAfterSuspenseInstance,sy=t.commitHydratedContainer,rd=t.commitHydratedSuspenseInstance,ay=t.clearSuspenseBoundary,Em=t.clearSuspenseBoundaryFromContainer,Am=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var ry=t.validateHydratableInstance,iS=t.validateHydratableTextInstance,aa=t.supportsResources,Ui=t.isHostHoistableType,Oi=t.getHoistableRoot,wm=t.getResource,Cm=t.acquireResource,Rm=t.releaseResource,oy=t.hydrateHoistable,Dm=t.mountHoistable,Xc=t.unmountHoistable,Nm=t.createHoistableInstance,ly=t.prepareToCommitHoistables,cy=t.mayResourceSuspendCommit,Lm=t.preloadResource,Um=t.suspendResource,Fi=t.supportsSingletons,od=t.resolveSingletonInstance,uy=t.clearSingleton,Om=t.acquireSingletonInstance,Pm=t.releaseSingletonInstance,ld=t.isHostSingletonType,cd=[],Jo=-1,Xl={},ui=Math.clz32?Math.clz32:D,zm=Math.log,sS=Math.LN2,yf=128,qc=4194304,gr=sa.unstable_scheduleCallback,Qa=sa.unstable_cancelCallback,tl=sa.unstable_shouldYield,Jr=sa.unstable_requestPaint,ra=sa.unstable_now,ud=sa.unstable_ImmediatePriority,xf=sa.unstable_UserBlockingPriority,Wc=sa.unstable_NormalPriority,ql=sa.unstable_IdlePriority,cs=sa.log,fd=sa.unstable_setDisableYieldValue,Yc=null,Mi=null,As=typeof Object.is=="function"?Object.is:Q,hd=new WeakMap,oa=[],la=0,el=null,Zc=0,Hs=[],us=0,$a=null,vr=1,yr="",fi=E(null),Aa=E(null),to=E(null),_f=E(null),hi=null,Un=null,yn=!1,wa=null,Ja=!1,Sf=Error(s(519)),Gs=[],eo=0,tr=0,Wn=null,nl=null,dd=!1,di=!1,pd=!1,Kc=0,Qc=null,md=0,Yn=0,Hi=null,fs=!1,gd=!1,fy=Object.prototype.hasOwnProperty,bf=Error(s(460)),Mf=Error(s(474)),ws={then:function(){}},hs=null,Wl=null,ds=0,il=ss(!0),xr=ss(!1),er=E(null),nr=E(0),ks=E(null),Ca=null,jn=E(0),no=0,Ge=null,bn=null,$n=null,io=!1,Yl=!1,sl=!1,al=0,$c=0,so=null,hy=0,Bm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},pi={readContext:Yi,use:gt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke};pi.useCacheRefresh=Ke,pi.useMemoCache=Ke,pi.useHostTransitionStatus=Ke,pi.useFormState=Ke,pi.useActionState=Ke,pi.useOptimistic=Ke;var ao={readContext:Yi,use:gt,useCallback:function(u,f){return H().memoizedState=[u,f===void 0?null:f],u},useContext:Yi,useEffect:Hp,useImperativeHandle:function(u,f,y){y=y!=null?y.concat([u]):null,Rh(4194308,4,Hu.bind(null,f,u),y)},useLayoutEffect:function(u,f){return Rh(4194308,4,u,f)},useInsertionEffect:function(u,f){Rh(4,2,u,f)},useMemo:function(u,f){var y=H();f=f===void 0?null:f;var b=u();if(sl){et(!0);try{u()}finally{et(!1)}}return y.memoizedState=[b,f],b},useReducer:function(u,f,y){var b=H();if(y!==void 0){var w=y(f);if(sl){et(!0);try{y(f)}finally{et(!1)}}}else w=f;return b.memoizedState=b.baseState=w,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:w},b.queue=u,u=u.dispatch=Uh.bind(null,Ge,u),[b.memoizedState,u]},useRef:function(u){var f=H();return u={current:u},f.memoizedState=u},useState:function(u){u=mn(u);var f=u.queue,y=jp.bind(null,Ge,f);return f.dispatch=y,[u.memoizedState,y]},useDebugValue:Gu,useDeferredValue:function(u,f){var y=H();return Nh(y,u,f)},useTransition:function(){var u=mn(!1);return u=Gp.bind(null,Ge,u.queue,!0,!1),H().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,y){var b=Ge,w=H();if(yn){if(y===void 0)throw Error(s(407));y=y()}else{if(y=f(),Pn===null)throw Error(s(349));on&60||Oe(b,f,y)}w.memoizedState=y;var N={value:y,getSnapshot:f};return w.queue=N,Hp(ln.bind(null,b,N,u),[u]),b.flags|=2048,Wa(9,Ae.bind(null,b,N,y,f),{destroy:void 0},null),y},useId:function(){var u=H(),f=Pn.identifierPrefix;if(yn){var y=yr,b=vr;y=(b&~(1<<32-ui(b)-1)).toString(32)+y,f=":"+f+"R"+y,y=al++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=hy++,f=":"+f+"r"+y.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return H().memoizedState=kp.bind(null,Ge)}};ao.useMemoCache=ut,ao.useHostTransitionStatus=ku,ao.useFormState=Rn,ao.useActionState=Rn,ao.useOptimistic=function(u){var f=H();f.memoizedState=f.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=Ec.bind(null,Ge,!0,y),y.dispatch=f,[u,f]};var Cs={readContext:Yi,use:gt,useCallback:Cl,useContext:Yi,useEffect:Fu,useImperativeHandle:Dh,useInsertionEffect:ev,useLayoutEffect:nv,useMemo:Rl,useReducer:Jt,useRef:bs,useState:function(){return Jt(Gt)},useDebugValue:Gu,useDeferredValue:function(u,f){var y=rt();return Lh(y,bn.memoizedState,u,f)},useTransition:function(){var u=Jt(Gt)[0],f=rt().memoizedState;return[typeof u=="boolean"?u:_t(u),f]},useSyncExternalStore:Ue,useId:Tc};Cs.useCacheRefresh=Ur,Cs.useMemoCache=ut,Cs.useHostTransitionStatus=ku,Cs.useFormState=rs,Cs.useActionState=rs,Cs.useOptimistic=function(u,f){var y=rt();return Ie(y,bn,u,f)};var rl={readContext:Yi,use:gt,useCallback:Cl,useContext:Yi,useEffect:Fu,useImperativeHandle:Dh,useInsertionEffect:ev,useLayoutEffect:nv,useMemo:Rl,useReducer:se,useRef:bs,useState:function(){return se(Gt)},useDebugValue:Gu,useDeferredValue:function(u,f){var y=rt();return bn===null?Nh(y,u,f):Lh(y,bn.memoizedState,u,f)},useTransition:function(){var u=se(Gt)[0],f=rt().memoizedState;return[typeof u=="boolean"?u:_t(u),f]},useSyncExternalStore:Ue,useId:Tc};rl.useCacheRefresh=Ur,rl.useMemoCache=ut,rl.useHostTransitionStatus=ku,rl.useFormState=Vi,rl.useActionState=Vi,rl.useOptimistic=function(u,f){var y=rt();return bn!==null?Ie(y,bn,u,f):(y.baseState=u,[u,y.queue.dispatch])};var Jc={isMounted:function(u){return(u=u._reactInternals)?v(u)===u:!1},enqueueSetState:function(u,f,y){u=u._reactInternals;var b=os(),w=xe(b);w.payload=f,y!=null&&(w.callback=y),f=ve(u,w,b),f!==null&&(kn(f,u,b),de(f,u,b))},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var b=os(),w=xe(b);w.tag=1,w.payload=f,y!=null&&(w.callback=y),f=ve(u,w,b),f!==null&&(kn(f,u,b),de(f,u,b))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=os(),b=xe(y);b.tag=2,f!=null&&(b.callback=f),f=ve(u,b,y),f!==null&&(kn(f,u,y),de(f,u,y))}},ol=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Vm=Error(s(461)),Ti=!1,Tf={dehydrated:null,treeContext:null,retryLane:0},Ra=E(null),ll=null,Da=null,Ef=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(y,b){u.push(b)}};this.abort=function(){f.aborted=!0,u.forEach(function(y){return y()})}},ei=sa.unstable_scheduleCallback,aS=sa.unstable_NormalPriority,ai={$$typeof:Wo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Im=Pe.S;Pe.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&ee(u,f),Im!==null&&Im(u,f)};var Zl=E(null),ro=!1,ke=!1,On=!1,nn=typeof WeakSet=="function"?WeakSet:Set,De=null,Vn=!1,Mn=null,mi=!1,ps=null,cl=8192,oo={getCacheForType:function(u){var f=Yi(ai),y=f.data.get(u);return y===void 0&&(y=u(),f.data.set(u,y)),y}},Zn=0,ir=1,_r=2,tu=3,Rs=4;if(typeof Symbol=="function"&&Symbol.for){var Sr=Symbol.for;Zn=Sr("selector.component"),ir=Sr("selector.has_pseudo_class"),_r=Sr("selector.role"),tu=Sr("selector.test_id"),Rs=Sr("selector.text")}var Af=typeof WeakMap=="function"?WeakMap:Map,rn=0,Pn=null,$e=null,on=0,Nn=0,Ei=null,Na=!1,La=!1,Kl=!1,sr=0,Jn=0,Ua=0,lo=0,Ds=0,ca=0,Ai=0,eu=null,Oa=null,vd=!1,Fm=0,ua=1/0,Ql=null,br=null,co=!1,ul=null,nu=0,yd=0,wf=null,$l=0,Hm=null;return an.attemptContinuousHydration=function(u){if(u.tag===13){var f=$t(u,67108864);f!==null&&kn(f,u,67108864),Ic(u,67108864)}},an.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=os(),y=$t(u,f);y!==null&&kn(y,u,f),Ic(u,f)}},an.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=L(u.pendingLanes);if(f!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;f;){var y=1<<31-ui(f);u.entanglements[1]|=y,f&=~y}Qt(u),!(rn&6)&&(ua=ra()+500,q(0))}}break;case 13:f=$t(u,2),f!==null&&kn(f,u,2),lm(),Ic(u,2)}},an.batchedUpdates=function(u,f){return u(f)},an.createComponentSelector=function(u){return{$$typeof:Zn,value:u}},an.createContainer=function(u,f,y,b,w,N,j,tt,pt,Nt){return qr(u,f,!1,null,y,b,N,j,tt,pt,Nt,null)},an.createHasPseudoClassSelector=function(u){return{$$typeof:ir,value:u}},an.createHydrationContainer=function(u,f,y,b,w,N,j,tt,pt,Nt,Zt,re,Wt){return u=qr(y,b,!0,u,w,N,tt,pt,Nt,Zt,re,Wt),u.context=um(null),y=u.current,b=os(),w=xe(b),w.callback=f??null,ve(y,w,b),u.current.lanes=b,X(u,b),Qt(u),u},an.createPortal=function(u,f,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:b==null?null:""+b,children:u,containerInfo:f,implementation:y}},an.createRoleSelector=function(u){return{$$typeof:_r,value:u}},an.createTestNameSelector=function(u){return{$$typeof:tu,value:u}},an.createTextSelector=function(u){return{$$typeof:Rs,value:u}},an.defaultOnCaughtError=function(u){console.error(u)},an.defaultOnRecoverableError=function(u){ol(u)},an.defaultOnUncaughtError=function(u){ol(u)},an.deferredUpdates=function(u){var f=Pe.T,y=Qo();try{return Es(32),Pe.T=null,u()}finally{Es(y),Pe.T=f}},an.discreteUpdates=function(u,f,y,b,w){var N=Pe.T,j=Qo();try{return Es(2),Pe.T=null,u(f,y,b,w)}finally{Es(j),Pe.T=N,rn===0&&(ua=ra()+500)}},an.findAllNodes=Vo,an.findBoundingRects=function(u,f){if(!jc)throw Error(s(363));f=Vo(u,f),u=[];for(var y=0;y<f.length;y++)u.push(eS(f[y]));for(f=u.length-1;0<f;f--){y=u[f];for(var b=y.x,w=b+y.width,N=y.y,j=N+y.height,tt=f-1;0<=tt;tt--)if(f!==tt){var pt=u[tt],Nt=pt.x,Zt=Nt+pt.width,re=pt.y,Wt=re+pt.height;if(b>=Nt&&N>=re&&w<=Zt&&j<=Wt){u.splice(f,1);break}else if(b!==Nt||y.width!==pt.width||Wt<N||re>j){if(!(N!==re||y.height!==pt.height||Zt<b||Nt>w)){Nt>b&&(pt.width+=Nt-b,pt.x=b),Zt<w&&(pt.width=w-Nt),u.splice(f,1);break}}else{re>N&&(pt.height+=re-N,pt.y=N),Wt<j&&(pt.height=j-re),u.splice(f,1);break}}}return u},an.findHostInstance=Wr,an.findHostInstanceWithNoPortals=function(u){return u=_(u),u=u!==null?C(u):null,u===null?null:Fl(u.stateNode)},an.findHostInstanceWithWarning=function(u){return Wr(u)},an.flushPassiveEffects=Ho,an.flushSyncFromReconciler=function(u){var f=rn;rn|=1;var y=Pe.T,b=Qo();try{if(Es(2),Pe.T=null,u)return u()}finally{Es(b),Pe.T=y,rn=f,!(rn&6)&&q(0)}},an.flushSyncWork=lm,an.focusWithin=function(u,f){if(!jc)throw Error(s(363));for(u=Bo(u),f=Pl(u,f),f=Array.from(f),u=0;u<f.length;){var y=f[u++],b=y.tag;if(!pr(y)){if((b===5||b===26||b===27)&&td(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},an.getFindAllNodesFailureDescription=function(u,f){if(!jc)throw Error(s(363));var y=0,b=[];u=[Bo(u),0];for(var w=0;w<u.length;){var N=u[w++],j=N.tag,tt=u[w++],pt=f[tt];if((j!==5&&j!==26&&j!==27||!pr(N))&&(qh(N,pt)&&(b.push(Vs(pt)),tt++,tt>y&&(y=tt)),tt<f.length))for(N=N.child;N!==null;)u.push(N,tt),N=N.sibling}if(y<f.length){for(u=[];y<f.length;y++)u.push(Vs(f[y]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},an.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return Fl(u.child.stateNode);default:return u.child.stateNode}},an.injectIntoDevTools=function(){var u={bundleType:0,version:Gc,rendererPackageName:$1,currentDispatcherRef:Pe,findFiberByHostInstance:Jh,reconcilerVersion:"19.0.0"};if(si!==null&&(u.rendererConfig=si),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Yc=f.inject(u),Mi=f}catch{}u=!!f.checkDCE}}return u},an.isAlreadyRendering=function(){return!1},an.observeVisibleRects=function(u,f,y,b){if(!jc)throw Error(s(363));u=Vo(u,f);var w=ed(u,y,b).disconnect;return{disconnect:function(){w()}}},an.shouldError=function(){return null},an.shouldSuspend=function(){return!1},an.startHostTransition=function(u,f,y,b){if(u.tag!==5)throw Error(s(476));var w=Mc(u).queue;Gp(u,w,f,Hl,y===null?i:function(){var N=Mc(u).next.queue;return Do(u,N,{},os()),y(b)})},an.updateContainer=function(u,f,y,b){var w=f.current,N=os();return hr(w,N,u,f,y,b),N},an.updateContainerSync=function(u,f,y,b){return f.tag===0&&Ho(),hr(f.current,2,u,f,y,b),2},an},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(nM)),nM.exports}var M3;function JQ(){return M3||(M3=1,eM.exports=$Q()),eM.exports}var t$=JQ();const e$=N0(t$);var T3=PT();const n$=n=>typeof n=="object"&&typeof n.then=="function",ah=[];function nB(n,t,e=(i,s)=>i===s){if(n===t)return!0;if(!n||!t)return!1;const i=n.length;if(t.length!==i)return!1;for(let s=0;s<i;s++)if(!e(n[s],t[s]))return!1;return!0}function iB(n,t=null,e=!1,i={}){t===null&&(t=[n]);for(const r of ah)if(nB(t,r.keys,r.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!e)throw r.promise}const s={keys:t,equal:i.equal,remove:()=>{const r=ah.indexOf(s);r!==-1&&ah.splice(r,1)},promise:(n$(n)?n:n(...t)).then(r=>{s.response=r,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(r=>s.error=r)};if(ah.push(s),!e)throw s.promise}const i$=(n,t,e)=>iB(n,t,!1,e),s$=(n,t,e)=>void iB(n,t,!0,e),a$=n=>{if(n===void 0||n.length===0)ah.splice(0,ah.length);else{const t=ah.find(e=>nB(n,e.keys,e.equal));t&&t.remove()}};function GA(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const s=GA(i,t,e);if(s)return s;i=t?null:i.sibling}}function sB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const kA=sB(K.createContext(null));let aB=class extends K.Component{render(){return K.createElement(kA.Provider,{value:this._reactInternals},this.props.children)}};function rB(){const n=K.useContext(kA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=K.useId();return K.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=GA(e,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(i)return i}},[n,t])}const r$=Symbol.for("react.context"),o$=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===r$;function l$(){const n=rB(),[t]=K.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;o$(i)&&i!==kA&&!t.has(i)&&t.set(i,K.use(sB(i))),e=e.return}return t}function c$(){const n=l$();return K.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>K.createElement(t,null,K.createElement(e.Provider,{...i,value:n.get(e)})),t=>K.createElement(aB,{...t})),[n])}function oB(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const lB=n=>n&&n.isOrthographicCamera,u$=n=>n&&n.hasOwnProperty("current"),f$=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),$0=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?K.useLayoutEffect:K.useEffect;function cB(n){const t=K.useRef(n);return $0(()=>void(t.current=n),[n]),t}function h$(){const n=rB(),t=c$();return K.useMemo(()=>({children:e})=>{const s=!!GA(n,!0,r=>r.type===K.StrictMode)?K.StrictMode:K.Fragment;return J.jsx(s,{children:J.jsx(t,{children:e})})},[n,t])}function d$({set:n}){return $0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const p$=(n=>(n=class extends K.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function uB(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function Hd(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const ri={obj:n=>n===Object(n)&&!ri.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(ri.str(n)||ri.num(n)||ri.boo(n))return n===t;const r=ri.obj(n);if(r&&i==="reference")return n===t;const o=ri.arr(n);if(o&&e==="reference")return n===t;if((o||r)&&n===t)return!0;let c;for(c in n)if(!(c in t))return!1;if(r&&e==="shallow"&&i==="shallow"){for(c in s?t:n)if(!ri.equ(n[c],t[c],{strict:s,objects:"reference"}))return!1}else for(c in s?t:n)if(n[c]!==t[c])return!1;if(ri.und(c)){if(o&&n.length===0&&t.length===0||r&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function m$(n){const t={nodes:{},materials:{}};return n&&n.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}function g$(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const fB=["children","key","ref"];function v$(n){const t={};for(const e in n)fB.includes(e)||(t[e]=n[e]);return t}function Z_(n,t,e,i){const s=n;let r=s==null?void 0:s.__r3f;return r||(r={root:t,type:e,parent:null,children:[],props:v$(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function R0(n,t){var e;let i=n[t];if(!t.includes("-"))return{root:n,key:t,target:i};const s=t.split("-");return i=s.reduce((r,o)=>r[o],n),t=s.pop(),(e=i)!=null&&e.set||(n=s.reduce((r,o)=>r[o],n)),{root:n,key:t,target:i}}const E3=/-\d+$/;function K_(n,t){if(ri.str(t.props.attach)){if(E3.test(t.props.attach)){const s=t.props.attach.replace(E3,""),{root:r,key:o}=R0(n.object,s);Array.isArray(r[o])||(r[o]=[])}const{root:e,key:i}=R0(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else ri.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function Q_(n,t){if(ri.str(t.props.attach)){const{root:e,key:i}=R0(n.object,t.props.attach),s=t.previousAttach;s===void 0?delete e[i]:e[i]=s}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const ST=[...fB,"args","dispose","attach","object","onUpdate","dispose"],A3=new Map;function y$(n){let t=A3.get(n.constructor);try{t||(t=new n.constructor,A3.set(n.constructor,t))}catch{}return t}function x$(n,t){const e={};for(const i in t)if(!ST.includes(i)&&!ri.equ(t[i],n.props[i])){e[i]=t[i];for(const s in t)s.startsWith(`${i}-`)&&(e[s]=t[s])}for(const i in n.props){if(ST.includes(i)||t.hasOwnProperty(i))continue;const{root:s,key:r}=R0(n.object,i);if(s.constructor&&s.constructor.length===0){const o=y$(s);ri.und(o)||(e[r]=o[r])}else e[r]=0}return e}const _$=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],S$=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Eu(n,t){var e;const i=n.__r3f,s=i&&oB(i).getState(),r=i==null?void 0:i.eventCount;for(const c in t){let h=t[c];if(ST.includes(c))continue;if(i&&S$.test(c)){typeof h=="function"?i.handlers[c]=h:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:v}=R0(n,c);if(v instanceof Sp&&h instanceof Sp)v.mask=h.mask;else if(v instanceof fe&&f$(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var o;p[m]=h,s&&!s.linear&&_$.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===Qs&&p[m].type===Eo&&(p[m].colorSpace=Zs)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(e=i.object)!=null&&e.isObject3D&&r!==i.eventCount){const c=i.object,h=s.internal.interaction.indexOf(c);h>-1&&s.internal.interaction.splice(h,1),i.eventCount&&c.raycast!==null&&s.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Vp(i),n}function Vp(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function b$(n,t){n.manual||(lB(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const pa=n=>n==null?void 0:n.isObject3D;function Nx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function hB(n,t,e,i){const s=e.get(t);s&&(e.delete(t),e.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function M$(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,s)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(s)}),e.capturedMap.forEach((i,s)=>{hB(e.capturedMap,t,i,s)})}function T$(n){function t(h){const{internal:p}=n.getState(),m=h.offsetX-p.initialClick[0],v=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function e(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(h,p){const m=n.getState(),v=new Set,x=[],_=p?p(m.internal.interaction):m.internal.interaction;for(let M=0;M<_.length;M++){const R=Hd(_[M]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function T(M){const R=Hd(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(h,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let C=_.flatMap(T).sort((M,R)=>{const D=Hd(M.object),L=Hd(R.object);return!D||!L?M.distance-R.distance:L.events.priority-D.events.priority||M.distance-R.distance}).filter(M=>{const R=Nx(M);return v.has(R)?!1:(v.add(R),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const M of C){let R=M.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&x.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let M of m.internal.capturedMap.get(h.pointerId).values())v.has(Nx(M.intersection))||x.push(M.intersection);return x}function s(h,p,m,v){if(h.length){const x={stopped:!1};for(const _ of h){let T=Hd(_.object);if(T||_.object.traverseAncestors(C=>{const E=Hd(C);if(E)return T=E,!1}),T){const{raycaster:C,pointer:E,camera:M,internal:R}=T,D=new Z(E.x,E.y,0).unproject(M),L=U=>{var z,X;return(z=(X=R.capturedMap.get(U))==null?void 0:X.has(_.eventObject))!=null?z:!1},B=U=>{const z={intersection:_,target:p.target};R.capturedMap.has(U)?R.capturedMap.get(U).set(_.eventObject,z):R.capturedMap.set(U,new Map([[_.eventObject,z]])),p.target.setPointerCapture(U)},P=U=>{const z=R.capturedMap.get(U);z&&hB(R.capturedMap,_.eventObject,z,U)};let I={};for(let U in p){let z=p[U];typeof z!="function"&&(I[U]=z)}let V={..._,...I,pointer:E,intersections:h,stopped:x.stopped,delta:m,unprojectedPoint:D,ray:C.ray,camera:M,stopPropagation(){const U="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!U||U.has(_.eventObject))&&(V.stopped=x.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(z=>z.eventObject===_.eventObject))){const z=h.slice(0,h.indexOf(_));r([...z,_])}},target:{hasPointerCapture:L,setPointerCapture:B,releasePointerCapture:P},currentTarget:{hasPointerCapture:L,setPointerCapture:B,releasePointerCapture:P},nativeEvent:p};if(v(V),x.stopped===!0)break}}}return h}function r(h){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!h.length||!h.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(p.hovered.delete(Nx(m)),x!=null&&x.eventCount){const _=x.handlers,T={...m,intersections:h};_.onPointerOut==null||_.onPointerOut(T),_.onPointerLeave==null||_.onPointerLeave(T)}}}function o(h,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function c(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),r([]))})}}return function(m){const{onPointerMissed:v,internal:x}=n.getState();x.lastEvent.current=m;const _=h==="onPointerMove",T=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=i(m,_?e:void 0),M=T?t(m):0;h==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=E.map(D=>D.eventObject)),T&&!E.length&&M<=2&&(o(m,x.interaction),v&&v(m)),_&&r(E);function R(D){const L=D.eventObject,B=L.__r3f;if(!(B!=null&&B.eventCount))return;const P=B.handlers;if(_){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const I=Nx(D),V=x.hovered.get(I);V?V.stopped&&D.stopPropagation():(x.hovered.set(I,D),P.onPointerOver==null||P.onPointerOver(D),P.onPointerEnter==null||P.onPointerEnter(D))}P.onPointerMove==null||P.onPointerMove(D)}else{const I=P[h];I?(!T||x.initialHits.includes(L))&&(o(m,x.interaction.filter(V=>!x.initialHits.includes(V))),I(D)):T&&x.initialHits.includes(L)&&o(m,x.interaction.filter(V=>!x.initialHits.includes(V)))}}s(E,m,M,R)}}return{handlePointer:c}}const w3=n=>!!(n!=null&&n.render),dB=K.createContext(null),E$=(n,t)=>{const e=QQ((c,h)=>{const p=new Z,m=new Z,v=new Z;function x(M=h().camera,R=m,D=h().size){const{width:L,height:B,top:P,left:I}=D,V=L/B;R.isVector3?v.copy(R):v.set(...R);const U=M.getWorldPosition(p).distanceTo(v);if(lB(M))return{width:L/M.zoom,height:B/M.zoom,top:P,left:I,factor:1,distance:U,aspect:V};{const z=M.fov*Math.PI/180,X=2*Math.tan(z/2)*U,dt=X*(L/B);return{width:dt,height:X,top:P,left:I,factor:L/dt,distance:U,aspect:V}}}let _;const T=M=>c(R=>({performance:{...R.performance,current:M}})),C=new Vt;return{set:c,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(h(),M),advance:(M,R)=>t(M,R,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zA,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=h();_&&clearTimeout(_),M.performance.current!==M.performance.min&&T(M.performance.min),_=setTimeout(()=>T(h().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:M=>c(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,D=0,L=0)=>{const B=h().camera,P={width:M,height:R,top:D,left:L};c(I=>({size:P,viewport:{...I.viewport,...x(B,m,P)}}))},setDpr:M=>c(R=>{const D=uB(M);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const R=h().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),c(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:K.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,D)=>{const L=h().internal;return L.priority=L.priority+(R>0?1:0),L.subscribers.push({ref:M,priority:R,store:D}),L.subscribers=L.subscribers.sort((B,P)=>B.priority-P.priority),()=>{const B=h().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(R>0?1:0),B.subscribers=B.subscribers.filter(P=>P.ref!==M))}}}}}),i=e.getState();let s=i.size,r=i.viewport.dpr,o=i.camera;return e.subscribe(()=>{const{camera:c,size:h,viewport:p,gl:m,set:v}=e.getState();if(h.width!==s.width||h.height!==s.height||p.dpr!==r){s=h,r=p.dpr,b$(c,h),p.dpr>0&&m.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,x)}c!==o&&(o=c,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(c)}})))}),e.subscribe(c=>n(c)),e};function pB(){const n=K.useContext(dB);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function A$(n=e=>e,t){return pB()(n,t)}function jA(n,t=0){const e=pB(),i=e.getState().internal.subscribe,s=cB(n);return $0(()=>i(s,t,e),[t,i,e]),null}const C3=new WeakMap,w$=n=>{var t;return typeof n=="function"&&(n==null||(t=n.prototype)==null?void 0:t.constructor)===n};function mB(n,t){return function(e,...i){let s;return w$(e)?(s=C3.get(e),s||(s=new e,C3.set(e,s))):s=e,n&&n(s),Promise.all(i.map(r=>new Promise((o,c)=>s.load(r,h=>{pa(h==null?void 0:h.scene)&&Object.assign(h,m$(h.scene)),o(h)},t,h=>c(new Error(`Could not load ${r}: ${h==null?void 0:h.message}`))))))}}function gB(n,t,e,i){const s=Array.isArray(t)?t:[t],r=i$(mB(e,i),[n,...s],{equal:ri.equ});return Array.isArray(t)?r:r[0]}gB.preload=function(n,t,e){const i=Array.isArray(t)?t:[t];return s$(mB(e),[n,...i])};gB.clear=function(n,t){const e=Array.isArray(t)?t:[t];return a$([n,...e])};function C$(n){const t=e$(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:K.version}),t}const vB=0,Tp={},R$=/^three(?=[A-Z])/,q1=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let D$=0;const N$=n=>typeof n=="function";function L$(n){if(N$(n)){const t=`${D$++}`;return Tp[t]=n,t}else Object.assign(Tp,n)}function yB(n,t){const e=q1(n),i=Tp[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function U$(n,t,e){var i;return n=q1(n)in Tp?n:n.replace(R$,""),yB(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,Z_(t.object,e,n,t)}function O$(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?Q_(n.parent,n):pa(n.object)&&(n.object.visible=!1),n.isHidden=!0,Vp(n)}}function xB(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?K_(n.parent,n):pa(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Vp(n)}}function XA(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var s,r;const o=Tp[q1(t.type)];t.object=(s=t.props.object)!=null?s:new o(...(r=t.props.args)!=null?r:[]),t.object.__r3f=t}if(Eu(t.object,t.props),t.props.attach)K_(n,t);else if(pa(t.object)&&pa(n.object)){const o=n.object.children.indexOf(e==null?void 0:e.object);e&&o!==-1?(t.object.parent=n.object,n.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})):n.object.add(t.object)}for(const o of t.children)XA(t,o);Vp(t)}}function iM(n,t){t&&(t.parent=n,n.children.push(t),XA(n,t))}function R3(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),XA(n,t,e)}function _B(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():T3.unstable_scheduleCallback(T3.unstable_IdlePriority,t)}}function bT(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?Q_(n,t):pa(t.object)&&pa(n.object)&&(n.object.remove(t.object),M$(oB(t),t.object));const s=t.props.dispose!==null&&e!==!1;for(let r=t.children.length-1;r>=0;r--){const o=t.children[r];bT(t,o,s)}t.children.length=0,delete t.object.__r3f,s&&t.type!=="primitive"&&t.object.type!=="Scene"&&_B(t.object),e===void 0&&Vp(t)}function P$(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const Qx=[];function z$(){for(const[e]of Qx){const i=e.parent;if(i){e.props.attach?Q_(i,e):pa(e.object)&&pa(i.object)&&i.object.remove(e.object);for(const s of e.children)s.props.attach?Q_(e,s):pa(s.object)&&pa(e.object)&&e.object.remove(s.object)}e.isHidden&&xB(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&_B(e.object)}for(const[e,i,s]of Qx){e.props=i;const r=e.parent;if(r){var n,t;const o=Tp[q1(e.type)];e.object=(n=e.props.object)!=null?n:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,P$(s,e.object),Eu(e.object,e.props),e.props.attach?K_(r,e):pa(e.object)&&pa(r.object)&&r.object.add(e.object);for(const c of e.children)c.props.attach?K_(e,c):pa(c.object)&&pa(e.object)&&e.object.add(c.object);Vp(e)}}Qx.length=0}const sM=()=>{},D3={};let Lx=vB;const B$=0,V$=4,MT=C$({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:U$,removeChild:bT,appendChild:iM,appendInitialChild:iM,insertBefore:R3,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||iM(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||bT(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||R3(i,t,e)},getRootHostContext:()=>D3,getChildHostContext:()=>D3,commitUpdate(n,t,e,i,s){var r,o,c;yB(t,i);let h=!1;if((n.type==="primitive"&&e.object!==i.object||((r=i.args)==null?void 0:r.length)!==((o=e.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,v)=>{var x;return m!==((x=e.args)==null?void 0:x[v])}))&&(h=!0),h)Qx.push([n,{...i},s]);else{const m=x$(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Eu(n.object,m))}(s.sibling===null||(s.flags&V$)===B$)&&z$()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>Z_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:O$,unhideInstance:xB,createTextInstance:sM,hideTextInstance:sM,unhideTextInstance:sM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:K.createContext(null),setCurrentUpdatePriority(n){Lx=n},getCurrentUpdatePriority(){return Lx},resolveUpdatePriority(){var n;if(Lx!==vB)return Lx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Kx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Kx.ContinuousEventPriority;default:return Kx.DefaultEventPriority}},resetFormInstance(){}}),_h=new Map,Gd={objects:"shallow",strict:!1};function I$(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:s,left:r}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:s,left:r}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function F$(n){const t=_h.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=i||E$(AT,L3),o=e||MT.createContainer(r,Kx.ConcurrentRoot,null,!1,null,"",s,s,s,null);t||_h.set(n,{fiber:o,store:r});let c,h,p=!1,m=null;return{async configure(v={}){let x;m=new Promise(nt=>x=nt);let{gl:_,size:T,scene:C,events:E,onCreated:M,shadows:R=!1,linear:D=!1,flat:L=!1,legacy:B=!1,orthographic:P=!1,frameloop:I="always",dpr:V=[1,2],performance:U,raycaster:z,camera:X,onPointerMissed:dt}=v,st=r.getState(),at=st.gl;if(!st.gl){const nt={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Et=typeof _=="function"?await _(nt):_;w3(Et)?at=Et:at=new tB({...nt,..._}),st.set({gl:at})}let mt=st.raycaster;mt||st.set({raycaster:mt=new Xz});const{params:W,...et}=z||{};if(ri.equ(et,mt,Gd)||Eu(mt,{...et}),ri.equ(W,mt.params,Gd)||Eu(mt,{params:{...mt.params,...W}}),!st.camera||st.camera===h&&!ri.equ(h,X,Gd)){h=X;const nt=X==null?void 0:X.isCamera,Et=nt?X:P?new Eh(0,0,0,0,.1,1e3):new ji(75,0,.1,1e3);nt||(Et.position.z=5,X&&(Eu(Et,X),Et.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(Et.manual=!0,Et.updateProjectionMatrix())),!st.camera&&!(X!=null&&X.rotation)&&Et.lookAt(0,0,0)),st.set({camera:Et}),mt.camera=Et}if(!st.scene){let nt;C!=null&&C.isScene?(nt=C,Z_(nt,r,"",{})):(nt=new gA,Z_(nt,r,"",{}),C&&Eu(nt,C)),st.set({scene:nt})}E&&!st.events.handlers&&st.set({events:E(r)});const Q=I$(n,T);if(ri.equ(Q,st.size,Gd)||st.setSize(Q.width,Q.height,Q.top,Q.left),V&&st.viewport.dpr!==uB(V)&&st.setDpr(V),st.frameloop!==I&&st.setFrameloop(I),st.onPointerMissed||st.set({onPointerMissed:dt}),U&&!ri.equ(U,st.performance,Gd)&&st.set(nt=>({performance:{...nt.performance,...U}})),!st.xr){var vt;const nt=(it,Tt)=>{const Ut=r.getState();Ut.frameloop!=="never"&&L3(it,!0,Ut,Tt)},Et=()=>{const it=r.getState();it.gl.xr.enabled=it.gl.xr.isPresenting,it.gl.xr.setAnimationLoop(it.gl.xr.isPresenting?nt:null),it.gl.xr.isPresenting||AT(it)},Ot={connect(){const it=r.getState().gl;it.xr.addEventListener("sessionstart",Et),it.xr.addEventListener("sessionend",Et)},disconnect(){const it=r.getState().gl;it.xr.removeEventListener("sessionstart",Et),it.xr.removeEventListener("sessionend",Et)}};typeof((vt=at.xr)==null?void 0:vt.addEventListener)=="function"&&Ot.connect(),st.set({xr:Ot})}if(at.shadowMap){const nt=at.shadowMap.enabled,Et=at.shadowMap.type;if(at.shadowMap.enabled=!!R,ri.boo(R))at.shadowMap.type=Fg;else if(ri.str(R)){var G;const Ot={basic:nP,percentage:d1,soft:Fg,variance:yo};at.shadowMap.type=(G=Ot[R])!=null?G:Fg}else ri.obj(R)&&Object.assign(at.shadowMap,R);(nt!==at.shadowMap.enabled||Et!==at.shadowMap.type)&&(at.shadowMap.needsUpdate=!0)}return _n.enabled=!B,p||(at.outputColorSpace=D?Du:Zs,at.toneMapping=L?yl:tA),st.legacy!==B&&st.set(()=>({legacy:B})),st.linear!==D&&st.set(()=>({linear:D})),st.flat!==L&&st.set(()=>({flat:L})),_&&!ri.fun(_)&&!w3(_)&&!ri.equ(_,at,Gd)&&Eu(at,_),c=M,p=!0,x(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{MT.updateContainer(J.jsx(H$,{store:r,children:v,onCreated:c,rootElement:n}),o,null,()=>{})}),r},unmount(){SB(n)}}}function H$({store:n,children:t,onCreated:e,rootElement:i}){return $0(()=>{const s=n.getState();s.set(r=>({internal:{...r.internal,active:!0}})),e&&e(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),J.jsx(dB.Provider,{value:n,children:t})}function SB(n,t){const e=_h.get(n),i=e==null?void 0:e.fiber;if(i){const s=e==null?void 0:e.store.getState();s&&(s.internal.active=!1),MT.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var r,o,c,h;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(c=s.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),g$(s.scene),_h.delete(n)}catch{}},500)})}}const G$=new Set,k$=new Set,j$=new Set;function aM(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function Kg(n,t){switch(n){case"before":return aM(G$,t);case"after":return aM(k$,t);case"tail":return aM(j$,t)}}let rM,oM;function TT(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),rM=t.internal.subscribers;for(let s=0;s<rM.length;s++)oM=rM[s],oM.ref.current(oM.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let $_=!1,ET=!1,lM,N3,kd;function bB(n){N3=requestAnimationFrame(bB),$_=!0,lM=0,Kg("before",n),ET=!0;for(const e of _h.values()){var t;kd=e.store.getState(),kd.internal.active&&(kd.frameloop==="always"||kd.internal.frames>0)&&!((t=kd.gl.xr)!=null&&t.isPresenting)&&(lM+=TT(n,kd))}if(ET=!1,Kg("after",n),lM===0)return Kg("tail",n),$_=!1,cancelAnimationFrame(N3)}function AT(n,t=1){var e;if(!n)return _h.forEach(i=>AT(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):ET?n.internal.frames=2:n.internal.frames=1,$_||($_=!0,requestAnimationFrame(bB)))}function L3(n,t=!0,e,i){if(t&&Kg("before",n),e)TT(n,e,i);else for(const s of _h.values())TT(n,s.store.getState());t&&Kg("after",n)}const cM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function X$(n){const{handlePointer:t}=T$(n);return{priority:1,enabled:!0,compute(e,i,s){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(cM).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:s}=n.getState();(e=s.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:e=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(r=>({events:{...r.events,connected:e}})),s.handlers)for(const r in s.handlers){const o=s.handlers[r],[c,h]=cM[r];e.addEventListener(c,o,{passive:h})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const r=i.handlers[s],[o]=cM[s];i.connected.removeEventListener(o,r)}e(s=>({events:{...s.events,connected:void 0}}))}}}}function U3(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function q$({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=K.useRef(!1);K.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,x,_]=K.useMemo(()=>{const M=()=>{if(!c.current.element)return;const{left:R,top:D,width:L,height:B,bottom:P,right:I,x:V,y:U}=c.current.element.getBoundingClientRect(),z={left:R,top:D,width:L,height:B,bottom:P,right:I,x:V,y:U};c.current.element instanceof HTMLElement&&i&&(z.height=c.current.element.offsetHeight,z.width=c.current.element.offsetWidth),Object.freeze(z),m.current&&!K$(c.current.lastBounds,z)&&o(c.current.lastBounds=z)};return[M,p?U3(M,p):M,h?U3(M,h):M]},[o,i,h,p]);function T(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",_,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function C(){c.current.element&&(c.current.resizeObserver=new s(_),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(M=>M.addEventListener("scroll",_,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=M=>{!M||M===c.current.element||(T(),c.current.element=M,c.current.scrollContainers=MB(M),C())};return Y$(_,!!t),W$(x),K.useEffect(()=>{T(),C()},[t,_,x]),K.useEffect(()=>T,[]),[E,r,v]}function W$(n){K.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function Y$(n,t){K.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function MB(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[e,i,s].some(r=>r==="auto"||r==="scroll")&&t.push(n),[...t,...MB(n.parentElement)]}const Z$=["x","y","top","bottom","left","right","width","height"],K$=(n,t)=>Z$.every(e=>n[e]===t[e]);function Q$({ref:n,children:t,fallback:e,resize:i,style:s,gl:r,events:o=X$,eventSource:c,eventPrefix:h,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:T,dpr:C,performance:E,raycaster:M,camera:R,scene:D,onPointerMissed:L,onCreated:B,...P}){K.useMemo(()=>L$(IQ),[]);const I=h$(),[V,U]=q$({scroll:!0,debounce:{scroll:50,resize:0},...i}),z=K.useRef(null),X=K.useRef(null);K.useImperativeHandle(n,()=>z.current);const dt=cB(L),[st,at]=K.useState(!1),[mt,W]=K.useState(!1);if(st)throw st;if(mt)throw mt;const et=K.useRef(null);$0(()=>{const vt=z.current;if(U.width>0&&U.height>0&&vt){et.current||(et.current=F$(vt));async function G(){await et.current.configure({gl:r,scene:D,events:o,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:T,dpr:C,performance:E,raycaster:M,camera:R,size:U,onPointerMissed:(...nt)=>dt.current==null?void 0:dt.current(...nt),onCreated:nt=>{nt.events.connect==null||nt.events.connect(c?u$(c)?c.current:c:X.current),h&&nt.setEvents({compute:(Et,Ot)=>{const it=Et[h+"X"],Tt=Et[h+"Y"];Ot.pointer.set(it/Ot.size.width*2-1,-(Tt/Ot.size.height)*2+1),Ot.raycaster.setFromCamera(Ot.pointer,Ot.camera)}}),B==null||B(nt)}}),et.current.render(J.jsx(I,{children:J.jsx(p$,{set:W,children:J.jsx(K.Suspense,{fallback:J.jsx(d$,{set:at}),children:t??null})})}))}G()}}),K.useEffect(()=>{const vt=z.current;if(vt)return()=>SB(vt)},[]);const Q=c?"none":"auto";return J.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...s},...P,children:J.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:J.jsx("canvas",{ref:z,style:{display:"block"},children:e})})})}function $$(n){return J.jsx(aB,{children:J.jsx(Q$,{...n})})}const qA="-",J$=n=>{const t=eJ(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const c=o.split(qA);return c[0]===""&&c.length!==1&&c.shift(),TB(c,t)||tJ(o)},getConflictingClassGroupIds:(o,c)=>{const h=e[o]||[];return c&&i[o]?[...h,...i[o]]:h}}},TB=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?TB(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(qA);return(o=t.validators.find(({validator:c})=>c(r)))==null?void 0:o.classGroupId},O3=/^\[(.+)\]$/,tJ=n=>{if(O3.test(n)){const t=O3.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},eJ=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const s in e)wT(e[s],i,s,t);return i},wT=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:P3(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(nJ(s)){wT(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,o])=>{wT(o,P3(t,r),e,i)})})},P3=(n,t)=>{let e=n;return t.split(qA).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},nJ=n=>n.isThemeGetter,iJ=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,o)=>{e.set(r,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let o=e.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){e.has(r)?e.set(r,o):s(r,o)}}},CT="!",RT=":",sJ=RT.length,aJ=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const r=[];let o=0,c=0,h=0,p;for(let T=0;T<s.length;T++){let C=s[T];if(o===0&&c===0){if(C===RT){r.push(s.slice(h,T)),h=T+sJ;continue}if(C==="/"){p=T;continue}}C==="["?o++:C==="]"?o--:C==="("?c++:C===")"&&c--}const m=r.length===0?s:s.substring(h),v=rJ(m),x=v!==m,_=p&&p>h?p-h:void 0;return{modifiers:r,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:_}};if(t){const s=t+RT,r=i;i=o=>o.startsWith(s)?r(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const s=i;i=r=>e({className:r,parseClassName:s})}return i},rJ=n=>n.endsWith(CT)?n.substring(0,n.length-1):n.startsWith(CT)?n.substring(1):n,oJ=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(o=>{o[0]==="["||t[o]?(s.push(...r.sort(),o),r=[]):r.push(o)}),s.push(...r.sort()),s}},lJ=n=>({cache:iJ(n.cacheSize),parseClassName:aJ(n),sortModifiers:oJ(n),...J$(n)}),cJ=/\s+/,uJ=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=t,o=[],c=n.trim().split(cJ);let h="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{isExternal:v,modifiers:x,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:C}=e(m);if(v){h=m+(h.length>0?" "+h:h);continue}let E=!!C,M=i(E?T.substring(0,C):T);if(!M){if(!E){h=m+(h.length>0?" "+h:h);continue}if(M=i(T),!M){h=m+(h.length>0?" "+h:h);continue}E=!1}const R=r(x).join(":"),D=_?R+CT:R,L=D+M;if(o.includes(L))continue;o.push(L);const B=s(M,E);for(let P=0;P<B.length;++P){const I=B[P];o.push(D+I)}h=m+(h.length>0?" "+h:h)}return h};function fJ(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=EB(t))&&(i&&(i+=" "),i+=e);return i}const EB=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=EB(n[i]))&&(e&&(e+=" "),e+=t);return e};function hJ(n,...t){let e,i,s,r=o;function o(h){const p=t.reduce((m,v)=>v(m),n());return e=lJ(p),i=e.cache.get,s=e.cache.set,r=c,c(h)}function c(h){const p=i(h);if(p)return p;const m=uJ(h,e);return s(h,m),m}return function(){return r(fJ.apply(null,arguments))}}const vs=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},AB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dJ=/^\d+\/\d+$/,pJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jd=n=>dJ.test(n),gn=n=>!!n&&!Number.isNaN(Number(n)),kf=n=>!!n&&Number.isInteger(Number(n)),z3=n=>n.endsWith("%")&&gn(n.slice(0,-1)),vu=n=>pJ.test(n),xJ=()=>!0,_J=n=>mJ.test(n)&&!gJ.test(n),WA=()=>!1,SJ=n=>vJ.test(n),bJ=n=>yJ.test(n),MJ=n=>!me(n)&&!ge(n),TJ=n=>Ip(n,DB,WA),me=n=>AB.test(n),jf=n=>Ip(n,NB,_J),uM=n=>Ip(n,PJ,gn),EJ=n=>Ip(n,CB,WA),AJ=n=>Ip(n,RB,bJ),wJ=n=>Ip(n,WA,SJ),ge=n=>wB.test(n),Ux=n=>Fp(n,NB),CJ=n=>Fp(n,zJ),RJ=n=>Fp(n,CB),DJ=n=>Fp(n,DB),NJ=n=>Fp(n,RB),LJ=n=>Fp(n,BJ,!0),Ip=(n,t,e)=>{const i=AB.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Fp=(n,t,e=!1)=>{const i=wB.exec(n);return i?i[1]?t(i[1]):e:!1},CB=n=>n==="position",UJ=new Set(["image","url"]),RB=n=>UJ.has(n),OJ=new Set(["length","size","percentage"]),DB=n=>OJ.has(n),NB=n=>n==="length",PJ=n=>n==="number",zJ=n=>n==="family-name",BJ=n=>n==="shadow",VJ=()=>{const n=vs("color"),t=vs("font"),e=vs("text"),i=vs("font-weight"),s=vs("tracking"),r=vs("leading"),o=vs("breakpoint"),c=vs("container"),h=vs("spacing"),p=vs("radius"),m=vs("shadow"),v=vs("inset-shadow"),x=vs("drop-shadow"),_=vs("blur"),T=vs("perspective"),C=vs("aspect"),E=vs("ease"),M=vs("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],P=()=>[jd,"px","full","auto",ge,me,h],I=()=>[kf,"none","subgrid",ge,me],V=()=>["auto",{span:["full",kf,ge,me]},ge,me],U=()=>[kf,"auto",ge,me],z=()=>["auto","min","max","fr",ge,me],X=()=>[ge,me,h],dt=()=>["start","end","center","between","around","evenly","stretch","baseline"],st=()=>["start","end","center","stretch"],at=()=>[ge,me,h],mt=()=>["px",...at()],W=()=>["px","auto",...at()],et=()=>[jd,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",ge,me,h],Q=()=>[n,ge,me],vt=()=>[z3,jf],G=()=>["","none","full",p,ge,me],nt=()=>["",gn,Ux,jf],Et=()=>["solid","dashed","dotted","double"],Ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],it=()=>["","none",_,ge,me],Tt=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge,me],Ut=()=>["none",gn,ge,me],It=()=>["none",gn,ge,me],kt=()=>[gn,ge,me],ye=()=>[jd,"full","px",ge,me,h];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vu],breakpoint:[vu],color:[xJ],container:[vu],"drop-shadow":[vu],ease:["in","out","in-out"],font:[MJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vu],shadow:[vu],spacing:[gn],text:[vu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jd,me,ge,C]}],container:["container"],columns:[{columns:[gn,me,ge,c]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),me,ge]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[kf,"auto",ge,me]}],basis:[{basis:[jd,"full","auto",ge,me,c,h]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gn,jd,"auto","initial","none",me]}],grow:[{grow:["",gn,ge,me]}],shrink:[{shrink:["",gn,ge,me]}],order:[{order:[kf,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...dt(),"normal"]}],"justify-items":[{"justify-items":[...st(),"normal"]}],"justify-self":[{"justify-self":["auto",...st()]}],"align-content":[{content:["normal",...dt()]}],"align-items":[{items:[...st(),"baseline"]}],"align-self":[{self:["auto",...st(),"baseline"]}],"place-content":[{"place-content":dt()}],"place-items":[{"place-items":[...st(),"baseline"]}],"place-self":[{"place-self":["auto",...st()]}],p:[{p:mt()}],px:[{px:mt()}],py:[{py:mt()}],ps:[{ps:mt()}],pe:[{pe:mt()}],pt:[{pt:mt()}],pr:[{pr:mt()}],pb:[{pb:mt()}],pl:[{pl:mt()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":at()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":at()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[c,"screen",...et()]}],"min-w":[{"min-w":[c,"screen","none",...et()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...et()]}],h:[{h:["screen",...et()]}],"min-h":[{"min-h":["screen","none",...et()]}],"max-h":[{"max-h":["screen",...et()]}],"font-size":[{text:["base",e,Ux,jf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ge,uM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",z3,me]}],"font-family":[{font:[CJ,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ge,me]}],"line-clamp":[{"line-clamp":[gn,"none",ge,uM]}],leading:[{leading:[ge,me,r,h]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Et(),"wavy"]}],"text-decoration-thickness":[{decoration:[gn,"from-font","auto",ge,jf]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[gn,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...at()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),RJ,EJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",DJ,TJ]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kf,ge,me],radial:["",ge,me],conic:[kf,ge,me]},NJ,AJ]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:vt()}],"gradient-via-pos":[{via:vt()}],"gradient-to-pos":[{to:vt()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:nt()}],"border-w-x":[{"border-x":nt()}],"border-w-y":[{"border-y":nt()}],"border-w-s":[{"border-s":nt()}],"border-w-e":[{"border-e":nt()}],"border-w-t":[{"border-t":nt()}],"border-w-r":[{"border-r":nt()}],"border-w-b":[{"border-b":nt()}],"border-w-l":[{"border-l":nt()}],"divide-x":[{"divide-x":nt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":nt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Et(),"hidden","none"]}],"divide-style":[{divide:[...Et(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Et(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gn,ge,me]}],"outline-w":[{outline:["",gn,Ux,jf]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",m,LJ,wJ]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",ge,me,v]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:nt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[gn,jf]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":nt()}],"inset-ring-color":[{"inset-ring":Q()}],opacity:[{opacity:[gn,ge,me]}],"mix-blend":[{"mix-blend":[...Ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ot()}],filter:[{filter:["","none",ge,me]}],blur:[{blur:it()}],brightness:[{brightness:[gn,ge,me]}],contrast:[{contrast:[gn,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",x,ge,me]}],grayscale:[{grayscale:["",gn,ge,me]}],"hue-rotate":[{"hue-rotate":[gn,ge,me]}],invert:[{invert:["",gn,ge,me]}],saturate:[{saturate:[gn,ge,me]}],sepia:[{sepia:["",gn,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[gn,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[gn,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gn,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gn,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",gn,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[gn,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[gn,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",gn,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":at()}],"border-spacing-x":[{"border-spacing-x":at()}],"border-spacing-y":[{"border-spacing-y":at()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gn,"initial",ge,me]}],ease:[{ease:["linear","initial",E,ge,me]}],delay:[{delay:[gn,ge,me]}],animate:[{animate:["none",M,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ge,me]}],"perspective-origin":[{"perspective-origin":Tt()}],rotate:[{rotate:Ut()}],"rotate-x":[{"rotate-x":Ut()}],"rotate-y":[{"rotate-y":Ut()}],"rotate-z":[{"rotate-z":Ut()}],scale:[{scale:It()}],"scale-x":[{"scale-x":It()}],"scale-y":[{"scale-y":It()}],"scale-z":[{"scale-z":It()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:Tt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":at()}],"scroll-mx":[{"scroll-mx":at()}],"scroll-my":[{"scroll-my":at()}],"scroll-ms":[{"scroll-ms":at()}],"scroll-me":[{"scroll-me":at()}],"scroll-mt":[{"scroll-mt":at()}],"scroll-mr":[{"scroll-mr":at()}],"scroll-mb":[{"scroll-mb":at()}],"scroll-ml":[{"scroll-ml":at()}],"scroll-p":[{"scroll-p":at()}],"scroll-px":[{"scroll-px":at()}],"scroll-py":[{"scroll-py":at()}],"scroll-ps":[{"scroll-ps":at()}],"scroll-pe":[{"scroll-pe":at()}],"scroll-pt":[{"scroll-pt":at()}],"scroll-pr":[{"scroll-pr":at()}],"scroll-pb":[{"scroll-pb":at()}],"scroll-pl":[{"scroll-pl":at()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[gn,Ux,jf,uM]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},D0=hJ(VJ),B3=({words:n,duration:t=3e3,className:e})=>{const[i,s]=K.useState(n[0]),[r,o]=K.useState(!1),c=K.useCallback(()=>{const h=n[n.indexOf(i)+1]||n[0];s(h),o(!0)},[i,n]);return K.useEffect(()=>{r||setTimeout(()=>{c()},t)},[r,t,c]),J.jsx(xG,{onExitComplete:()=>{o(!1)},children:J.jsx(ch.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},exit:{opacity:0,y:-40,x:40,filter:"blur(8px)",scale:2,position:"absolute"},className:D0("z-10 inline-block relative text-left",e),children:i.split(" ").map((h,p)=>J.jsxs(ch.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:p*.3,duration:.3},className:"inline-block whitespace-nowrap",children:[h.split("").map((m,v)=>J.jsx(ch.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:p*.3+v*.05,duration:.2},className:"inline-block",children:m},h+v)),J.jsx("span",{className:"inline-block",children:""})]},h+p))},i)})},IJ=()=>{const n=["Intelligent","Data-Driven","Impactful"],t={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0}};return J.jsxs("div",{className:"z-10 mt-20 text-center md:mt-40 md:text-left rounded-3xl bg-clip-text",children:[J.jsxs("div",{className:"flex-col hidden md:flex c-space",children:[J.jsx(Qi.h1,{className:"text-6xl font-extrabold tracking-tight text-white",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi, I'm Amit Sarkar"}),J.jsxs("div",{className:"flex flex-col items-start",children:[J.jsx(Qi.p,{className:"mt-3 text-2xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.2},children:"Web Developer crafting"}),J.jsx(Qi.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:J.jsx(B3,{words:n,className:"font-black text-white text-7xl"})}),J.jsx(Qi.p,{className:"mt-2 text-2xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"products and experiences."})]})]}),J.jsxs("div",{className:"flex- flex-col space-y-6 md:hidden",children:[J.jsx(Qi.p,{className:"text-4xl font-extrabold",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi, I'm Amit Sarkar"}),J.jsxs("div",{children:[J.jsx(Qi.p,{className:"text-3xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.2},children:"Web Developer crafting"}),J.jsx(Qi.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:J.jsx(B3,{words:n,className:"font-bold text-white text-5xl"})}),J.jsx(Qi.p,{className:"text-2xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"products and experiences."})]})]})]})};function FJ(n){n=n.replace("#",""),n.length===3&&(n=n.split("").map(r=>r+r).join(""));const t=parseInt(n,16),e=t>>16&255,i=t>>8&255,s=t&255;return[e,i,s]}const LB=({className:n="",quantity:t=50,staticity:e=60,ease:i=60,size:s=.3,refresh:r=!1,color:o="#ffffff",vx:c=0,vy:h=0,...p})=>{const m=K.useRef(null),v=K.useRef(null),x=K.useRef(null),_=K.useRef([]),T=K.useRef({x:0,y:0}),C=K.useRef({x:0,y:0}),E=K.useRef({w:0,h:0}),M=typeof window<"u"?window.devicePixelRatio:1,R=K.useRef(null),D=K.useRef(null),L=K.useRef(!0),B=K.useRef(0);K.useEffect(()=>{m.current&&(x.current=m.current.getContext("2d")),P(),mt();const W=()=>{D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{P()},200)};window.addEventListener("resize",W);const et=()=>{L.current=document.visibilityState==="visible",L.current&&R.current==null&&mt()};document.addEventListener("visibilitychange",et);let Q;typeof IntersectionObserver<"u"&&v.current&&(Q=new IntersectionObserver(G=>{const nt=G[0];L.current=(nt==null?void 0:nt.isIntersecting)&&document.visibilityState==="visible",L.current&&R.current==null&&mt()},{root:null,threshold:.01}),Q.observe(v.current));const vt=G=>{C.current.x=G.clientX,C.current.y=G.clientY,!B.current&&(B.current=window.requestAnimationFrame(()=>{B.current=0,I()}))};return window.addEventListener("mousemove",vt,{passive:!0}),()=>{var G;R.current!=null&&window.cancelAnimationFrame(R.current),B.current&&window.cancelAnimationFrame(B.current),D.current&&clearTimeout(D.current),window.removeEventListener("resize",W),window.removeEventListener("mousemove",vt),document.removeEventListener("visibilitychange",et),(G=Q==null?void 0:Q.disconnect)==null||G.call(Q)}},[o]),K.useEffect(()=>{P()},[r]);const P=()=>{V(),st()},I=()=>{if(m.current){const W=m.current.getBoundingClientRect(),{w:et,h:Q}=E.current,vt=C.current.x-W.left-et/2,G=C.current.y-W.top-Q/2;vt<et/2&&vt>-et/2&&G<Q/2&&G>-Q/2&&(T.current.x=vt,T.current.y=G)}},V=()=>{if(v.current&&m.current&&x.current){E.current.w=v.current.offsetWidth,E.current.h=v.current.offsetHeight,m.current.width=E.current.w*M,m.current.height=E.current.h*M,m.current.style.width=`${E.current.w}px`,m.current.style.height=`${E.current.h}px`,x.current.setTransform(M,0,0,M,0,0),_.current=[];for(let W=0;W<t;W++){const et=U();X(et)}}},U=()=>{const W=Math.floor(Math.random()*E.current.w),et=Math.floor(Math.random()*E.current.h),Q=0,vt=0,G=Math.floor(Math.random()*2)+s,nt=0,Et=parseFloat((Math.random()*.6+.1).toFixed(1)),Ot=(Math.random()-.5)*.1,it=(Math.random()-.5)*.1,Tt=.1+Math.random()*4;return{x:W,y:et,translateX:Q,translateY:vt,size:G,alpha:nt,targetAlpha:Et,dx:Ot,dy:it,magnetism:Tt}},z=FJ(o),X=(W,et=!1)=>{if(x.current){const{x:Q,y:vt,translateX:G,translateY:nt,size:Et,alpha:Ot}=W;x.current.translate(G,nt),x.current.beginPath(),x.current.arc(Q,vt,Et,0,2*Math.PI),x.current.fillStyle=`rgba(${z.join(", ")}, ${Ot})`,x.current.fill(),x.current.setTransform(M,0,0,M,0,0),et||_.current.push(W)}},dt=()=>{x.current&&x.current.clearRect(0,0,E.current.w,E.current.h)},st=()=>{dt();const W=t;for(let et=0;et<W;et++){const Q=U();X(Q)}},at=(W,et,Q,vt,G)=>{const nt=(W-et)*(G-vt)/(Q-et)+vt;return nt>0?nt:0},mt=()=>{if(!L.current){R.current=null;return}dt(),_.current.forEach((W,et)=>{const vt=[W.x+W.translateX-W.size,E.current.w-W.x-W.translateX-W.size,W.y+W.translateY-W.size,E.current.h-W.y-W.translateY-W.size].reduce((nt,Et)=>Math.min(nt,Et)),G=parseFloat(at(vt,0,20,0,1).toFixed(2));if(G>1?(W.alpha+=.02,W.alpha>W.targetAlpha&&(W.alpha=W.targetAlpha)):W.alpha=W.targetAlpha*G,W.x+=W.dx+c,W.y+=W.dy+h,W.translateX+=(T.current.x/(e/W.magnetism)-W.translateX)/i,W.translateY+=(T.current.y/(e/W.magnetism)-W.translateY)/i,X(W,!0),W.x<-W.size||W.x>E.current.w+W.size||W.y<-W.size||W.y>E.current.h+W.size){_.current.splice(et,1);const nt=U();X(nt)}}),R.current=window.requestAnimationFrame(mt)};return J.jsx("div",{className:D0("pointer-events-none",n),ref:v,"aria-hidden":"true",...p,children:J.jsx("canvas",{ref:m,className:"size-full"})})},HJ=()=>{const{scrollYProgress:n}=r6(),t=gU(n,{damping:50}),e=Oy(t,[0,.5],["0%","70%"]),i=Oy(t,[0,.5],["0%","-20%"]),s=Oy(t,[0,.5],["0%","30%"]),r=Oy(t,[0,.5],["0%","0%"]);return J.jsx("section",{className:"absolute inset-0 bg-black/40",children:J.jsxs("div",{className:"relative h-screen overflow-y-hidden",children:[J.jsx("div",{className:"absolute inset-0 w-full h-screen -z-50",style:{backgroundImage:"url(/assets/sky.jpg)",backgroundPosition:"bottom",backgroundSize:"cover"}}),J.jsx(Qi.div,{className:"absolute inset-0 -z-40",style:{backgroundImage:"url(/assets/mountain-3.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:e}}),J.jsx(Qi.div,{className:"absolute inset-0 -z-30",style:{backgroundImage:"url(/assets/planets.png)",backgroundPosition:"bottom",backgroundSize:"cover",x:i}}),J.jsx(Qi.div,{className:"absolute inset-0 -z-20",style:{backgroundImage:"url(/assets/mountain-2.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:s}}),J.jsx(Qi.div,{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/assets/mountain-1.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:r}})]})})};function DT(){return DT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},DT.apply(null,arguments)}const J0=new Z,YA=new Z,GJ=new Z,V3=new Vt;function kJ(n,t,e){const i=J0.setFromMatrixPosition(n.matrixWorld);i.project(t);const s=e.width/2,r=e.height/2;return[i.x*s+s,-(i.y*r)+r]}function jJ(n,t){const e=J0.setFromMatrixPosition(n.matrixWorld),i=YA.setFromMatrixPosition(t.matrixWorld),s=e.sub(i),r=t.getWorldDirection(GJ);return s.angleTo(r)>Math.PI/2}function XJ(n,t,e,i){const s=J0.setFromMatrixPosition(n.matrixWorld),r=s.clone();r.project(t),V3.set(r.x,r.y),e.setFromCamera(V3,t);const o=e.intersectObjects(i,!0);if(o.length){const c=o[0].distance;return s.distanceTo(e.ray.origin)<c}return!0}function qJ(n,t){if(t instanceof Eh)return t.zoom;if(t instanceof ji){const e=J0.setFromMatrixPosition(n.matrixWorld),i=YA.setFromMatrixPosition(t.matrixWorld),s=t.fov*Math.PI/180,r=e.distanceTo(i);return 1/(2*Math.tan(s/2)*r)}else return 1}function WJ(n,t,e){if(t instanceof ji||t instanceof Eh){const i=J0.setFromMatrixPosition(n.matrixWorld),s=YA.setFromMatrixPosition(t.matrixWorld),r=i.distanceTo(s),o=(e[1]-e[0])/(t.far-t.near),c=e[1]-o*t.far;return Math.round(o*r+c)}}const NT=n=>Math.abs(n)<1e-10?0:n;function UB(n,t,e=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=NT(t[s]*n.elements[s])+(s!==15?",":")");return e+i}const YJ=(n=>t=>UB(t,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),ZJ=(n=>(t,e)=>UB(t,n(e),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function KJ(n){return n&&typeof n=="object"&&"current"in n}const QJ=K.forwardRef(({children:n,eps:t=.001,style:e,className:i,prepend:s,center:r,fullscreen:o,portal:c,distanceFactor:h,sprite:p=!1,transform:m=!1,occlude:v,onOcclude:x,castShadow:_,receiveShadow:T,material:C,geometry:E,zIndexRange:M=[16777271,0],calculatePosition:R=kJ,as:D="div",wrapperClass:L,pointerEvents:B="auto",...P},I)=>{const{gl:V,camera:U,scene:z,size:X,raycaster:dt,events:st,viewport:at}=A$(),[mt]=K.useState(()=>document.createElement(D)),W=K.useRef(null),et=K.useRef(null),Q=K.useRef(0),vt=K.useRef([0,0]),G=K.useRef(null),nt=K.useRef(null),Et=(c==null?void 0:c.current)||st.connected||V.domElement.parentNode,Ot=K.useRef(null),it=K.useRef(!1),Tt=K.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&KJ(v[0]),[v]);K.useLayoutEffect(()=>{const qt=V.domElement;v&&v==="blending"?(qt.style.zIndex=`${Math.floor(M[0]/2)}`,qt.style.position="absolute",qt.style.pointerEvents="none"):(qt.style.zIndex=null,qt.style.position=null,qt.style.pointerEvents=null)},[v]),K.useLayoutEffect(()=>{if(et.current){const qt=W.current=UN.createRoot(mt);if(z.updateMatrixWorld(),m)mt.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const le=R(et.current,U,X);mt.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${le[0]}px,${le[1]}px,0);transform-origin:0 0;`}return Et&&(s?Et.prepend(mt):Et.appendChild(mt)),()=>{Et&&Et.removeChild(mt),qt.unmount()}}},[Et,m]),K.useLayoutEffect(()=>{L&&(mt.className=L)},[L]);const Ut=K.useMemo(()=>m?{position:"absolute",top:0,left:0,width:X.width,height:X.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...o&&{top:-X.height/2,left:-X.width/2,width:X.width,height:X.height},...e},[e,r,o,X,m]),It=K.useMemo(()=>({position:"absolute",pointerEvents:B}),[B]);K.useLayoutEffect(()=>{if(it.current=!1,m){var qt;(qt=W.current)==null||qt.render(K.createElement("div",{ref:G,style:Ut},K.createElement("div",{ref:nt,style:It},K.createElement("div",{ref:I,className:i,style:e,children:n}))))}else{var le;(le=W.current)==null||le.render(K.createElement("div",{ref:I,style:Ut,className:i,children:n}))}});const kt=K.useRef(!0);jA(qt=>{if(et.current){U.updateMatrixWorld(),et.current.updateWorldMatrix(!0,!1);const le=m?vt.current:R(et.current,U,X);if(m||Math.abs(Q.current-U.zoom)>t||Math.abs(vt.current[0]-le[0])>t||Math.abs(vt.current[1]-le[1])>t){const Pt=jJ(et.current,U);let Rt=!1;Tt&&(Array.isArray(v)?Rt=v.map($t=>$t.current):v!=="blending"&&(Rt=[z]));const Y=kt.current;if(Rt){const $t=XJ(et.current,U,dt,Rt);kt.current=$t&&!Pt}else kt.current=!Pt;Y!==kt.current&&(x?x(!kt.current):mt.style.display=kt.current?"block":"none");const ue=Math.floor(M[0]/2),Ht=v?Tt?[M[0],ue]:[ue-1,0]:M;if(mt.style.zIndex=`${WJ(et.current,U,Ht)}`,m){const[$t,Kt]=[X.width/2,X.height/2],Se=U.projectionMatrix.elements[5]*Kt,{isOrthographicCamera:Qt,top:q,left:F,bottom:yt,right:wt}=U,Ft=YJ(U.matrixWorldInverse),Dt=Qt?`scale(${Se})translate(${NT(-(wt+F)/2)}px,${NT((q+yt)/2)}px)`:`translateZ(${Se}px)`;let ce=et.current.matrixWorld;p&&(ce=U.matrixWorldInverse.clone().transpose().copyPosition(ce).scale(et.current.scale),ce.elements[3]=ce.elements[7]=ce.elements[11]=0,ce.elements[15]=1),mt.style.width=X.width+"px",mt.style.height=X.height+"px",mt.style.perspective=Qt?"":`${Se}px`,G.current&&nt.current&&(G.current.style.transform=`${Dt}${Ft}translate(${$t}px,${Kt}px)`,nt.current.style.transform=ZJ(ce,1/((h||10)/400)))}else{const $t=h===void 0?1:qJ(et.current,U)*h;mt.style.transform=`translate3d(${le[0]}px,${le[1]}px,0) scale(${$t})`}vt.current=le,Q.current=U.zoom}}if(!Tt&&Ot.current&&!it.current)if(m){if(G.current){const le=G.current.children[0];if(le!=null&&le.clientWidth&&le!=null&&le.clientHeight){const{isOrthographicCamera:Pt}=U;if(Pt||E)P.scale&&(Array.isArray(P.scale)?P.scale instanceof Z?Ot.current.scale.copy(P.scale.clone().divideScalar(1)):Ot.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):Ot.current.scale.setScalar(1/P.scale));else{const Rt=(h||10)/400,Y=le.clientWidth*Rt,ue=le.clientHeight*Rt;Ot.current.scale.set(Y,ue,1)}it.current=!0}}}else{const le=mt.children[0];if(le!=null&&le.clientWidth&&le!=null&&le.clientHeight){const Pt=1/at.factor,Rt=le.clientWidth*Pt,Y=le.clientHeight*Pt;Ot.current.scale.set(Rt,Y,1),it.current=!0}Ot.current.lookAt(qt.camera.position)}});const ye=K.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return K.createElement("group",DT({},P,{ref:et}),v&&!Tt&&K.createElement("mesh",{castShadow:_,receiveShadow:T,ref:Ot},E||K.createElement("planeGeometry",null),C||K.createElement("shaderMaterial",{side:_o,vertexShader:ye.vertexShader,fragmentShader:ye.fragmentShader})))}),$J=n=>n;function JJ(n,t=$J){const e=$g.useSyncExternalStore(n.subscribe,()=>t(n.getState()),()=>t(n.getInitialState()));return $g.useDebugValue(e),e}const I3=n=>{const t=eB(n),e=i=>JJ(t,i);return Object.assign(e,t),e},ttt=n=>n?I3(n):I3;let gg=0;const ett=ttt(n=>(up.onStart=(t,e,i)=>{n({active:!0,item:t,loaded:e,total:i,progress:(e-gg)/(i-gg)*100})},up.onLoad=()=>{n({active:!1})},up.onError=t=>n(e=>({errors:[...e.errors,t]})),up.onProgress=(t,e,i)=>{e===i&&(gg=i),n({active:!0,item:t,loaded:e,total:i,progress:(e-gg)/(i-gg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Qg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function LT(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function ntt(n,t){if(n){if(typeof n=="string")return LT(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return LT(n,t)}}function itt(n){if(Array.isArray(n))return LT(n)}function stt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function att(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rtt(n){return itt(n)||stt(n)||ntt(n)||att()}new Vt;new Vt;function ott(n,t,e){return Math.max(t,Math.min(e,n))}function ltt(n,t){return ott(n-Math.floor(n/t)*t,0,t)}function ctt(n,t){var e=ltt(t-n,Math.PI*2);return e>Math.PI&&(e-=Math.PI*2),e}function OB(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var wr=function n(t,e,i){var s=this;OB(this,n),Qg(this,"dot2",function(r,o){return s.x*r+s.y*o}),Qg(this,"dot3",function(r,o,c){return s.x*r+s.y*o+s.z*c}),this.x=t,this.y=e,this.z=i},utt=[new wr(1,1,0),new wr(-1,1,0),new wr(1,-1,0),new wr(-1,-1,0),new wr(1,0,1),new wr(-1,0,1),new wr(1,0,-1),new wr(-1,0,-1),new wr(0,1,1),new wr(0,-1,1),new wr(0,1,-1),new wr(0,-1,-1)],F3=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],H3=new Array(512),G3=new Array(512),ftt=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var e=0;e<256;e++){var i;e&1?i=F3[e]^t&255:i=F3[e]^t>>8&255,H3[e]=H3[e+256]=i,G3[e]=G3[e+256]=utt[i%12]}};ftt(0);function htt(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var t=n;n=0;for(var e=0;e<t.length;e++)n=(n+(e+1)*(t.charCodeAt(e)%96))%2147483647}return n===0&&(n=311),n}function k3(n){var t=htt(n);return function(){var e=t*48271%2147483647;return t=e,e/2147483647}}var dtt=function n(t){var e=this;OB(this,n),Qg(this,"seed",0),Qg(this,"init",function(i){e.seed=i,e.value=k3(i)}),Qg(this,"value",k3(this.seed)),this.init(t)};new dtt(Math.random());var ptt=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/e)*Math.atan(Math.sin(2*Math.PI*t*s)/e)},PB=function(t){return 1/(1+t+.48*t*t+.235*t*t*t)},mtt=function(t){return t},gtt={in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},vtt={in:function(t){return t*t*t},out:function(t){return 1-Math.pow(1-t,3)},inOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}},ytt={in:function(t){return t*t*t*t*t},out:function(t){return 1-Math.pow(1-t,5)},inOut:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}},xtt={in:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},out:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOut:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},_tt={in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}},Stt={in:function(t){return t===0?0:Math.pow(2,10*t-10)},out:function(t){return t===1?1:1-Math.pow(2,-10*t)},inOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};function Ji(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:PB,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,h="velocity_"+t;if(n.__damp===void 0&&(n.__damp={}),n.__damp[h]===void 0&&(n.__damp[h]=0),Math.abs(n[t]-e)<=c)return n[t]=e,!1;i=Math.max(1e-4,i);var p=2/i,m=o(p*s),v=n[t]-e,x=e,_=r*i;v=Math.min(Math.max(v,-_),_),e=n[t]-v;var T=(n.__damp[h]+p*v)*s;n.__damp[h]=(n.__damp[h]-p*T)*m;var C=e+(v+T)*m;return x-n[t]>0==C>x&&(C=x,n.__damp[h]=(C-x)/s),n[t]=C,!0}var btt=function(t){return t&&t.isCamera},Mtt=function(t){return t&&t.isLight},vg=new Z,j3=new ts,X3=new ts,yg=new Ve,fM=new Z;function Ttt(n,t,e,i,s,r,o){typeof t=="number"?vg.setScalar(t):Array.isArray(t)?vg.set(t[0],t[1],t[2]):vg.copy(t);var c=n.parent;n.updateWorldMatrix(!0,!1),fM.setFromMatrixPosition(n.matrixWorld),btt(n)||Mtt(n)?yg.lookAt(fM,vg,n.up):yg.lookAt(vg,fM,n.up),J_(n.quaternion,X3.setFromRotationMatrix(yg),e,i,s,r,o),c&&(yg.extractRotation(c.matrixWorld),j3.setFromRotationMatrix(yg),J_(n.quaternion,X3.copy(n.quaternion).premultiply(j3.invert()),e,i,s,r,o))}function pp(n,t,e,i,s,r,o,c){return Ji(n,t,n[t]+ctt(n[t],e),i,s,r,o,c)}var xg=new Vt,q3,W3;function Ett(n,t,e,i,s,r,o){return typeof t=="number"?xg.setScalar(t):Array.isArray(t)?xg.set(t[0],t[1]):xg.copy(t),q3=Ji(n,"x",xg.x,e,i,s,r,o),W3=Ji(n,"y",xg.y,e,i,s,r,o),q3||W3}var Xd=new Z,Y3,Z3,K3;function UT(n,t,e,i,s,r,o){return typeof t=="number"?Xd.setScalar(t):Array.isArray(t)?Xd.set(t[0],t[1],t[2]):Xd.copy(t),Y3=Ji(n,"x",Xd.x,e,i,s,r,o),Z3=Ji(n,"y",Xd.y,e,i,s,r,o),K3=Ji(n,"z",Xd.z,e,i,s,r,o),Y3||Z3||K3}var Xf=new pn,Q3,$3,J3,tN;function Att(n,t,e,i,s,r,o){return typeof t=="number"?Xf.setScalar(t):Array.isArray(t)?Xf.set(t[0],t[1],t[2],t[3]):Xf.copy(t),Q3=Ji(n,"x",Xf.x,e,i,s,r,o),$3=Ji(n,"y",Xf.y,e,i,s,r,o),J3=Ji(n,"z",Xf.z,e,i,s,r,o),tN=Ji(n,"w",Xf.w,e,i,s,r,o),Q3||$3||J3||tN}var _g=new Ga,eN,nN,iN;function wtt(n,t,e,i,s,r,o){return Array.isArray(t)?_g.set(t[0],t[1],t[2],t[3]):_g.copy(t),eN=pp(n,"x",_g.x,e,i,s,r,o),nN=pp(n,"y",_g.y,e,i,s,r,o),iN=pp(n,"z",_g.z,e,i,s,r,o),eN||nN||iN}var qd=new fe,sN,aN,rN;function Ctt(n,t,e,i,s,r,o){return t instanceof fe?qd.copy(t):Array.isArray(t)?qd.setRGB(t[0],t[1],t[2]):qd.set(t),sN=Ji(n,"r",qd.r,e,i,s,r,o),aN=Ji(n,"g",qd.g,e,i,s,r,o),rN=Ji(n,"b",qd.b,e,i,s,r,o),sN||aN||rN}var mo=new ts,lc=new pn,oN=new pn,Sg=new pn,lN,cN,uN,fN;function J_(n,t,e,i,s,r,o){var c=n;Array.isArray(t)?mo.set(t[0],t[1],t[2],t[3]):mo.copy(t);var h=n.dot(mo)>0?1:-1;return mo.x*=h,mo.y*=h,mo.z*=h,mo.w*=h,lN=Ji(n,"x",mo.x,e,i,s,r,o),cN=Ji(n,"y",mo.y,e,i,s,r,o),uN=Ji(n,"z",mo.z,e,i,s,r,o),fN=Ji(n,"w",mo.w,e,i,s,r,o),lc.set(n.x,n.y,n.z,n.w).normalize(),oN.set(c.__damp.velocity_x,c.__damp.velocity_y,c.__damp.velocity_z,c.__damp.velocity_w),Sg.copy(lc).multiplyScalar(oN.dot(lc)/lc.dot(lc)),c.__damp.velocity_x-=Sg.x,c.__damp.velocity_y-=Sg.y,c.__damp.velocity_z-=Sg.z,c.__damp.velocity_w-=Sg.w,n.set(lc.x,lc.y,lc.z,lc.w),lN||cN||uN||fN}var bg=new qz,hN,dN,pN;function Rtt(n,t,e,i,s,r,o){return Array.isArray(t)?bg.set(t[0],t[1],t[2]):bg.copy(t),hN=Ji(n,"radius",bg.radius,e,i,s,r,o),dN=pp(n,"phi",bg.phi,e,i,s,r,o),pN=pp(n,"theta",bg.theta,e,i,s,r,o),hN||dN||pN}var Ox=new Ve,mN=new Z,gN=new ts,vN=new Z,yN,xN,_N;function Dtt(n,t,e,i,s,r,o){var c=n;return c.__damp===void 0&&(c.__damp={position:new Z,rotation:new ts,scale:new Z},n.decompose(c.__damp.position,c.__damp.rotation,c.__damp.scale)),Array.isArray(t)?Ox.set.apply(Ox,rtt(t)):Ox.copy(t),Ox.decompose(mN,gN,vN),yN=UT(c.__damp.position,mN,e,i,s,r,o),xN=J_(c.__damp.rotation,gN,e,i,s,r,o),_N=UT(c.__damp.scale,vN,e,i,s,r,o),n.compose(c.__damp.position,c.__damp.rotation,c.__damp.scale),yN||xN||_N}var Ntt=Object.freeze({__proto__:null,rsqw:ptt,exp:PB,linear:mtt,sine:gtt,cubic:vtt,quint:ytt,circ:xtt,quart:_tt,expo:Stt,damp:Ji,dampLookAt:Ttt,dampAngle:pp,damp2:Ett,damp3:UT,damp4:Att,dampE:wtt,dampC:Ctt,dampQ:J_,dampS:Rtt,dampM:Dtt});const Ltt=K.forwardRef(({children:n,enabled:t=!0,speed:e=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:r=[-.1,.1],autoInvalidate:o=!1,...c},h)=>{const p=K.useRef(null);K.useImperativeHandle(h,()=>p.current,[]);const m=K.useRef(Math.random()*1e4);return jA(v=>{var x,_;if(!t||e===0)return;o&&v.invalidate();const T=m.current+v.clock.elapsedTime;p.current.rotation.x=Math.cos(T/4*e)/8*i,p.current.rotation.y=Math.sin(T/4*e)/8*i,p.current.rotation.z=Math.sin(T/4*e)/20*i;let C=Math.sin(T/4*e)/10;C=kP.mapLinear(C,-.1,.1,(x=r==null?void 0:r[0])!==null&&x!==void 0?x:-.1,(_=r==null?void 0:r[1])!==null&&_!==void 0?_:.1),p.current.position.y=C*s,p.current.updateMatrix()}),K.createElement("group",c,K.createElement("group",{ref:p,matrixAutoUpdate:!1},n))});var Px={},SN;function Utt(){if(SN)return Px;SN=1,Px.match=r,Px.parse=o;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,e=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function r(m,v){return o(m).some(function(x){var _=x.inverse,T=x.type==="all"||v.type===x.type;if(T&&_||!(T||_))return!1;var C=x.expressions.every(function(E){var M=E.feature,R=E.modifier,D=E.value,L=v[M];if(!L)return!1;switch(M){case"orientation":case"scan":return L.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=p(D),L=p(L);break;case"resolution":D=h(D),L=h(L);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=c(D),L=c(L);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,L=parseInt(L,10)||0;break}switch(R){case"min":return L>=D;case"max":return L<=D;default:return L===D}});return C&&!_||!C&&_})}function o(m){return m.split(",").map(function(v){v=v.trim();var x=v.match(n),_=x[1],T=x[2],C=x[3]||"",E={};return E.inverse=!!_&&_.toLowerCase()==="not",E.type=T?T.toLowerCase():"all",C=C.match(/\([^\)]+\)/g)||[],E.expressions=C.map(function(M){var R=M.match(t),D=R[1].toLowerCase().match(e);return{modifier:D[1],feature:D[2],value:R[2]}}),E})}function c(m){var v=Number(m),x;return v||(x=m.match(/^(\d+)\s*\/\s*(\d+)$/),v=x[1]/x[2]),v}function h(m){var v=parseFloat(m),x=String(m).match(s)[1];switch(x){case"dpcm":return v/2.54;case"dppx":return v*96;default:return v}}function p(m){var v=parseFloat(m),x=String(m).match(i)[1];switch(x){case"em":return v*16;case"rem":return v*16;case"cm":return v*96/2.54;case"mm":return v*96/2.54/10;case"in":return v*96;case"pt":return v*72;case"pc":return v*72/12;default:return v}}return Px}var hM,bN;function Ott(){if(bN)return hM;bN=1;var n=Utt().match,t=typeof window<"u"?window.matchMedia:null;function e(s,r,o){var c=this,h;t&&!o&&(h=t.call(window,s)),h?(this.matches=h.matches,this.media=h.media,h.addListener(v)):(this.matches=n(s,r),this.media=s),this.addListener=p,this.removeListener=m,this.dispose=x;function p(_){h&&h.addListener(_)}function m(_){h&&h.removeListener(_)}function v(_){c.matches=_.matches,c.media=_.media}function x(){h&&h.removeListener(v)}}function i(s,r,o){return new e(s,r,o)}return hM=i,hM}var Ptt=Ott();const ztt=N0(Ptt);var Btt=/[A-Z]/g,Vtt=/^ms-/,dM={};function Itt(n){return"-"+n.toLowerCase()}function zB(n){if(dM.hasOwnProperty(n))return dM[n];var t=n.replace(Btt,Itt);return dM[n]=Vtt.test(t)?"-"+t:t}function Ftt(n,t){if(n===t)return!0;if(!n||!t)return!1;const e=Object.keys(n),i=Object.keys(t),s=e.length;if(i.length!==s)return!1;for(let r=0;r<s;r++){const o=e[r];if(n[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var pM={exports:{}},mM,MN;function Htt(){if(MN)return mM;MN=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mM=n,mM}var gM,TN;function Gtt(){if(TN)return gM;TN=1;var n=Htt();function t(){}function e(){}return e.resetWarningCache=t,gM=function(){function i(o,c,h,p,m,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},gM}var EN;function ktt(){return EN||(EN=1,pM.exports=Gtt()()),pM.exports}var jtt=ktt();const Ln=N0(jtt),da=Ln.oneOfType([Ln.string,Ln.number]),BB={all:Ln.bool,grid:Ln.bool,aural:Ln.bool,braille:Ln.bool,handheld:Ln.bool,print:Ln.bool,projection:Ln.bool,screen:Ln.bool,tty:Ln.bool,tv:Ln.bool,embossed:Ln.bool},Xtt={orientation:Ln.oneOf(["portrait","landscape"]),scan:Ln.oneOf(["progressive","interlace"]),aspectRatio:Ln.string,deviceAspectRatio:Ln.string,height:da,deviceHeight:da,width:da,deviceWidth:da,color:Ln.bool,colorIndex:Ln.bool,monochrome:Ln.bool,resolution:da,type:Object.keys(BB)},{type:vnt,...qtt}=Xtt,Wtt={minAspectRatio:Ln.string,maxAspectRatio:Ln.string,minDeviceAspectRatio:Ln.string,maxDeviceAspectRatio:Ln.string,minHeight:da,maxHeight:da,minDeviceHeight:da,maxDeviceHeight:da,minWidth:da,maxWidth:da,minDeviceWidth:da,maxDeviceWidth:da,minColor:Ln.number,maxColor:Ln.number,minColorIndex:Ln.number,maxColorIndex:Ln.number,minMonochrome:Ln.number,maxMonochrome:Ln.number,minResolution:da,maxResolution:da,...qtt},Ytt={...BB,...Wtt};var Ztt={all:Ytt};const Ktt=n=>`not ${n}`,Qtt=(n,t)=>{const e=zB(n);return typeof t=="number"&&(t=`${t}px`),t===!0?e:t===!1?Ktt(e):`(${e}: ${t})`},$tt=n=>n.join(" and "),Jtt=n=>{const t=[];return Object.keys(Ztt.all).forEach(e=>{const i=n[e];i!=null&&t.push(Qtt(e,i))}),$tt(t)},tet=K.createContext(void 0),eet=n=>n.query||Jtt(n),AN=n=>n?Object.keys(n).reduce((e,i)=>(e[zB(i)]=n[i],e),{}):void 0,VB=()=>{const n=K.useRef(!1);return K.useEffect(()=>{n.current=!0},[]),n.current},net=n=>{const t=K.useContext(tet),e=()=>AN(n)||AN(t),[i,s]=K.useState(e);return K.useEffect(()=>{const r=e();Ftt(i,r)||s(r)},[n,t]),i},iet=n=>{const t=()=>eet(n),[e,i]=K.useState(t);return K.useEffect(()=>{const s=t();e!==s&&i(s)},[n]),e},set=(n,t)=>{const e=()=>ztt(n,t||{},!!t),[i,s]=K.useState(e),r=VB();return K.useEffect(()=>{if(r){const o=e();return s(o),()=>{o&&o.dispose()}}},[n,t]),i},aet=n=>{const[t,e]=K.useState(n.matches);return K.useEffect(()=>{const i=s=>{e(s.matches)};return n.addListener(i),e(n.matches),()=>{n.removeListener(i)}},[n]),t},ret=(n,t,e)=>{const i=net(t),s=iet(n);if(!s)throw new Error("Invalid or missing MediaQuery!");const r=set(s,i),o=aet(r);return VB(),K.useEffect(()=>{},[o]),K.useEffect(()=>()=>{r&&r.dispose()},[]),o},oet=()=>{const{progress:n}=ett();return J.jsxs(QJ,{center:!0,className:"text-xl font-normal text-center",children:[n,"% Loaded"]})},cet=K.lazy(()=>w9(()=>import("./Astronaut-NpvSaqAI.js"),[]).then(n=>({default:n.Astronaut}))),uet=()=>{const n=ret({maxWidth:853});return J.jsxs("section",{id:"home",className:"relative flex items-start justify-center min-h-screen overflow-hidden md:items-start md:justify-start c-space bg-gradient-to-br from-[#0B0F17] via-[#0A0E14] to-[#070B12]",children:[J.jsx(IJ,{}),J.jsx(HJ,{}),J.jsx(LB,{className:"absolute inset-0 -z-0",quantity:n?15:30,ease:80,size:.4,color:"#E6F1FF",vx:.01,vy:.003}),J.jsx("div",{className:"absolute inset-0 -z-0 pointer-events-none",style:{background:"radial-gradient(600px 400px at 40% 35%, rgba(0,229,255,0.10), rgba(0,229,255,0) 60%)"}}),J.jsx("div",{className:"absolute inset-0 -z-0 pointer-events-none",style:{background:"radial-gradient(1200px 700px at 50% 40%, rgba(0,0,0,0), rgba(0,0,0,0.35) 70%)"}}),J.jsx("figure",{className:"absolute inset-0",style:{width:"100vw",height:"100vh"},children:J.jsx($$,{camera:{position:[0,1,3]},performance:{min:.5},dpr:n?1:[1,1.5],gl:{antialias:!1,powerPreference:"high-performance"},children:J.jsxs(K.Suspense,{fallback:J.jsx(oet,{}),children:[J.jsx("ambientLight",{intensity:.2}),J.jsx("directionalLight",{position:[2,3,2],color:"#00E5FF",intensity:1.2}),J.jsx("directionalLight",{position:[-2,1,1],color:"#FF3CAC",intensity:.6}),J.jsx(Ltt,{children:J.jsx(cet,{scale:n&&.23,position:n&&[0,-1.5,0]})}),J.jsx(fet,{})]})})})]})};function fet(){return jA((n,t)=>{Ntt.damp3(n.camera.position,[n.mouse.x/14,1+n.mouse.y/14,3],.5,t)})}const yu=({style:n,text:t,image:e,containerRef:i})=>e&&!t?J.jsx(Qi.img,{className:"absolute w-15 cursor-grab",src:e,style:n,whileHover:{scale:1.05},drag:!0,dragConstraints:i,dragElastic:1}):J.jsx(Qi.div,{className:"absolute px-1 py-4 text-xl text-center rounded-full ring ring-gray-700 font-extralight bg-storm w-[12rem] cursor-grab",style:n,whileHover:{scale:1.05},drag:!0,dragConstraints:i,dragElastic:1,children:t});var wN=["x","y","z"],cc=function(n){Object.assign(this,{uniforms:{},geometry:{vertices:[{x:0,y:0,z:0}]},mode:0,modifiers:{},attributes:[],multiplier:1,buffers:[]}),Object.assign(this,n),this.prepareProgram(),this.prepareUniforms(),this.prepareAttributes()};cc.prototype.compileShader=function(n,t){var e=this.gl.createShader(n);return this.gl.shaderSource(e,t),this.gl.compileShader(e),e},cc.prototype.prepareProgram=function(){var n=this.gl,t=this.vertex,e=this.fragment,i=n.createProgram();n.attachShader(i,this.compileShader(35633,t)),n.attachShader(i,this.compileShader(35632,e)),n.linkProgram(i),n.useProgram(i),this.program=i},cc.prototype.prepareUniforms=function(){for(var n=Object.keys(this.uniforms),t=0;t<n.length;t+=1){var e=this.gl.getUniformLocation(this.program,n[t]);this.uniforms[n[t]].location=e}},cc.prototype.prepareAttributes=function(){this.geometry.vertices!==void 0&&this.attributes.push({name:"aPosition",size:3}),this.geometry.normal!==void 0&&this.attributes.push({name:"aNormal",size:3}),this.attributeKeys=[];for(var n=0;n<this.attributes.length;n+=1)this.attributeKeys.push(this.attributes[n].name),this.prepareAttribute(this.attributes[n])},cc.prototype.prepareAttribute=function(n){for(var t=this.geometry,e=this.multiplier,i=t.vertices,s=t.normal,r=new Float32Array(e*i.length*n.size),o=0;o<e;o+=1)for(var c=n.data&&n.data(o,e),h=o*i.length*n.size,p=0;p<i.length;p+=1)for(var m=0;m<n.size;m+=1){var v=this.modifiers[n.name];r[h]=v!==void 0?v(c,p,m,this):n.name==="aPosition"?i[p][wN[m]]:n.name==="aNormal"?s[p][wN[m]]:c[m],h+=1}this.attributes[this.attributeKeys.indexOf(n.name)].data=r,this.prepareBuffer(this.attributes[this.attributeKeys.indexOf(n.name)])},cc.prototype.prepareBuffer=function(n){var t=n.data,e=n.name,i=n.size,s=this.gl.createBuffer();this.gl.bindBuffer(34962,s),this.gl.bufferData(34962,t,35044);var r=this.gl.getAttribLocation(this.program,e);this.gl.enableVertexAttribArray(r),this.gl.vertexAttribPointer(r,i,5126,!1,0,0),this.buffers[this.attributeKeys.indexOf(n.name)]={buffer:s,location:r,size:i}},cc.prototype.render=function(n){var t=this,e=this.uniforms,i=this.multiplier,s=this.gl;s.useProgram(this.program);for(var r=0;r<this.buffers.length;r+=1){var o=this.buffers[r],c=o.location,h=o.buffer,p=o.size;s.enableVertexAttribArray(c),s.bindBuffer(34962,h),s.vertexAttribPointer(c,p,5126,!1,0,0)}Object.keys(n).forEach(function(m){e[m].value=n[m].value}),Object.keys(e).forEach(function(m){var v=e[m];t.uniformMap[v.type](v.location,v.value)}),s.drawArrays(this.mode,0,i*this.geometry.vertices.length),this.onRender&&this.onRender(this)},cc.prototype.destroy=function(){for(var n=0;n<this.buffers.length;n+=1)this.gl.deleteBuffer(this.buffers[n].buffer);this.gl.deleteProgram(this.program),this.gl=null};var Kf=function(n){var t=this,e=n||{},i=e.canvas;i===void 0&&(i=document.querySelector("canvas"));var s=e.context;s===void 0&&(s={});var r=e.contextType;r===void 0&&(r="experimental-webgl");var o=e.settings;o===void 0&&(o={});var c=i.getContext(r,Object.assign({alpha:!1,antialias:!1},s));Object.assign(this,{gl:c,canvas:i,uniforms:{},instances:new Map,shouldRender:!0}),Object.assign(this,{devicePixelRatio:1,clearColor:[1,1,1,1],position:{x:0,y:0,z:2},clip:[.001,100]}),Object.assign(this,o),this.uniformMap={float:function(h,p){return c.uniform1f(h,p)},vec2:function(h,p){return c.uniform2fv(h,p)},vec3:function(h,p){return c.uniform3fv(h,p)},vec4:function(h,p){return c.uniform4fv(h,p)},mat2:function(h,p){return c.uniformMatrix2fv(h,!1,p)},mat3:function(h,p){return c.uniformMatrix3fv(h,!1,p)},mat4:function(h,p){return c.uniformMatrix4fv(h,!1,p)}},c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL),c.getContextAttributes().alpha===!1&&(c.clearColor.apply(c,this.clearColor),c.clearDepth(1)),this.onSetup&&this.onSetup(c),window.addEventListener("resize",function(){return t.resize()}),this.resize(),this.render()};Kf.prototype.resize=function(){var n=this.gl,t=this.canvas,e=this.devicePixelRatio,i=this.position;t.width=t.clientWidth*e,t.height=t.clientHeight*e;var s=n.drawingBufferWidth,r=n.drawingBufferHeight,o=s/r;n.viewport(0,0,s,r);var c=Math.tan(Math.PI/180*22.5),h=[1,0,0,0,0,1,0,0,0,0,1,0,i.x,i.y,(o<1?1:o)*-i.z,1];this.uniforms.uProjectionMatrix={type:"mat4",value:[.5/c,0,0,0,0,o/c*.5,0,0,0,0,-(this.clip[1]+this.clip[0])/(this.clip[1]-this.clip[0]),-1,0,0,-2*this.clip[1]*(this.clip[0]/(this.clip[1]-this.clip[0])),0]},this.uniforms.uViewMatrix={type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.uniforms.uModelMatrix={type:"mat4",value:h}},Kf.prototype.toggle=function(n){n!==this.shouldRender&&(this.shouldRender=n!==void 0?n:!this.shouldRender,this.shouldRender&&this.render())},Kf.prototype.render=function(){var n=this;this.gl.clear(16640),this.instances.forEach(function(t){t.render(n.uniforms)}),this.onRender&&this.onRender(this),this.shouldRender&&requestAnimationFrame(function(){return n.render()})},Kf.prototype.add=function(n,t){t===void 0&&(t={uniforms:{}}),t.uniforms===void 0&&(t.uniforms={}),Object.assign(t.uniforms,JSON.parse(JSON.stringify(this.uniforms))),Object.assign(t,{gl:this.gl,uniformMap:this.uniformMap});var e=new cc(t);return this.instances.set(n,e),e},Kf.prototype.remove=function(n){var t=this.instances.get(n);t!==void 0&&(t.destroy(),this.instances.delete(n))},Kf.prototype.destroy=function(){var n=this;this.instances.forEach(function(t,e){t.destroy(),n.instances.delete(e)}),this.toggle(!1)};var IB="phi",FB="theta",HB="mapSamples",GB="mapBrightness",kB="baseColor",jB="markerColor",XB="glowColor",Mg="markers",qB="diffuse",CN="devicePixelRatio",WB="dark",YB="offset",ZB="scale",KB="opacity",QB="mapBaseBrightness",RN={[IB]:"A",[FB]:"B",[HB]:"l",[GB]:"E",[kB]:"R",[jB]:"S",[XB]:"y",[qB]:"F",[WB]:"G",[YB]:"x",[ZB]:"C",[KB]:"H",[QB]:"I"},{PI:vM,sin:DN,cos:NN}=Math,LN=n=>[].concat(...n.map(t=>{let[e,i]=t.location;e=e*vM/180,i=i*vM/180-vM;let s=NN(e);return[-s*NN(i),DN(e),s*DN(i),t.size]}),[0,0,0,0]),het=(n,t)=>{let e=(r,o,c)=>({type:r,value:typeof t[o]>"u"?c:t[o]}),i=n.getContext("webgl")?"webgl":"experimental-webgl",s=new Kf({canvas:n,contextType:i,context:{alpha:!0,stencil:!1,antialias:!0,depth:!1,preserveDrawingBuffer:!1,...t.context},settings:{[CN]:t[CN]||1,onSetup:r=>{let o=r.RGB,c=r.UNSIGNED_BYTE,h=r.TEXTURE_2D,p=r.createTexture();r.bindTexture(h,p),r.texImage2D(h,0,o,1,1,0,o,c,new Uint8Array([0,0,0,0]));let m=new Image;m.onload=()=>{r.bindTexture(h,p),r.texImage2D(h,0,o,o,c,m),r.generateMipmap(h);let v=r.getParameter(r.CURRENT_PROGRAM),x=r.getUniformLocation(v,"J");r.texParameteri(h,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(h,r.TEXTURE_MAG_FILTER,r.NEAREST),r.uniform1i(x,0)},m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAACAAQAAAADMzoqnAAAAAXNSR0IArs4c6QAABA5JREFUeNrV179uHEUAx/Hf3JpbF+E2VASBsmVKTBcpKJs3SMEDcDwBiVJAAewYEBUivIHT0uUBIt0YCovKD0CRjUC4QfHYh8hYXu+P25vZ2Zm9c66gMd/GJ/tz82d3bk8GN4SrByYF2366FNTACIAkivVAAazQdnf3MvAlbNUQfOPAdQDvSAimMWhwy4I2g4SU+Kp04ISLpPBAKLxPyic3O/CCi+Y7rUJbiodcpDOFY7CgxCEXmdYD2EYK2s5lApOx5pEDDYCUwM1XdJUwBV11QQMg59kePSCaPAASQMEL2hwo6TJFgxpg+TgC2ymXPbuvc40awr3D1QCFfbH9kcoqAOkZozpQo0aqAGQRKCog/+tjkgbNFEtg2FffBvBGlSxHoAaAa1u6X4PBAwDiR8FFsrQgeUhfJTSALaB9jy5NCybJPn1SVFiWk7ywN+KzhH1aKAuydhGkbEF4lWohLXDXavlyFgHY7LBnLRdlAP6BS5Cc8RfVDXbkwN/oIvmY+6obbNeBP0JwTuMGu9gTzy1Q4RS/cWpfzszeYwd+CAFrtBW/Hur0gLbJGlD+/OjVwe/drfBxkbbg63dndEDfiEBlAd7ac0BPe1D6Jd8dfbLH+RI0OzseFB5s01/M+gMdAeluLOCAuaUA9Lezo/vSgXoCX9rtEiXnp7Q1W/CNyWcd8DXoS6jH/YZ5vAJEWY2dXFQe2TUgaFaNejCzJ98g6HnlVrsE58sDcYqg+9XY75fPqdoh/kRQWiXKg8MWlJQxUFMPjqnyujhFBE7UxIMjyszk0QwQlFsezImsyvUYYYVED2pk6m0Tg8T04Fwjk2kdAwSACqlM6gRRt3vQYAFGX0Ah7Ebx1H+MDRI5ui0QldH4j7FGcm90XdxD2Jg1AOEAVAKhEFXSn4cKUELurIAKwJ3MArypPscQaLhJFICJ0ohjDySAdH8AhDtCiTuMycH8CXzhH9jUACAO5uMhoAwA5i+T6WAKmmAqnLy80wxHqIPFYpqCwxGaYLt4Dyievg5kEoVEUAhs6pqKgFtDQYOuaXypaWKQfIuwwoGSZgfLsu/XAtI8cGN+h7Cc1A5oLOMhwlIPXuhu48AIvsSBkvtV9wsJRKCyYLfq5lTrQMFd1a262oqBck9K1V0YjQg0iEYYgpS1A9GlXQV5cykwm4A7BzVsxQqo7E+zCegO7Ma7yKgsuOcfKbMBwLC8wvVNYDsANYalEpOAa6zpWjTeMKGwEwC1CiQewJc5EKfgy7GmRAZA4vUVGwE2dPM/g0xuAInE/yG5aZ8ISxWGfYigUVbdyBElTHh2uCwGdfCkOLGgQVBh3Ewp+/QK4CDlR5Ws/Zf7yhCf8pH7vinWAvoVCQ6zz0NX5V/6GkAVV+2/5qsJ/gU8bsxpM8IeAQAAAABJRU5ErkJggg=="}}});return s.add("",{vertex:"attribute vec3 aPosition;uniform mat4 uProjectionMatrix;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;void main(){gl_Position=uProjectionMatrix*uModelMatrix*uViewMatrix*vec4(aPosition,1.);}",fragment:"precision highp float;uniform vec2 t,x;uniform vec3 R,S,y;uniform vec4 z[64];uniform float A,B,l,C,D,E,F,G,H,I;uniform sampler2D J;float K=1./l;mat3 L(float a,float b){float c=cos(a),d=cos(b),e=sin(a),f=sin(b);return mat3(d,f*e,-f*c,0.,c,e,f,d*-e,d*c);}vec3 w(vec3 c,out float v){c=c.xzy;float p=max(2.,floor(log2(2.236068*l*3.141593*(1.-c.z*c.z))*.72021));vec2 g=floor(pow(1.618034,p)/2.236068*vec2(1.,1.618034)+.5),d=fract((g+1.)*.618034)*6.283185-3.883222,e=-2.*g,f=vec2(atan(c.y,c.x),c.z-1.),q=floor(vec2(e.y*f.x-d.y*(f.y*l+1.),-e.x*f.x+d.x*(f.y*l+1.))/(d.x*e.y-e.x*d.y));float n=3.141593;vec3 r;for(float h=0.;h<4.;h+=1.){vec2 s=vec2(mod(h,2.),floor(h*.5));float j=dot(g,q+s);if(j>l)continue;float a=j,b=0.;if(a>=524288.)a-=524288.,b+=.803894;if(a>=262144.)a-=262144.,b+=.901947;if(a>=131072.)a-=131072.,b+=.950973;if(a>=65536.)a-=65536.,b+=.475487;if(a>=32768.)a-=32768.,b+=.737743;if(a>=16384.)a-=16384.,b+=.868872;if(a>=8192.)a-=8192.,b+=.934436;if(a>=4096.)a-=4096.,b+=.467218;if(a>=2048.)a-=2048.,b+=.733609;if(a>=1024.)a-=1024.,b+=.866804;if(a>=512.)a-=512.,b+=.433402;if(a>=256.)a-=256.,b+=.216701;if(a>=128.)a-=128.,b+=.108351;if(a>=64.)a-=64.,b+=.554175;if(a>=32.)a-=32.,b+=.777088;if(a>=16.)a-=16.,b+=.888544;if(a>=8.)a-=8.,b+=.944272;if(a>=4.)a-=4.,b+=.472136;if(a>=2.)a-=2.,b+=.236068;if(a>=1.)a-=1.,b+=.618034;float k=fract(b)*6.283185,i=1.-2.*j*K,m=sqrt(1.-i*i);vec3 o=vec3(cos(k)*m,sin(k)*m,i);float u=length(c-o);if(u<n)n=u,r=o;}v=n;return r.xzy;}void main(){vec2 b=(gl_FragCoord.xy/t*2.-1.)/C-x*vec2(1.,-1.)/t;b.x*=t.x/t.y;float c=dot(b,b);vec4 M=vec4(0.);float m=0.;if(c<=.64){for(int d=0;d<2;d++){vec4 e=vec4(0.);float a;vec3 u=vec3(0.,0.,1.),f=normalize(vec3(b,sqrt(.64-c)));f.z*=d>0?-1.:1.,u.z*=d>0?-1.:1.;vec3 g=f*L(B,A),h=w(g,a);float n=asin(h.y),i=acos(-h.x/cos(n));i=h.z<0.?-i:i;float N=max(texture2D(J,vec2(i*.5/3.141593,-(n/3.141593+.5))).x,I),O=smoothstep(8e-3,0.,a),j=dot(f,u),v=pow(j,F)*E,o=N*O*v,T=mix((1.-o)*pow(j,.4),o,G)+.1;e+=vec4(R*T,1.);int U=int(D);float p=0.;for(int k=0;k<64;k++){if(k>=U)break;vec4 q=z[k];vec3 r=q.xyz,P=r-g;float s=q.w;if(dot(P,P)>s*s*4.)continue;vec3 V=w(r,a);a=length(V-g),a<s?p+=smoothstep(s*.5,0.,a):0.;}p=min(1.,p*v),e.xyz=mix(e.xyz,S,p),e.xyz+=pow(1.-j,4.)*y,M+=e*(1.+(d>0?-H:H))/2.;}m=pow(dot(normalize(vec3(-b,sqrt(1.-c))),vec3(0.,0.,1.)),4.)*smoothstep(0.,1.,.2/(c-.64));}else{float Q=sqrt(.2/(c-.64));m=smoothstep(.5,1.,Q/(Q+1.));}gl_FragColor=M+vec4(m*y,m);}",uniforms:{t:{type:"vec2",value:[t.width,t.height]},A:e("float",IB),B:e("float",FB),l:e("float",HB),E:e("float",GB),I:e("float",QB),R:e("vec3",kB),S:e("vec3",jB),F:e("float",qB),y:e("vec3",XB),G:e("float",WB),z:{type:"vec4",value:LN(t[Mg])},D:{type:"float",value:t[Mg].length},x:e("vec2",YB,[0,0]),C:e("float",ZB,1),H:e("float",KB,1)},mode:4,geometry:{vertices:[{x:-100,y:100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0},{x:100,y:-100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0}]},onRender:({uniforms:r})=>{let o={};if(t.onRender){o=t.onRender(o)||o;for(let c in RN)o[c]!==void 0&&(r[RN[c]].value=o[c]);o[Mg]!==void 0&&(r.z.value=LN(o[Mg]),r.D.value=o[Mg].length),o.width&&o.height&&(r.t.value=[o.width,o.height])}}}),s};const det=1400,pet={width:800,height:800,onRender:()=>{},devicePixelRatio:1.5,phi:0,theta:.3,dark:1,diffuse:.4,mapSamples:8e3,mapBrightness:1.2,baseColor:[1,1,1],markerColor:[1,1,1],glowColor:[1,1,1],markers:[{location:[14.5995,120.9842],size:.03},{location:[19.076,72.8777],size:.1},{location:[23.8103,90.4125],size:.05},{location:[30.0444,31.2357],size:.07},{location:[39.9042,116.4074],size:.08},{location:[-23.5505,-46.6333],size:.1},{location:[19.4326,-99.1332],size:.1},{location:[40.7128,-74.006],size:.1},{location:[34.6937,135.5022],size:.05},{location:[41.0082,28.9784],size:.06}]};function met({className:n,config:t=pet}){let e=0,i=0;const s=K.useRef(null),r=K.useRef(null),o=K.useRef(0),c=K.useRef(!0),h=vE(0),p=gU(h,{mass:1,damping:30,stiffness:100}),m=x=>{r.current=x,s.current&&(s.current.style.cursor=x!==null?"grabbing":"grab")},v=x=>{if(r.current!==null){const _=x-r.current;o.current=_,h.set(h.get()+_/det)}};return K.useEffect(()=>{const x=()=>{s.current&&(i=s.current.offsetWidth)};window.addEventListener("resize",x),x();const _=()=>{c.current=document.visibilityState==="visible"};document.addEventListener("visibilitychange",_);const T=het(s.current,{...t,width:i*2,height:i*2,devicePixelRatio:typeof window<"u"?Math.min(1.5,window.devicePixelRatio||1):t.devicePixelRatio,onRender:C=>{c.current&&(r.current||(e+=.005),C.phi=e+p.get(),C.width=i*2,C.height=i*2)}});return setTimeout(()=>s.current.style.opacity="1",0),()=>{T.destroy(),window.removeEventListener("resize",x),document.removeEventListener("visibilitychange",_)}},[p,t]),J.jsx("div",{className:D0("mx-auto aspect-[1/1] w-full max-w-[600px]",n),children:J.jsx("canvas",{className:D0("size-[30rem] opacity-0 transition-opacity duration-500 [contain:layout_paint_size]"),ref:s,onPointerDown:x=>{r.current=x.clientX,m(x.clientX)},onPointerUp:()=>m(null),onPointerOut:()=>m(null),onMouseMove:x=>v(x.clientX),onTouchMove:x=>x.touches[0]&&v(x.touches[0].clientX)})})}const get=()=>{const[n,t]=K.useState(!1),e="amitsarkar6124@gmail.com",i=()=>{navigator.clipboard.writeText(e),t(!0),setTimeout(()=>{t(!1)},2e3)};return J.jsx(Qi.button,{onClick:i,whileHover:{y:-5},whileTap:{scale:1.05},className:"relative px-1 py-4 text-sm text-center rounded-full font-extralight bg-primary w-[12rem] cursor-pointer overflow-hidden",children:J.jsx(BN,{mode:"wait",children:n?J.jsxs(Qi.p,{className:"flex items-center justify-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.1,ease:"easeInOut"},children:[J.jsx("img",{src:"assets/copy-done.svg",className:"w-5",alt:"copy Icon"}),"Email has Copied"]},"copied"):J.jsxs(Qi.p,{className:"flex items-center justify-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:[J.jsx("img",{src:"assets/copy.svg",className:"w-5",alt:"copy icon"}),"Copy Email Address"]},"copy")})})};function yM({className:n,children:t,reverse:e,duration:i=20,radius:s=160,path:r=!0,iconSize:o=30,speed:c=1,...h}){const p=i/c;return J.jsxs(J.Fragment,{children:[r&&J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"absolute inset-0 pointer-events-none size-full",children:J.jsx("circle",{className:"stroke-1 stroke-white/10",cx:"50%",cy:"50%",r:s,fill:"none"})}),$g.Children.map(t,(m,v)=>{const x=360/$g.Children.count(t)*v;return J.jsx("div",{style:{"--duration":p,"--radius":s,"--angle":x,"--icon-size":`${o}px`},className:D0(`absolute flex size-[var(--icon-size)] transform-gpu animate-orbit items-center justify-center rounded-full ${e?"[animation-direction:reverse]":""}`,n),...h,children:m})})]})}function vet(){const n=[{label:"HTML",logo:"html5"},{label:"CSS",logo:"css3"},{label:"JavaScript",logo:"javascript"},{label:"React",logo:"react"},{label:"Tailwind CSS",logo:"tailwindcss"},{label:"Vite",logo:"vitejs"},{label:"Three.js",logo:"threejs"},{label:"Git",logo:"git"},{label:"GitHub",logo:"github"},{label:"Visual Code",logo:"visualstudiocode"},{label:"WordPress",logo:"wordpress"},{label:"Auth0",logo:"auth0"},{label:"Azure",logo:"azure"},{label:"SQL Server",logo:"microsoftsqlserver"},{label:"SQLite",logo:"sqlite"},{label:"Stripe",logo:"stripe"}],t=n.slice(0,7),e=n.slice(7,13),i=n.slice(13);return J.jsxs("div",{className:"relative flex h-[24rem] w-full flex-col items-center justify-center",children:[J.jsx(yM,{iconSize:32,radius:200,duration:35,children:t.map((s,r)=>J.jsx(xM,{tech:s},`outer-${s.label}-${r}`))}),J.jsx(yM,{iconSize:26,radius:140,reverse:!0,speed:1.2,duration:28,children:e.map((s,r)=>J.jsx(xM,{tech:s,small:!0},`middle-${s.label}-${r}`))}),J.jsx(yM,{iconSize:22,radius:80,duration:22,children:i.map((s,r)=>J.jsx(xM,{tech:s,small:!0},`inner-${s.label}-${r}`))})]})}const xM=({tech:n,small:t})=>n.logo?J.jsx("img",{src:`assets/logos/${n.logo}.svg`,alt:n.label,className:`rounded-sm duration-200 hover:scale-110 ${t?"h-5 w-5":"h-8 w-8"}`}):J.jsx("span",{className:`whitespace-nowrap rounded-md border border-white/15 bg-white/5 px-2 py-1 text-xs text-white/80 backdrop-blur-sm ${t?"scale-75":"scale-90"}`,children:n.label}),yet=()=>{const n=K.useRef();return J.jsxs("section",{className:"c-space section-spacing",id:"about",children:[J.jsx("h2",{className:"text-heading",children:"About Me"}),J.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6 md:auto-rows-[18rem] mt-12",children:[J.jsxs("div",{className:"flex items-end grid-default-color grid-1",children:[J.jsx("img",{src:"assets/coding-pov.png",className:"absolute scale-[1.75] -right-[5rem] -top-[1rem] md:scale-[3] md:left-1/2 md:inset-y-10 lg:scale-[2.5]",alt:"Coding illustration"}),J.jsxs("div",{className:"z-10",children:[J.jsx("p",{className:"headtext",children:"Hi, I'm Amit Sarkar"}),J.jsx("p",{className:"subtext",children:"Amit Sarkar is a web developer focused on building clean, responsive, and user-friendly interfaces. He enjoys turning ideas into fast, accessible web experiences and is committed to continuous learning and growth."})]}),J.jsx("div",{className:"absolute inset-x-0 pointer-events-none -bottom-4 h-1/2 sm:h-1/3 bg-gradient-to-t from-indigo"})]}),J.jsx("div",{className:"grid-default-color grid-2",children:J.jsxs("div",{ref:n,className:"flex items-center justify-center w-full h-full",children:[J.jsx("p",{className:"flex items-end text-5xl text-gray-500",children:"CODE IS CRAFT"}),J.jsx(yu,{style:{rotate:"75deg",top:"30%",left:"20%"},text:"React",containerRef:n}),J.jsx(yu,{style:{rotate:"-30deg",top:"60%",left:"45%"},text:"Node.js",containerRef:n}),J.jsx(yu,{style:{rotate:"90deg",bottom:"30%",left:"70%"},text:"Next.js",containerRef:n}),J.jsx(yu,{style:{rotate:"-45deg",top:"55%",left:"0%"},text:"Tailwind CSS",containerRef:n}),J.jsx(yu,{style:{rotate:"20deg",top:"10%",left:"38%"},text:"TypeScript",containerRef:n}),J.jsx(yu,{style:{rotate:"30deg",top:"70%",left:"70%"},image:"assets/logos/csharp-pink.png",containerRef:n}),J.jsx(yu,{style:{rotate:"-45deg",top:"70%",left:"25%"},image:"assets/logos/dotnet-pink.png",containerRef:n}),J.jsx(yu,{style:{rotate:"-45deg",top:"5%",left:"10%"},image:"assets/logos/blazor-pink.png",containerRef:n})]})}),J.jsxs("div",{className:"grid-black-color grid-3",children:[J.jsxs("div",{className:"z-10 w-[50%]",children:[J.jsx("p",{className:"headtext",children:"Location & Time Zone"}),J.jsx("p",{className:"subtext",children:"I'm based in Haryana, India (IST - UTC+5:30) and open to remote work worldwide"})]}),J.jsx("figure",{className:"absolute left-[30%] top-[10%]",children:J.jsx(met,{})})]}),J.jsx("div",{className:"grid-special-color grid-4",children:J.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 size-full",children:[J.jsx("p",{className:"text-center headtext",children:"Do you want to start a project together?"}),J.jsx(get,{})]})}),J.jsxs("div",{className:"grid-default-color grid-5",children:[J.jsxs("div",{className:"z-10 w-[50%]",children:[J.jsx("p",{className:"headtext",children:"Tech Stack"}),J.jsx("p",{className:"subtext",children:"I specialize in modern web technologies, frameworks, and development tools that help me build fast, responsive, and scalable websites and web applications."})]}),J.jsx("div",{className:"absolute inset-y-0 md:inset-y-9 w-full h-full start-[50%] md:scale-125",children:J.jsx(vet,{})})]})]})]})},xet=({data:n})=>{const t=K.useRef(null),e=K.useRef(null),[i,s]=K.useState(0);K.useEffect(()=>{if(typeof window>"u"||!t.current)return;const h=t.current,p=()=>s(h.getBoundingClientRect().height);p();let m;return typeof ResizeObserver<"u"&&(m=new ResizeObserver(()=>p()),m.observe(h)),window.addEventListener("resize",p),()=>{var v;(v=m==null?void 0:m.disconnect)==null||v.call(m),window.removeEventListener("resize",p)}},[]);const{scrollYProgress:r}=v9({target:e,offset:["start 10%","end 50%"]}),o=LR(r,[0,1],[0,i]),c=LR(r,[0,.1],[0,1]);return J.jsx("div",{ref:e,className:"relative w-full",children:J.jsxs("div",{ref:t,className:"relative pb-20 mt-4",children:[n.map((h,p)=>J.jsxs("div",{className:`flex justify-start md:gap-10 ${p===0?"pt-4 md:pt-8":"pt-10 md:pt-40"}`,children:[J.jsxs("div",{className:"sticky z-40 flex flex-col items-center self-start max-w-xs md:flex-row top-40 lg:max-w-sm md:w-full",children:[J.jsx("div",{className:"absolute flex items-center justify-center w-10 h-10 rounded-full -left-[15px] bg-midnight",children:J.jsx("div",{className:"w-4 h-4 p-2 border rounded-full bg-neutral-800 border-neutral-700"})}),J.jsxs("div",{className:"flex-col hidden gap-2 text-xl font-bold md:flex md:pl-20 md:text-4xl text-neutral-300",children:[J.jsx("h3",{children:h.date}),J.jsx("h3",{className:"text-3xl text-neutral-400",children:h.title}),J.jsx("h3",{className:"text-3xl text-neutral-500",children:h.job})]})]}),J.jsxs("div",{className:"relative w-full pl-20 pr-4 md:pl-4",children:[J.jsxs("div",{className:"block mb-4 text-2xl font-bold text-left text-neutral-300 md:hidden ",children:[J.jsx("h3",{children:h.date}),J.jsx("h3",{children:h.job})]}),h.contents.map((m,v)=>J.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:m},v))]})]},p)),J.jsx("div",{style:{height:i+"px"},className:"absolute md:left-1 left-1 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-700 to-transparent to-[99%]  [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] ",children:J.jsx(ch.div,{style:{height:o,opacity:c},className:"absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t from-purple-500 via-lavender/50 to-transparent from-[0%] via-[10%] rounded-full"})})]})})},_et=[{name:"WhatsApp",href:"",icon:"/assets/socials/whatsApp.svg",iconLight:"/assets/socials/whatsApp-light.svg",iconDark:"/assets/socials/whatsApp.svg"},{name:"Linkedin",href:"https://www.linkedin.com/in/amit-sarkar-4baa5b320/",icon:"/assets/socials/linkedIn.svg",iconLight:"/assets/socials/linkedIn-light.svg",iconDark:"/assets/socials/linkedIn.svg"},{name:"Instagram",href:"https://www.instagram.com/amit_._sarkar/",icon:"/assets/socials/instagram.svg",iconLight:"/assets/socials/instagram-light.svg",iconDark:"/assets/socials/instagram.svg"},{name:"Github",href:"https://github.com/amit-sarkar-svg",icon:"/assets/socials/github-dark.svg",iconLight:"/assets/socials/github-light.svg",iconDark:"/assets/socials/github-dark.svg"}],bet=[{title:"TO-Do App",job:"Full-Stack Web Application",date:"2024",contents:[" Built a full-stack app using React, Node.js, Express.js, and MongoDB."," Created API-driven UI with full CRUD via RESTful backend services."," Implemented state management + filtering for a better user experience."," Containerized backend services with Docker for consistent development/deployment."," Deployed frontend on Vercel and explored AWS EC2 deployment workflows."]},{title:"Full-Stack Authentication System",job:"Secure Web Application",date:"2024",contents:[" Developed secure authentication using React, Node.js, Express.js, and MongoDB."," Implemented JWT-based auth + bcrypt password hashing for secure access control."," Added role-based authorization (Admin/User) with middleware and protected routes."," Documented REST APIs with Swagger UI and validated endpoints via structured API testing."]},{title:"API Test Automation Framework",job:"QA & Automation Project",date:"2025",contents:[" Built an automated API testing framework using Python + PyTest for REST services."," Created reusable test modules with assertions, parameterized cases, and test reports."," Integrated automated runs into GitHub Actions CI for continuous testing."," Improved API reliability by catching edge cases and regression issues early."]},{title:"Personal Portfolio",job:"Frontend Project",date:"2025",contents:[" Designed and built a modern, responsive portfolio with React + Tailwind CSS."," Implemented smooth navigation, section-based layout, and clean UI/UX interactions."," Optimized performance (lazy-loading, reduced rendering work) for smooth scrolling."," Showcases projects, skills, contact form, and social links in one place."]}],OT=({children:n,direction:t="up",delay:e=0,duration:i=.6,distance:s=50,className:r=""})=>{const o=K.useRef(null),c=b9(o,{once:!0,margin:"-100px"}),p={hidden:{up:{y:s,opacity:0},down:{y:-s,opacity:0},left:{x:s,opacity:0},right:{x:-s,opacity:0},scale:{scale:.8,opacity:0},fade:{opacity:0}}[t],visible:{x:0,y:0,scale:1,opacity:1,transition:{duration:i,delay:e,ease:[.25,.46,.45,.94]}}};return J.jsx(ch.div,{ref:o,initial:"hidden",animate:c?"visible":"hidden",variants:p,className:r,children:n})},Met=()=>J.jsxs("section",{className:"c-space section-spacing",id:"projects",children:[J.jsx(OT,{direction:"up",delay:.2,children:J.jsx("h2",{className:"text-heading",children:"Projects"})}),J.jsx(OT,{direction:"up",delay:.4,children:J.jsx("div",{className:"w-full mt-12",children:J.jsx(xet,{data:bet})})})]});class tv{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const Tet=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,t)=>Promise.resolve(localStorage.setItem(n,t)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Ls={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Tet()},ZA=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},Eet=(n,t="https://api.emailjs.com")=>{if(!n)return;const e=ZA(n);Ls.publicKey=e.publicKey,Ls.blockHeadless=e.blockHeadless,Ls.storageProvider=e.storageProvider,Ls.blockList=e.blockList,Ls.limitRate=e.limitRate,Ls.origin=e.origin||t},$B=async(n,t,e={})=>{const i=await fetch(Ls.origin+n,{method:"POST",headers:e,body:t}),s=await i.text(),r=new tv(i.status,s);if(i.ok)return r;throw r},JB=(n,t,e)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Aet=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},t4=n=>n.webdriver||!n.languages||n.languages.length===0,e4=()=>new tv(451,"Unavailable For Headless Browser"),wet=(n,t)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},Cet=n=>{var t;return!((t=n.list)!=null&&t.length)||!n.watchVariable},Ret=(n,t)=>n instanceof FormData?n.get(t):n[t],n4=(n,t)=>{if(Cet(n))return!1;wet(n.list,n.watchVariable);const e=Ret(t,n.watchVariable);return typeof e!="string"?!1:n.list.includes(e)},i4=()=>new tv(403,"Forbidden"),Det=(n,t)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},Net=async(n,t,e)=>{const i=Number(await e.get(n)||0);return t-Date.now()+i},s4=async(n,t,e)=>{if(!t.throttle||!e)return!1;Det(t.throttle,t.id);const i=t.id||n;return await Net(i,t.throttle,e)>0?!0:(await e.set(i,Date.now().toString()),!1)},a4=()=>new tv(429,"Too Many Requests"),Let=async(n,t,e,i)=>{const s=ZA(i),r=s.publicKey||Ls.publicKey,o=s.blockHeadless||Ls.blockHeadless,c=s.storageProvider||Ls.storageProvider,h={...Ls.blockList,...s.blockList},p={...Ls.limitRate,...s.limitRate};return o&&t4(navigator)?Promise.reject(e4()):(JB(r,n,t),Aet(e),e&&n4(h,e)?Promise.reject(i4()):await s4(location.pathname,p,c)?Promise.reject(a4()):$B("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"}))},Uet=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Oet=n=>typeof n=="string"?document.querySelector(n):n,Pet=async(n,t,e,i)=>{const s=ZA(i),r=s.publicKey||Ls.publicKey,o=s.blockHeadless||Ls.blockHeadless,c=Ls.storageProvider||s.storageProvider,h={...Ls.blockList,...s.blockList},p={...Ls.limitRate,...s.limitRate};if(o&&t4(navigator))return Promise.reject(e4());const m=Oet(e);JB(r,n,t),Uet(m);const v=new FormData(m);return n4(h,v)?Promise.reject(i4()):await s4(location.pathname,p,c)?Promise.reject(a4()):(v.append("lib_version","4.4.1"),v.append("service_id",n),v.append("template_id",t),v.append("user_id",r),$B("/api/v1.0/email/send-form",v))},zet={init:Eet,send:Let,sendForm:Pet,EmailJSResponseStatus:tv},Bet=({type:n,text:t})=>{const e={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8}};return J.jsx(BN,{children:J.jsx(Qi.div,{className:"fixed z-50 flex items-center justify-center bottom-5 right-5",initial:"hidden",animate:"visible",exit:"exit",variants:e,transition:{duration:.3,ease:"easeInOut"},children:J.jsxs("div",{className:`p-2 ${n==="danger"?"bg-red-800":"bg-royal"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex rounded-md p-5`,children:[J.jsx("p",{className:`flex rounded-full ${n==="danger"?"bg-red-500":"bg-lavender"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:n==="danger"?"Failed":"Success"}),J.jsx("p",{className:"mr-2 text-left",children:t})]})})})},Vet=()=>{const[n,t]=K.useState({name:"",email:"",message:""}),[e,i]=K.useState(!1),[s,r]=K.useState(!1),[o,c]=K.useState("success"),[h,p]=K.useState(""),m=_=>{t({...n,[_.target.name]:_.target.value})},v=(_,T)=>{c(_),p(T),r(!0),setTimeout(()=>{r(!1)},5e3)},x=async _=>{_.preventDefault(),i(!0);try{console.log("Form submitted:",n),await zet.send("service_79b0nyj","template_17us8im",{from_name:n.name,to_name:"Pritha",from_email:n.email,to_email:"pritha.ghosal@email.com",message:n.message},"pn-Bw_mS1_QQdofuV"),i(!1),t({name:"",email:"",message:""}),v("success","Your message has been sent!")}catch(T){i(!1),console.log(T),v("danger","Something went wrong!")}};return J.jsxs("section",{id:"contact",className:"relative flex items-center justify-center min-h-screen c-space section-spacing",children:[J.jsx(LB,{className:"absolute inset-0 -z-50",quantity:100,ease:80,color:"#ffffff",refresh:!0}),s&&J.jsx(Bet,{type:o,text:h}),J.jsx(OT,{direction:"up",delay:.3,children:J.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[J.jsxs("div",{className:"flex flex-col items-center text-center w-full gap-5 mb-10",children:[J.jsx("h2",{className:"text-heading",children:"Let's Talk"}),J.jsx("p",{className:"font-normal text-neutral-400",children:"Whether you're looking to build a modern website, create a responsive landing page, or develop a full-stack web application, Im here to help bring your ideas to life. Specializing in HTML, CSS, JavaScript, React, and clean UI/UX with performance in mind. Based in Haryana, India and available for remote collaboration."})]}),J.jsxs("form",{className:"w-full",onSubmit:x,children:[J.jsxs("div",{className:"mb-5",children:[J.jsx("label",{htmlFor:"name",className:"field-label",children:"Full Name"}),J.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"John Doe",autoComplete:"name",value:n.name,onChange:m,required:!0})]}),J.jsxs("div",{className:"mb-5",children:[J.jsx("label",{htmlFor:"email",className:"field-label",children:"Email"}),J.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"JohnDoe@email.com",autoComplete:"email",value:n.email,onChange:m,required:!0})]}),J.jsxs("div",{className:"mb-5",children:[J.jsx("label",{htmlFor:"message",className:"field-label",children:"Message"}),J.jsx("textarea",{id:"message",name:"message",type:"text",rows:"4",className:"field-input field-input-focus",placeholder:"Share your thoughts...",autoComplete:"message",value:n.message,onChange:m,required:!0})]}),J.jsx("button",{type:"submit",className:"w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender to-royal hover-animation",children:e?"Sending...":"Send"})]})]})})]})},Iet=()=>{const{theme:n}=JO();return J.jsxs("section",{className:"flex flex-wrap items-center justify-between gap-5 pb-3 text-sm text-neutral-400 c-space",children:[J.jsx("div",{className:"mb-4 bg-gradient-to-r from-transparent via-neutral-700 to-transparent h-[1px] w-full"}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("p",{children:"Terms & Conditions"}),J.jsx("p",{children:"|"}),J.jsx("p",{children:"Privacy Policy"})]}),J.jsx("div",{className:"flex gap-3",children:_et.map((t,e)=>{const i=n==="light"&&t.iconLight?t.iconLight:t.iconDark||t.icon;return J.jsx("a",{href:t.href,children:J.jsx("img",{src:i||t.icon,className:"w-5 h-5",alt:t.name})},e)})}),J.jsx("p",{children:" 2025 Amit Sarkar. All rights reserved."})]})},Fet=()=>(K.useEffect(()=>{["/assets/sky.jpg","/assets/mountain-1.png","/assets/mountain-2.png","/assets/mountain-3.png","/assets/planets.png","/assets/coding-pov.png"].forEach(t=>{const e=new Image;e.src=t})},[]),null),Het=()=>(K.useEffect(()=>{var s,r;if(typeof window<"u"&&((r=(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:r.matches))return;const t=new oV({duration:1.1,easing:o=>1-Math.pow(1-o,3),smoothWheel:!0,smoothTouch:!0});let e=0;const i=o=>{t.raf(o),e=requestAnimationFrame(i)};return e=requestAnimationFrame(i),()=>{cancelAnimationFrame(e),t.destroy()}},[]),J.jsx(M9,{children:J.jsxs("div",{className:"min-h-screen w-full",children:[J.jsx(Fet,{}),J.jsx(T9,{}),J.jsx(uet,{}),J.jsx(yet,{}),J.jsx(Met,{}),J.jsx(Vet,{}),J.jsx(Iet,{})]})}));UN.createRoot(document.getElementById("root")).render(J.jsx(K.StrictMode,{children:J.jsx(Het,{})}));export{m0 as $,Xi as A,qn as B,fe as C,Oz as D,El as E,Sc as F,Nu as G,sz as H,nz as I,az as J,lp as K,ka as L,xz as M,rp as N,An as O,Uz as P,ts as Q,h1 as R,Lz as S,z9 as T,ji as U,Vt as V,kP as W,Eh as X,C1 as Y,w0 as Z,yA as _,V9 as a,X_ as a0,yh as a1,Ni as a2,A0 as a3,E0 as a4,Q0 as a5,yc as a6,K0 as a7,xa as a8,Js as a9,gB as aa,K as ab,Rq as ac,jA as ad,vE as ae,gU as af,J as ag,B9 as b,gT as c,Ve as d,Z as e,Mp as f,sq as g,uq as h,w1 as i,dl as j,Hg as k,eA as l,$i as m,Us as n,d0 as o,p0 as p,Nr as q,xA as r,ta as s,_a as t,wA as u,_o as v,Pu as w,Tn as x,en as y,ez as z};
